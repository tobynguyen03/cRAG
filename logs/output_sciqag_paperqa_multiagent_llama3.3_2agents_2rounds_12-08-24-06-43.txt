Running experiment: sciqag_paperqa_multiagent_llama3.3_2agents_2rounds
saving results to: datasets/SciQAG/answer_results/paperqa_multiagent_llama3.3_2agents_2rounds 




 ANSWERING QUESTION: sciqag_question_1.json
 ----------------------------- 



--- ROUND 1/2 ---
[06:47:23] Starting paper search for 'Type 1 diabetes causes'.                                                                                                                                                                            
           paper_search for query 'Type 1 diabetes causes' and offset 0 returned 8 papers.                                                                                                                                                
           Status: Paper Count=8 | Relevant Papers=0 | Current Evidence=0 | Current Cost=$0.0000                                                                                                                                          
got papers
[06:47:25] gather_evidence starting for question 'What is Type 1 diabetes and what causes it?'.                                                                                                                                           
[06:48:36] Status: Paper Count=8 | Relevant Papers=1 | Current Evidence=2 | Current Cost=$0.0000                                                                                                                                          
[06:48:40] Generating answer for 'What is Type 1 diabetes and what causes it?'.                                                                                                                                                           
[06:49:09] Status: Paper Count=8 | Relevant Papers=1 | Current Evidence=2 | Current Cost=$0.0000                                                                                                                                          
           Answer: Type 1 diabetes is an autoimmune disease characterized by the selective destruction of insulin-producing beta cells in the pancreatic islets, leading to a lack of insulin production. The causes are believed to be   
           associated with genetics, environmental factors, nutritional effects, or a combination of these. This understanding is based on No2024 chunk 1, which provides a direct definition and explanation of Type 1 diabetes.         
                                                                                                                                                                                                                                          
           The context from other chunks (No2024 chunk 4, Braker chunk 3, No2024 chunk 2, No2024 chunk 3) supports the complexity of Type 1 diabetes by discussing enhanced endogenous glucose production due to gluconeogenesis, the use 
           of streptozotocin in experimental models to induce diabetes, and the analysis of metabolites associated with diabetes in diabetic rats. However, these chunks do not directly contribute to understanding the causes of Type 1 
           diabetes in humans but rather highlight aspects of the disease's manifestation and study.                                                                                                                                      
                                                                                                                                                                                                                                          
           Agent 2's summarization does not provide additional insights as it defaults to a generic answer and reasoning. Therefore, my analysis relies solely on the context provided by the No2024 chunks and Braker chunk 3.           
                                                                                                                                                                                                                                          
           Given the information, I conclude that Type 1 diabetes is primarily characterized by the autoimmune destruction of pancreatic beta cells, with its causes linked to genetic, environmental, nutritional factors, or a          
           combination thereof. The experimental models and studies mentioned in other chunks offer insight into the disease's effects and potential areas for research but do not elucidate the human causes beyond what No2024 chunk 1  
           states.                                                                                                                                                                                                                        
                                                                                                                                                                                                                                          
           ANSWER SUMMARY: Type 1 diabetes is an autoimmune disease causing insulin deficiency due to beta cell destruction, with causes including genetics, environment, nutrition, or a combination.                                    
           REASONING SUMMARY: My reasoning process involved analyzing the direct definition from No2024 chunk 1 and considering complementary insights from other chunks and agent summarizations, concluding that the primary cause of   
           Type 1 diabetes is linked to autoimmune beta cell destruction influenced by various factors.                                                                                                                                   
Agent 1 answer time: 366.82784938812256
[06:49:13] Starting paper search for 'Type 1 diabetes causes'.                                                                                                                                                                            
           paper_search for query 'Type 1 diabetes causes' and offset 0 returned 8 papers.                                                                                                                                                
           Status: Paper Count=8 | Relevant Papers=0 | Current Evidence=0 | Current Cost=$0.0000                                                                                                                                          
got papers
[06:49:15] gather_evidence starting for question 'What is Type 1 diabetes and what causes it?'.                                                                                                                                           
[06:50:01] Status: Paper Count=8 | Relevant Papers=1 | Current Evidence=2 | Current Cost=$0.0000                                                                                                                                          
[06:50:04] Generating answer for 'What is Type 1 diabetes and what causes it?'.                                                                                                                                                           
[06:50:35] Status: Paper Count=8 | Relevant Papers=1 | Current Evidence=2 | Current Cost=$0.0000                                                                                                                                          
           Answer: Type 1 diabetes is an autoimmune disease characterized by the selective destruction of insulin-producing beta cells in the pancreatic islets, resulting in insulin deficiency. The causes of Type 1 diabetes are       
           multifactorial and include genetics, environmental factors, nutritional effects, or a combination of these. This understanding is based on the direct definition provided in No2024 chunk 1, which states that Type 1 diabetes 
           affects roughly 0.5% of the population in developed countries and is associated with various contributing factors.                                                                                                             
                                                                                                                                                                                                                                          
           The summarization from Agent 1 aligns with this interpretation, highlighting that Type 1 diabetes is an autoimmune disease causing insulin deficiency due to beta cell destruction, with causes including genetics,            
           environment, nutrition, or a combination. This agreement reinforces the conclusion that the primary cause of Type 1 diabetes is linked to autoimmune beta cell destruction influenced by various factors.                      
                                                                                                                                                                                                                                          
           Complementary insights from other chunks, such as No2024 chunk 4 and Braker chunk 3, further support this understanding by discussing the consequences of insulin deficiency, including enhanced endogenous glucose production 
           (EGP) and the breakdown of glycogen, which contribute to increased glucose levels. Additionally, the use of streptozotocin-treated animals in experimental models, as mentioned in Braker chunk 3, is a common method for      
           inducing diabetes, underscoring the autoimmune nature of Type 1 diabetes.                                                                                                                                                      
                                                                                                                                                                                                                                          
           In my reasoning process, I analyzed the direct definitions and descriptions provided in the context, particularly from No2024 chunk 1, and considered the complementary insights from other chunks and agent summarizations. By
           identifying points of agreement, such as the autoimmune cause of Type 1 diabetes, and incorporating additional details on the consequences of insulin deficiency and experimental models, I generated a coherent and accurate  
           understanding of Type 1 diabetes and its causes.                                                                                                                                                                               
                                                                                                                                                                                                                                          
           ANSWER SUMMARY: Type 1 diabetes is an autoimmune disease causing insulin deficiency due to beta cell destruction, with multifactorial causes including genetics, environment, nutrition, or their combination.                 
           REASONING SUMMARY: My reasoning involved analyzing direct definitions from the context, identifying agreements among agent summarizations, and incorporating complementary insights to conclude that Type 1 diabetes is        
           primarily caused by autoimmune beta cell destruction influenced by various factors.                                                                                                                                            
Agent 2 answer time: 85.87587666511536
Round successful.

--- ROUND 2/2 ---
[06:50:38] Starting paper search for 'Type 1 diabetes causes'.                                                                                                                                                                            
[06:50:39] paper_search for query 'Type 1 diabetes causes' and offset 0 returned 8 papers.                                                                                                                                                
           Status: Paper Count=8 | Relevant Papers=0 | Current Evidence=0 | Current Cost=$0.0000                                                                                                                                          
got papers
[06:50:41] gather_evidence starting for question 'What is Type 1 diabetes and what causes it?'.                                                                                                                                           
[06:51:28] Status: Paper Count=8 | Relevant Papers=1 | Current Evidence=3 | Current Cost=$0.0000                                                                                                                                          
[06:51:31] Generating answer for 'What is Type 1 diabetes and what causes it?'.                                                                                                                                                           
[06:52:00] Status: Paper Count=8 | Relevant Papers=1 | Current Evidence=3 | Current Cost=$0.0000                                                                                                                                          
           Answer: Type 1 diabetes is an autoimmune disease characterized by the selective destruction of insulin-producing beta cells in the pancreatic islets, leading to insulin deficiency. The causes of Type 1 diabetes are         
           multifactorial and include genetics, environmental factors, nutritional effects, or a combination of these. This understanding is derived from analyzing direct definitions provided in the context, such as No2024 chunk 1,   
           which explicitly states that Type 1 diabetes results from the autoimmune destruction of beta cells and is influenced by various factors including genetics, environment, and nutrition.                                        
                                                                                                                                                                                                                                          
           The summarization from Agent 2 aligns with this conclusion, emphasizing that Type 1 diabetes is an autoimmune disease causing insulin deficiency due to beta cell destruction, with causes that are multifactorial, including  
           genetics, environment, nutrition, or their combination. This agreement among the context and other agents' summarizations strengthens the conclusion regarding the nature and causes of Type 1 diabetes.                       
                                                                                                                                                                                                                                          
           Incorporating complementary insights from No2024 chunks 4 and 5, as well as Braker chunk 3, provides additional depth into the metabolic implications and experimental models of Type 1 diabetes, such as the role of          
           gluconeogenesis and glycogenolysis in glucose level regulation, and the use of streptozotocin (STZ) to induce a model of Type 1 diabetes. However, these insights do not contradict but rather complement the understanding of 
           Type 1 diabetes as an autoimmune condition with multifactorial causes.                                                                                                                                                         
                                                                                                                                                                                                                                          
           Given the information provided in the context and the summarizations from other agents, there are no significant points of disagreement that would conflict with the conclusion regarding the definition and causes of Type 1  
           diabetes. The consensus among these sources supports a coherent and accurate understanding of the disease.                                                                                                                     
                                                                                                                                                                                                                                          
           ANSWER SUMMARY: Type 1 diabetes is an autoimmune disease caused by the destruction of insulin-producing beta cells, influenced by genetics, environment, nutrition, or their combination.                                      
           REASONING SUMMARY: The answer is based on direct definitions from the context and agreement with other agents' summarizations, incorporating complementary insights without conflicts, to conclude the nature and causes of    
           Type 1 diabetes.                                                                                                                                                                                                               
Agent 1 answer time: 85.30593037605286
[06:52:04] Starting paper search for 'Type 1 diabetes causes'.                                                                                                                                                                            
           paper_search for query 'Type 1 diabetes causes' and offset 0 returned 8 papers.                                                                                                                                                
           Status: Paper Count=8 | Relevant Papers=0 | Current Evidence=0 | Current Cost=$0.0000                                                                                                                                          
got papers
[06:52:06] gather_evidence starting for question 'What is Type 1 diabetes and what causes it?'.                                                                                                                                           
[06:52:51] Status: Paper Count=8 | Relevant Papers=1 | Current Evidence=2 | Current Cost=$0.0000                                                                                                                                          
[06:52:55] Generating answer for 'What is Type 1 diabetes and what causes it?'.                                                                                                                                                           
[06:53:19] Status: Paper Count=8 | Relevant Papers=1 | Current Evidence=2 | Current Cost=$0.0000                                                                                                                                          
           Answer: Type 1 diabetes is an autoimmune disease characterized by the selective destruction of insulin-producing beta cells in the pancreatic islets. This destruction leads to insulin deficiency and changes in glucose      
           metabolism, including enhanced endogenous glucose production (EGP) due to gluconeogenesis fueled by amino acids from degraded protein or dietary ingestion. The causes of Type 1 diabetes are believed to be associated with a 
           combination of genetics, environmental factors, nutritional effects, or their interaction.                                                                                                                                     
                                                                                                                                                                                                                                          
           My reasoning process involves synthesizing information from the provided context and other agents' summarizations. Agent 1's summary directly states that Type 1 diabetes is an autoimmune disease caused by the destruction of
           insulin-producing beta cells, influenced by genetics, environment, nutrition, or their combination, which aligns with the information given in No2024 chunk 1. This agreement across different sources strengthens the         
           conclusion about the nature and causes of Type 1 diabetes. Furthermore, No2024 chunks 2, 3, and 4, along with Braker chunk 3, provide complementary insights into the metabolic changes associated with Type 1 diabetes, such  
           as increased glucose production from non-carbohydrate precursors and altered urinary metabolic profiles in diabetic models. These insights support the understanding of the disease's pathophysiology without contradicting the
           primary cause identified by Agent 1 and the context.                                                                                                                                                                           
                                                                                                                                                                                                                                          
           ANSWER SUMMARY: Type 1 diabetes is an autoimmune disease caused by the destruction of insulin-producing beta cells, leading to insulin deficiency and altered glucose metabolism, with causes linked to genetics, environment, 
           nutrition, or their combination.                                                                                                                                                                                               
           REASONING SUMMARY: The answer is derived from synthesizing direct definitions and complementary insights from the context and other agents' summarizations, resolving into a coherent understanding of Type 1 diabetes' nature 
           and causes.                                                                                                                                                                                                                    
Agent 2 answer time: 79.06025576591492
Round successful.
All rounds successful.
Failed to extract final answer from multiagent consensus.


 ANSWERING QUESTION: sciqag_question_10.json
 ----------------------------- 



--- ROUND 1/2 ---
[06:53:32] Starting paper search for 'metabolite correlations in diabetic and control rats'.                                                                                                                                              
           paper_search for query 'metabolite correlations in diabetic and control rats' and offset 0 returned 8 papers.                                                                                                                  
           Status: Paper Count=8 | Relevant Papers=0 | Current Evidence=0 | Current Cost=$0.0000                                                                                                                                          
got papers
[06:53:35] gather_evidence starting for question 'How did the correlations among the detected metabolites differ between the diabetic and control rats?'.                                                                                 
[06:54:23] Status: Paper Count=8 | Relevant Papers=2 | Current Evidence=7 | Current Cost=$0.0000                                                                                                                                          
[06:54:27] Generating answer for 'How did the correlations among the detected metabolites differ between the diabetic and control rats?'.                                                                                                 
[06:54:54] Status: Paper Count=8 | Relevant Papers=2 | Current Evidence=7 | Current Cost=$0.0000                                                                                                                                          
           Answer: To address the question of how the correlations among the detected metabolites differed between the diabetic and control rats, we must delve into the specifics provided by the context. The study utilized a 1H       
           NMR-based metabolomics approach to investigate metabolic pathway disturbances in STZ-induced diabetes. By analyzing daily excreted quantities of detected metabolites and changes in their correlations, the researchers found 
           distinct differences between diabetic and control rats.                                                                                                                                                                        
                                                                                                                                                                                                                                          
           The context (No2024 chunks 1 through 6) consistently highlights that the correlations among metabolites differed significantly between the two groups. In diabetic rats, certain correlations increased, such as glucose with  
           urea, while others decreased, like glucose with lactate. Additionally, citrate's correlation with alanine, lactate, and succinate also decreased. This suggests a disruption in normal metabolic pathways, potentially         
           indicating impaired glucose homeostasis and altered energy metabolism.                                                                                                                                                         
                                                                                                                                                                                                                                          
           The summarizations from other agents are not directly applicable to this specific question as they do not provide additional insights beyond the context. Agent 2's default answer and reasoning do not contribute new         
           information to the analysis.                                                                                                                                                                                                   
                                                                                                                                                                                                                                          
           Given the evidence from the context, it is clear that diabetic rats exhibited altered correlations among detected metabolites compared to control rats. These alterations included both increased and decreased correlations   
           among various metabolite pairs, reflecting disturbances in metabolic pathways associated with diabetes.                                                                                                                        
                                                                                                                                                                                                                                          
           ANSWER SUMMARY: The correlations among detected metabolites in diabetic rats differed from those in control rats, with changes including increased correlations (e.g., glucose with urea) and decreased correlations (e.g.,    
           glucose with lactate), indicating disrupted metabolic pathways.                                                                                                                                                                
           REASONING SUMMARY: The reasoning process involved analyzing the context provided by No2024 chunks 1 through 6, identifying key differences in metabolite correlations between diabetic and control rats, and concluding that   
           these differences reflect disturbances in metabolic pathways due to diabetes, without significant contributions from other agents' summarizations.                                                                             
Agent 1 answer time: 85.01901483535767
[06:54:57] Starting paper search for 'metabolite correlations in diabetic and control rats'.                                                                                                                                              
           paper_search for query 'metabolite correlations in diabetic and control rats' and offset 0 returned 8 papers.                                                                                                                  
           Status: Paper Count=8 | Relevant Papers=0 | Current Evidence=0 | Current Cost=$0.0000                                                                                                                                          
got papers
[06:55:00] gather_evidence starting for question 'How did the correlations among the detected metabolites differ between the diabetic and control rats?'.                                                                                 
[06:55:47] Status: Paper Count=8 | Relevant Papers=2 | Current Evidence=7 | Current Cost=$0.0000                                                                                                                                          
[06:55:52] Generating answer for 'How did the correlations among the detected metabolites differ between the diabetic and control rats?'.                                                                                                 
[06:56:19] Status: Paper Count=8 | Relevant Papers=2 | Current Evidence=7 | Current Cost=$0.0000                                                                                                                                          
           Answer: The correlations among detected metabolites in diabetic rats differed significantly from those in control rats. In diabetic rats, there was an increase in correlations between glucose and urea, as well as between   
           glucose and certain amino acids like alanine, suggesting enhanced endogenous glucose production fueled by amino acids. Conversely, the correlations between glucose and lactate, and between glucose and tricarboxylic acid    
           (TCA) cycle intermediates like citrate and succinate, were decreased. This disruption in metabolic pathways indicates a shift towards gluconeogenesis and away from glycolysis in diabetic rats.                               
                                                                                                                                                                                                                                          
           The context provided by No2024 chunks 3 through 6 consistently shows that the correlations among metabolites are altered in diabetic rats compared to control rats. For example, No2024 chunk 3 notes that the correlation of  
           glucose with urea increased dramatically in diabetic rats, while the correlation of glucose with lactate decreased. Similarly, Braker chunk 3 highlights distinct metabonomic profiles for diabetic rats, characterized by     
           elevated glucose signals.                                                                                                                                                                                                      
                                                                                                                                                                                                                                          
           My reasoning process involved analyzing these context chunks and identifying key differences in metabolite correlations between diabetic and control rats. Agent 1's summarization also concluded that the correlations among  
           detected metabolites differed between diabetic and control rats, with changes indicating disrupted metabolic pathways. I incorporated this complementary insight to support my conclusion that diabetes leads to significant   
           alterations in metabolic pathways.                                                                                                                                                                                             
                                                                                                                                                                                                                                          
           ANSWER SUMMARY: The correlations among detected metabolites differ significantly between diabetic and control rats, with increased correlations between glucose and urea/amino acids, and decreased correlations between       
           glucose and lactate/TCA cycle intermediates.                                                                                                                                                                                   
           REASONING SUMMARY: My reasoning process analyzed context chunks (No2024 chunks 3-6, Braker chunk 3) and Agent 1's summarization to conclude that diabetes disrupts metabolic pathways, leading to altered correlations among   
           detected metabolites.                                                                                                                                                                                                          
Agent 2 answer time: 86.00111699104309
Round successful.

--- ROUND 2/2 ---
[06:56:26] Starting paper search for 'metabolite correlations in diabetic and control rats'.                                                                                                                                              
           paper_search for query 'metabolite correlations in diabetic and control rats' and offset 0 returned 8 papers.                                                                                                                  
           Status: Paper Count=8 | Relevant Papers=0 | Current Evidence=0 | Current Cost=$0.0000                                                                                                                                          
got papers
[06:56:30] gather_evidence starting for question 'How did the correlations among the detected metabolites differ between the diabetic and control rats?'.                                                                                 
[06:57:33] Status: Paper Count=8 | Relevant Papers=2 | Current Evidence=7 | Current Cost=$0.0000                                                                                                                                          
[06:57:39] Generating answer for 'How did the correlations among the detected metabolites differ between the diabetic and control rats?'.                                                                                                 
[06:58:03] Status: Paper Count=8 | Relevant Papers=2 | Current Evidence=7 | Current Cost=$0.0000                                                                                                                                          
           Answer: The correlations among the detected metabolites differed significantly between diabetic and control rats. In control rats, most metabolites correlated with one another with high correlation coefficients, indicating 
           a highly interconnected metabolic network. In contrast, diabetic rats showed an overall decrease in metabolic correlation, with several correlations decreased or changed. Specifically, the correlation between glucose and   
           urea increased significantly in diabetic rats, while the correlations between glucose and lactate, as well as glucose and TCA cycle intermediates, were disturbed. Additionally, the correlations among TCA intermediates were 
           altered, such as succinate no longer correlating with 2-oxoglutarate and citrate.                                                                                                                                              
                                                                                                                                                                                                                                          
           My reasoning process analyzed the context chunks (No2024 chunks 1, 3-6) and Agent 2's summarization to conclude that diabetes disrupts metabolic pathways, leading to altered correlations among detected metabolites. I       
           incorporated complementary insights from Agent 2's reasoning, which highlighted the increased correlations between glucose and urea/amino acids, and decreased correlations between glucose and lactate/TCA cycle              
           intermediates. The context chunks provided detailed information on the changes in metabolic correlations, allowing me to resolve conflicts and generate a coherent answer.                                                     
                                                                                                                                                                                                                                          
           ANSWER SUMMARY: The correlations among detected metabolites differed significantly between diabetic and control rats, with decreased overall correlations and specific changes, such as increased correlation between glucose  
           and urea, and disturbed correlations between glucose and lactate/TCA cycle intermediates.                                                                                                                                      
           REASONING SUMMARY: My reasoning process analyzed context chunks and Agent 2's summarization to conclude that diabetes disrupts metabolic pathways, leading to altered correlations among detected metabolites, and incorporated
           complementary insights to resolve conflicts and generate a coherent answer.                                                                                                                                                    
Agent 1 answer time: 103.19611430168152
[06:58:06] Starting paper search for 'metabolite correlations in diabetic and control rats'.                                                                                                                                              
           paper_search for query 'metabolite correlations in diabetic and control rats' and offset 0 returned 8 papers.                                                                                                                  
           Status: Paper Count=8 | Relevant Papers=0 | Current Evidence=0 | Current Cost=$0.0000                                                                                                                                          
got papers
[06:58:09] gather_evidence starting for question 'How did the correlations among the detected metabolites differ between the diabetic and control rats?'.                                                                                 
[06:58:58] Status: Paper Count=8 | Relevant Papers=2 | Current Evidence=7 | Current Cost=$0.0000                                                                                                                                          
[06:59:02] Generating answer for 'How did the correlations among the detected metabolites differ between the diabetic and control rats?'.                                                                                                 
[06:59:25] Status: Paper Count=8 | Relevant Papers=2 | Current Evidence=7 | Current Cost=$0.0000                                                                                                                                          
           Answer: The correlations among detected metabolites differed significantly between diabetic and control rats. In control rats, most metabolites correlated with each other with high correlation coefficients, indicating a    
           well-controlled glucose homeostasis. In contrast, diabetic rats showed decreased correlations among many metabolites, with some correlations becoming negative. Specifically, the correlation of glucose with urea increased   
           dramatically in diabetic rats, while its correlation with lactate and TCA cycle intermediates was disturbed. Additionally, the correlations among TCA intermediates were altered, such as succinate no longer correlating with 
           2-oxoglutarate and citrate.                                                                                                                                                                                                    
                                                                                                                                                                                                                                          
           My reasoning process analyzed the context chunks (No2024 chunk 1, No2024 chunk 3, No2024 chunk 4, No2024 chunk 5, No2024 chunk 6) and Agent 1's summarization to conclude that diabetes disrupts metabolic pathways, leading to
           altered correlations among detected metabolites. I incorporated complementary insights from the context chunks, such as the changes in correlation patterns between glucose, lactate, and TCA cycle intermediates, to generate 
           a coherent answer. The context chunks provided detailed information on the differences in correlation patterns between diabetic and control rats, which helped resolve conflicts and generate an accurate answer.              
                                                                                                                                                                                                                                          
           ANSWER SUMMARY: Correlations among detected metabolites differed significantly between diabetic and control rats, with decreased overall correlations and specific changes in glucose, lactate, and TCA cycle intermediate     
           correlations.                                                                                                                                                                                                                  
           REASONING SUMMARY: Analyzed context chunks and Agent 1's summarization to conclude that diabetes disrupts metabolic pathways, incorporating complementary insights to resolve conflicts and generate a coherent answer.        
Agent 2 answer time: 82.59583640098572
Round successful.
All rounds successful.
Failed to extract final answer from multiagent consensus.


 ANSWERING QUESTION: sciqag_question_100.json
 ----------------------------- 



--- ROUND 1/2 ---
[06:59:38] Starting paper search for 'aniline derivatives detection study'.                                                                                                                                                               
           paper_search for query 'aniline derivatives detection study' and offset 0 returned 8 papers.                                                                                                                                   
           Status: Paper Count=8 | Relevant Papers=0 | Current Evidence=0 | Current Cost=$0.0000                                                                                                                                          
got papers
[06:59:40] gather_evidence starting for question 'How were the derivatives of aniline detected in this study?'.                                                                                                                           

[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.

[07:03:10] Trajectory failed.                                                                                                                                                                                                             
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1109 in _wrap_create_connection                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1106 â”‚   â”‚   â”‚   async with ceil_timeout(                                                                                                                                                                                 â”‚
           â”‚   1107 â”‚   â”‚   â”‚   â”‚   timeout.sock_connect, ceil_threshold=timeout.ceil_threshold                                                                                                                                          â”‚
           â”‚   1108 â”‚   â”‚   â”‚   ):                                                                                                                                                                                                       â”‚
           â”‚ â± 1109 â”‚   â”‚   â”‚   â”‚   sock = await aiohappyeyeballs.start_connection(                                                                                                                                                      â”‚
           â”‚   1110 â”‚   â”‚   â”‚   â”‚   â”‚   addr_infos=addr_infos,                                                                                                                                                                           â”‚
           â”‚   1111 â”‚   â”‚   â”‚   â”‚   â”‚   local_addr_infos=self._local_addr_infos,                                                                                                                                                         â”‚
           â”‚   1112 â”‚   â”‚   â”‚   â”‚   â”‚   happy_eyeballs_delay=self._happy_eyeballs_delay,                                                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohappyeyeballs/impl.py:123 in start_connection                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   120 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   isinstance(exc, OSError) and exc.errno == first_errno                                                                                                                                         â”‚
           â”‚   121 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   for exc in all_exceptions                                                                                                                                                                     â”‚
           â”‚   122 â”‚   â”‚   â”‚   â”‚   â”‚   ):                                                                                                                                                                                                â”‚
           â”‚ â± 123 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   raise OSError(first_errno, msg)                                                                                                                                                               â”‚
           â”‚   124 â”‚   â”‚   â”‚   â”‚   elif isinstance(first_exception, RuntimeError) and all(                                                                                                                                               â”‚
           â”‚   125 â”‚   â”‚   â”‚   â”‚   â”‚   isinstance(exc, RuntimeError) for exc in all_exceptions                                                                                                                                           â”‚
           â”‚   126 â”‚   â”‚   â”‚   â”‚   ):                                                                                                                                                                                                    â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           ConnectionRefusedError: [Errno 111] Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11434)                                                            
                                                                                                                                                                                                                                          
           The above exception was the direct cause of the following exception:                                                                                                                                                           
                                                                                                                                                                                                                                          
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py:477 in acompletion                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    474 â”‚   â”‚   â”‚   â”‚   â”‚   response = ModelResponse(**init_response)                                                                                                                                                        â”‚
           â”‚    475 â”‚   â”‚   â”‚   â”‚   response = init_response                                                                                                                                                                             â”‚
           â”‚    476 â”‚   â”‚   â”‚   elif asyncio.iscoroutine(init_response):                                                                                                                                                                 â”‚
           â”‚ â±  477 â”‚   â”‚   â”‚   â”‚   response = await init_response                                                                                                                                                                       â”‚
           â”‚    478 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                    â”‚
           â”‚    479 â”‚   â”‚   â”‚   â”‚   response = init_response  # type: ignore                                                                                                                                                             â”‚
           â”‚    480                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py:564 in ollama_acompletion                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   561 â”‚   â”‚   â”‚   )                                                                                                                                                                                                         â”‚
           â”‚   562 â”‚   â”‚   â”‚   return model_response                                                                                                                                                                                     â”‚
           â”‚   563 â”‚   except Exception as e:                                                                                                                                                                                            â”‚
           â”‚ â± 564 â”‚   â”‚   raise e  # don't use verbose_logger.exception, if exception is raised                                                                                                                                         â”‚
           â”‚   565                                                                                                                                                                                                                       â”‚
           â”‚   566                                                                                                                                                                                                                       â”‚
           â”‚   567 async def ollama_aembeddings(                                                                                                                                                                                         â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py:505 in ollama_acompletion                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   502 â”‚   try:                                                                                                                                                                                                              â”‚
           â”‚   503 â”‚   â”‚   timeout = aiohttp.ClientTimeout(total=litellm.request_timeout)  # 10 minutes                                                                                                                                  â”‚
           â”‚   504 â”‚   â”‚   async with aiohttp.ClientSession(timeout=timeout) as session:                                                                                                                                                 â”‚
           â”‚ â± 505 â”‚   â”‚   â”‚   resp = await session.post(url, json=data)                                                                                                                                                                 â”‚
           â”‚   506 â”‚   â”‚   â”‚                                                                                                                                                                                                             â”‚
           â”‚   507 â”‚   â”‚   â”‚   if resp.status != 200:                                                                                                                                                                                    â”‚
           â”‚   508 â”‚   â”‚   â”‚   â”‚   text = await resp.text()                                                                                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/client.py:696 in _request                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    693 â”‚   â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                    â”‚
           â”‚    694 â”‚   â”‚   â”‚   â”‚   â”‚   # connection timeout                                                                                                                                                                             â”‚
           â”‚    695 â”‚   â”‚   â”‚   â”‚   â”‚   try:                                                                                                                                                                                             â”‚
           â”‚ â±  696 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   conn = await self._connector.connect(                                                                                                                                                        â”‚
           â”‚    697 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   req, traces=traces, timeout=real_timeout                                                                                                                                                 â”‚
           â”‚    698 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                            â”‚
           â”‚    699 â”‚   â”‚   â”‚   â”‚   â”‚   except asyncio.TimeoutError as exc:                                                                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:544 in connect                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    541 â”‚   â”‚   â”‚   â”‚   if traces:                                                                                                                                                                                           â”‚
           â”‚    542 â”‚   â”‚   â”‚   â”‚   â”‚   for trace in traces:                                                                                                                                                                             â”‚
           â”‚    543 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   await trace.send_connection_create_start()                                                                                                                                                   â”‚
           â”‚ â±  544 â”‚   â”‚   â”‚   â”‚   proto = await self._create_connection(req, traces, timeout)                                                                                                                                          â”‚
           â”‚    545 â”‚   â”‚   â”‚   â”‚   if traces:                                                                                                                                                                                           â”‚
           â”‚    546 â”‚   â”‚   â”‚   â”‚   â”‚   for trace in traces:                                                                                                                                                                             â”‚
           â”‚    547 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   await trace.send_connection_create_end()                                                                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1050 in _create_connection                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1047 â”‚   â”‚   if req.proxy:                                                                                                                                                                                                â”‚
           â”‚   1048 â”‚   â”‚   â”‚   _, proto = await self._create_proxy_connection(req, traces, timeout)                                                                                                                                     â”‚
           â”‚   1049 â”‚   â”‚   else:                                                                                                                                                                                                        â”‚
           â”‚ â± 1050 â”‚   â”‚   â”‚   _, proto = await self._create_direct_connection(req, traces, timeout)                                                                                                                                    â”‚
           â”‚   1051 â”‚   â”‚                                                                                                                                                                                                                â”‚
           â”‚   1052 â”‚   â”‚   return proto                                                                                                                                                                                                 â”‚
           â”‚   1053                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1394 in _create_direct_connection                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1391 â”‚   â”‚   â”‚   return transp, proto                                                                                                                                                                                     â”‚
           â”‚   1392 â”‚   â”‚   else:                                                                                                                                                                                                        â”‚
           â”‚   1393 â”‚   â”‚   â”‚   assert last_exc is not None                                                                                                                                                                              â”‚
           â”‚ â± 1394 â”‚   â”‚   â”‚   raise last_exc                                                                                                                                                                                           â”‚
           â”‚   1395 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   1396 â”‚   async def _create_proxy_connection(                                                                                                                                                                              â”‚
           â”‚   1397 â”‚   â”‚   self, req: ClientRequest, traces: List["Trace"], timeout: "ClientTimeout"                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1363 in _create_direct_connection                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1360 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚   1361 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚   1362 â”‚   â”‚   â”‚   try:                                                                                                                                                                                                     â”‚
           â”‚ â± 1363 â”‚   â”‚   â”‚   â”‚   transp, proto = await self._wrap_create_connection(                                                                                                                                                  â”‚
           â”‚   1364 â”‚   â”‚   â”‚   â”‚   â”‚   self._factory,                                                                                                                                                                                   â”‚
           â”‚   1365 â”‚   â”‚   â”‚   â”‚   â”‚   timeout=timeout,                                                                                                                                                                                 â”‚
           â”‚   1366 â”‚   â”‚   â”‚   â”‚   â”‚   ssl=sslcontext,                                                                                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1124 in _wrap_create_connection                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1121 â”‚   â”‚   except OSError as exc:                                                                                                                                                                                       â”‚
           â”‚   1122 â”‚   â”‚   â”‚   if exc.errno is None and isinstance(exc, asyncio.TimeoutError):                                                                                                                                          â”‚
           â”‚   1123 â”‚   â”‚   â”‚   â”‚   raise                                                                                                                                                                                                â”‚
           â”‚ â± 1124 â”‚   â”‚   â”‚   raise client_error(req.connection_key, exc) from exc                                                                                                                                                     â”‚
           â”‚   1125 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   1126 â”‚   async def _wrap_existing_connection(                                                                                                                                                                             â”‚
           â”‚   1127 â”‚   â”‚   self,                                                                                                                                                                                                        â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           ClientConnectorError: Cannot connect to host localhost:11434 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11434)]                     
                                                                                                                                                                                                                                          
           During handling of the above exception, another exception occurred:                                                                                                                                                            
                                                                                                                                                                                                                                          
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:276 in _run_with_timeout_failure                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   273 ) -> tuple[PQASession, AgentStatus]:                                                                                                                                                                                  â”‚
           â”‚   274 â”‚   try:                                                                                                                                                                                                              â”‚
           â”‚   275 â”‚   â”‚   async with asyncio.timeout(query.settings.agent.timeout):                                                                                                                                                     â”‚
           â”‚ â± 276 â”‚   â”‚   â”‚   status = await rollout()                                                                                                                                                                                  â”‚
           â”‚   277 â”‚   except TimeoutError:                                                                                                                                                                                              â”‚
           â”‚   278 â”‚   â”‚   logger.warning(                                                                                                                                                                                               â”‚
           â”‚   279 â”‚   â”‚   â”‚   f"Agent timeout after {query.settings.agent.timeout}-sec, just answering."                                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:410 in rollout                                                                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   407 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                     â”‚
           â”‚   408 â”‚   â”‚   â”‚   â”‚   return AgentStatus.TRUNCATED                                                                                                                                                                          â”‚
           â”‚   409 â”‚   â”‚   â”‚   agent_state.messages += obs                                                                                                                                                                               â”‚
           â”‚ â± 410 â”‚   â”‚   â”‚   for attempt in Retrying(                                                                                                                                                                                  â”‚
           â”‚   411 â”‚   â”‚   â”‚   â”‚   stop=stop_after_attempt(5),                                                                                                                                                                           â”‚
           â”‚   412 â”‚   â”‚   â”‚   â”‚   retry=retry_if_exception_type(MalformedMessageError),                                                                                                                                                 â”‚
           â”‚   413 â”‚   â”‚   â”‚   â”‚   before_sleep=before_sleep_log(logger, logging.WARNING),                                                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:443 in __iter__                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   440 â”‚   â”‚                                                                                                                                                                                                                 â”‚
           â”‚   441 â”‚   â”‚   retry_state = RetryCallState(self, fn=None, args=(), kwargs={})                                                                                                                                               â”‚
           â”‚   442 â”‚   â”‚   while True:                                                                                                                                                                                                   â”‚
           â”‚ â± 443 â”‚   â”‚   â”‚   do = self.iter(retry_state=retry_state)                                                                                                                                                                   â”‚
           â”‚   444 â”‚   â”‚   â”‚   if isinstance(do, DoAttempt):                                                                                                                                                                             â”‚
           â”‚   445 â”‚   â”‚   â”‚   â”‚   yield AttemptManager(retry_state=retry_state)                                                                                                                                                         â”‚
           â”‚   446 â”‚   â”‚   â”‚   elif isinstance(do, DoSleep):                                                                                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:376 in iter                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   373 â”‚   â”‚   self._begin_iter(retry_state)                                                                                                                                                                                 â”‚
           â”‚   374 â”‚   â”‚   result = None                                                                                                                                                                                                 â”‚
           â”‚   375 â”‚   â”‚   for action in self.iter_state.actions:                                                                                                                                                                        â”‚
           â”‚ â± 376 â”‚   â”‚   â”‚   result = action(retry_state)                                                                                                                                                                              â”‚
           â”‚   377 â”‚   â”‚   return result                                                                                                                                                                                                 â”‚
           â”‚   378 â”‚                                                                                                                                                                                                                     â”‚
           â”‚   379 â”‚   def _begin_iter(self, retry_state: "RetryCallState") -> None:  # noqa                                                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:398 in <lambda>                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   395 â”‚                                                                                                                                                                                                                     â”‚
           â”‚   396 â”‚   def _post_retry_check_actions(self, retry_state: "RetryCallState") -> None:                                                                                                                                       â”‚
           â”‚   397 â”‚   â”‚   if not (self.iter_state.is_explicit_retry or self.iter_state.retry_run_result):                                                                                                                               â”‚
           â”‚ â± 398 â”‚   â”‚   â”‚   self._add_action_func(lambda rs: rs.outcome.result())                                                                                                                                                     â”‚
           â”‚   399 â”‚   â”‚   â”‚   return                                                                                                                                                                                                    â”‚
           â”‚   400 â”‚   â”‚                                                                                                                                                                                                                 â”‚
           â”‚   401 â”‚   â”‚   if self.after is not None:                                                                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/concurrent/futures/_base.py:449 in result                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   446 â”‚   â”‚   â”‚   â”‚   if self._state in [CANCELLED, CANCELLED_AND_NOTIFIED]:                                                                                                                                                â”‚
           â”‚   447 â”‚   â”‚   â”‚   â”‚   â”‚   raise CancelledError()                                                                                                                                                                            â”‚
           â”‚   448 â”‚   â”‚   â”‚   â”‚   elif self._state == FINISHED:                                                                                                                                                                         â”‚
           â”‚ â± 449 â”‚   â”‚   â”‚   â”‚   â”‚   return self.__get_result()                                                                                                                                                                        â”‚
           â”‚   450 â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                         â”‚
           â”‚   451 â”‚   â”‚   â”‚   â”‚   self._condition.wait(timeout)                                                                                                                                                                         â”‚
           â”‚   452                                                                                                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/concurrent/futures/_base.py:401 in __get_result                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   398 â”‚   def __get_result(self):                                                                                                                                                                                           â”‚
           â”‚   399 â”‚   â”‚   if self._exception:                                                                                                                                                                                           â”‚
           â”‚   400 â”‚   â”‚   â”‚   try:                                                                                                                                                                                                      â”‚
           â”‚ â± 401 â”‚   â”‚   â”‚   â”‚   raise self._exception                                                                                                                                                                                 â”‚
           â”‚   402 â”‚   â”‚   â”‚   finally:                                                                                                                                                                                                  â”‚
           â”‚   403 â”‚   â”‚   â”‚   â”‚   # Break a reference cycle with the exception in self._exception                                                                                                                                       â”‚
           â”‚   404 â”‚   â”‚   â”‚   â”‚   self = None                                                                                                                                                                                           â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:417 in rollout                                                                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   414 â”‚   â”‚   â”‚   â”‚   reraise=True,                                                                                                                                                                                         â”‚
           â”‚   415 â”‚   â”‚   â”‚   ):                                                                                                                                                                                                        â”‚
           â”‚   416 â”‚   â”‚   â”‚   â”‚   with attempt:  # Retrying if ToolSelector fails to select a tool                                                                                                                                      â”‚
           â”‚ â± 417 â”‚   â”‚   â”‚   â”‚   â”‚   action = await agent(agent_state.messages, tools)                                                                                                                                                 â”‚
           â”‚   418 â”‚   â”‚   â”‚   agent_state.messages = [*agent_state.messages, action]                                                                                                                                                    â”‚
           â”‚   419 â”‚   â”‚   â”‚   if on_agent_action_callback:                                                                                                                                                                              â”‚
           â”‚   420 â”‚   â”‚   â”‚   â”‚   await on_agent_action_callback(action, agent_state)                                                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aviary/tools/utils.py:182 in __call__                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   179 â”‚   â”‚   â”‚   self._ledger.messages.extend(messages)                                                                                                                                                                    â”‚
           â”‚   180 â”‚   â”‚   â”‚   messages = self._ledger.messages                                                                                                                                                                          â”‚
           â”‚   181 â”‚   â”‚                                                                                                                                                                                                                 â”‚
           â”‚ â± 182 â”‚   â”‚   model_response = await self._bound_acompletion(                                                                                                                                                               â”‚
           â”‚   183 â”‚   â”‚   â”‚   messages=MessagesAdapter.dump_python(                                                                                                                                                                     â”‚
           â”‚   184 â”‚   â”‚   â”‚   â”‚   messages, exclude_none=True, by_alias=True                                                                                                                                                            â”‚
           â”‚   185 â”‚   â”‚   â”‚   ),                                                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:819 in acompletion                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    816 â”‚   â”‚   â”‚   â”‚   â”‚   original_exception=e,                                                                                                                                                                            â”‚
           â”‚    817 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                    â”‚
           â”‚    818 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚ â±  819 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚    820 â”‚                                                                                                                                                                                                                    â”‚
           â”‚    821 â”‚   async def _acompletion(                                                                                                                                                                                          â”‚
           â”‚    822 â”‚   â”‚   self, model: str, messages: List[Dict[str, str]], **kwargs                                                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:795 in acompletion                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    792 â”‚   â”‚   â”‚   if request_priority is not None and isinstance(request_priority, int):                                                                                                                                   â”‚
           â”‚    793 â”‚   â”‚   â”‚   â”‚   response = await self.schedule_acompletion(**kwargs)                                                                                                                                                 â”‚
           â”‚    794 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                    â”‚
           â”‚ â±  795 â”‚   â”‚   â”‚   â”‚   response = await self.async_function_with_fallbacks(**kwargs)                                                                                                                                        â”‚
           â”‚    796 â”‚   â”‚   â”‚   end_time = time.time()                                                                                                                                                                                   â”‚
           â”‚    797 â”‚   â”‚   â”‚   _duration = end_time - start_time                                                                                                                                                                        â”‚
           â”‚    798 â”‚   â”‚   â”‚   asyncio.create_task(                                                                                                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2792 in async_function_with_fallbacks                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2789 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                            â”‚
           â”‚   2790 â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                â”‚
           â”‚   2791 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚ â± 2792 â”‚   â”‚   â”‚   raise original_exception                                                                                                                                                                                 â”‚
           â”‚   2793 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   2794 â”‚   def _handle_mock_testing_fallbacks(                                                                                                                                                                              â”‚
           â”‚   2795 â”‚   â”‚   self,                                                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2628 in async_function_with_fallbacks                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2625 â”‚   â”‚   â”‚   â”‚   content_policy_fallbacks=content_policy_fallbacks,                                                                                                                                                   â”‚
           â”‚   2626 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚   2627 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚ â± 2628 â”‚   â”‚   â”‚   response = await self.async_function_with_retries(*args, **kwargs)                                                                                                                                       â”‚
           â”‚   2629 â”‚   â”‚   â”‚   verbose_router_logger.debug(f"Async Response: {response}")                                                                                                                                               â”‚
           â”‚   2630 â”‚   â”‚   â”‚   return response                                                                                                                                                                                          â”‚
           â”‚   2631 â”‚   â”‚   except Exception as e:                                                                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2964 in async_function_with_retries                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2961 â”‚   â”‚   â”‚   â”‚   setattr(original_exception, "max_retries", num_retries)                                                                                                                                              â”‚
           â”‚   2962 â”‚   â”‚   â”‚   â”‚   setattr(original_exception, "num_retries", current_attempt)                                                                                                                                          â”‚
           â”‚   2963 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚ â± 2964 â”‚   â”‚   â”‚   raise original_exception                                                                                                                                                                                 â”‚
           â”‚   2965 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   2966 â”‚   async def make_call(self, original_function: Any, *args, **kwargs):                                                                                                                                              â”‚
           â”‚   2967 â”‚   â”‚   """                                                                                                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2876 in async_function_with_retries                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2873 â”‚   â”‚   â”‚   â”‚   model_group=model_group, kwargs=kwargs                                                                                                                                                               â”‚
           â”‚   2874 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚   2875 â”‚   â”‚   â”‚   # if the function call is successful, no exception will be raised and we'll                                                                                                                              â”‚
           â”‚        break out of the loop                                                                                                                                                                                                â”‚
           â”‚ â± 2876 â”‚   â”‚   â”‚   response = await self.make_call(original_function, *args, **kwargs)                                                                                                                                      â”‚
           â”‚   2877 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚   2878 â”‚   â”‚   â”‚   return response                                                                                                                                                                                          â”‚
           â”‚   2879 â”‚   â”‚   except Exception as e:                                                                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2973 in make_call                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2970 â”‚   â”‚   model_group = kwargs.get("model")                                                                                                                                                                            â”‚
           â”‚   2971 â”‚   â”‚   response = original_function(*args, **kwargs)                                                                                                                                                                â”‚
           â”‚   2972 â”‚   â”‚   if inspect.iscoroutinefunction(response) or inspect.isawaitable(response):                                                                                                                                   â”‚
           â”‚ â± 2973 â”‚   â”‚   â”‚   response = await response                                                                                                                                                                                â”‚
           â”‚   2974 â”‚   â”‚   ## PROCESS RESPONSE HEADERS                                                                                                                                                                                  â”‚
           â”‚   2975 â”‚   â”‚   await self.set_response_headers(response=response, model_group=model_group)                                                                                                                                  â”‚
           â”‚   2976                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:949 in _acompletion                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    946 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚    947 â”‚   â”‚   â”‚   if model_name is not None:                                                                                                                                                                               â”‚
           â”‚    948 â”‚   â”‚   â”‚   â”‚   self.fail_calls[model_name] += 1                                                                                                                                                                     â”‚
           â”‚ â±  949 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚    950 â”‚                                                                                                                                                                                                                    â”‚
           â”‚    951 â”‚   def _update_kwargs_with_default_litellm_params(self, kwargs: dict) -> None:                                                                                                                                      â”‚
           â”‚    952 â”‚   â”‚   """                                                                                                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:917 in _acompletion                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    914 â”‚   â”‚   â”‚   â”‚   â”‚   parent_otel_span=parent_otel_span,                                                                                                                                                               â”‚
           â”‚    915 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                    â”‚
           â”‚    916 â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                        â”‚
           â”‚ â±  917 â”‚   â”‚   â”‚   â”‚   response = await _response                                                                                                                                                                           â”‚
           â”‚    918 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚    919 â”‚   â”‚   â”‚   ## CHECK CONTENT FILTER ERROR ##                                                                                                                                                                         â”‚
           â”‚    920 â”‚   â”‚   â”‚   if isinstance(response, ModelResponse):                                                                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/utils.py:1174 in wrapper_async                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1171 â”‚   â”‚   â”‚   â”‚   â”‚   else:                                                                                                                                                                                            â”‚
           â”‚   1172 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   kwargs["model"] = context_window_fallback_dict[model]                                                                                                                                        â”‚
           â”‚   1173 â”‚   â”‚   â”‚   â”‚   â”‚   return await original_function(*args, **kwargs)                                                                                                                                                  â”‚
           â”‚ â± 1174 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚   1175 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   1176 â”‚   is_coroutine = inspect.iscoroutinefunction(original_function)                                                                                                                                                    â”‚
           â”‚   1177                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/utils.py:1030 in wrapper_async                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1027 â”‚   â”‚   â”‚   â”‚   return _caching_handler_response.final_embedding_cached_response                                                                                                                                     â”‚
           â”‚   1028 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚   1029 â”‚   â”‚   â”‚   # MODEL CALL                                                                                                                                                                                             â”‚
           â”‚ â± 1030 â”‚   â”‚   â”‚   result = await original_function(*args, **kwargs)                                                                                                                                                        â”‚
           â”‚   1031 â”‚   â”‚   â”‚   end_time = datetime.datetime.now()                                                                                                                                                                       â”‚
           â”‚   1032 â”‚   â”‚   â”‚   if "stream" in kwargs and kwargs["stream"] is True:                                                                                                                                                      â”‚
           â”‚   1033 â”‚   â”‚   â”‚   â”‚   if (                                                                                                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py:499 in acompletion                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    496 â”‚   â”‚   return response                                                                                                                                                                                              â”‚
           â”‚    497 â”‚   except Exception as e:                                                                                                                                                                                           â”‚
           â”‚    498 â”‚   â”‚   custom_llm_provider = custom_llm_provider or "openai"                                                                                                                                                        â”‚
           â”‚ â±  499 â”‚   â”‚   raise exception_type(                                                                                                                                                                                        â”‚
           â”‚    500 â”‚   â”‚   â”‚   model=model,                                                                                                                                                                                             â”‚
           â”‚    501 â”‚   â”‚   â”‚   custom_llm_provider=custom_llm_provider,                                                                                                                                                                 â”‚
           â”‚    502 â”‚   â”‚   â”‚   original_exception=e,                                                                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/litellm_core_utils/exception_mapping_utils.py:2122 in exception_type                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2119 â”‚   â”‚   # don't let an error with mapping interrupt the user from receiving an error                                                                                                                                 â”‚
           â”‚        from the llm api calls                                                                                                                                                                                               â”‚
           â”‚   2120 â”‚   â”‚   if exception_mapping_worked:                                                                                                                                                                                 â”‚
           â”‚   2121 â”‚   â”‚   â”‚   setattr(e, "litellm_response_headers", litellm_response_headers)                                                                                                                                         â”‚
           â”‚ â± 2122 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚   2123 â”‚   â”‚   else:                                                                                                                                                                                                        â”‚
           â”‚   2124 â”‚   â”‚   â”‚   for error_type in litellm.LITELLM_EXCEPTION_TYPES:                                                                                                                                                       â”‚
           â”‚   2125 â”‚   â”‚   â”‚   â”‚   if isinstance(e, error_type):                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/litellm_core_utils/exception_mapping_utils.py:2098 in exception_type                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2095 â”‚   â”‚   â”‚   â”‚   â”‚   request=original_exception.request,                                                                                                                                                              â”‚
           â”‚   2096 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                    â”‚
           â”‚   2097 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                    â”‚
           â”‚ â± 2098 â”‚   â”‚   â”‚   â”‚   raise APIConnectionError(                                                                                                                                                                            â”‚
           â”‚   2099 â”‚   â”‚   â”‚   â”‚   â”‚   message="{}\n{}".format(                                                                                                                                                                         â”‚
           â”‚   2100 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   str(original_exception), traceback.format_exc()                                                                                                                                              â”‚
           â”‚   2101 â”‚   â”‚   â”‚   â”‚   â”‚   ),                                                                                                                                                                                               â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           APIConnectionError: litellm.APIConnectionError: Cannot connect to host localhost:11434 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1',   
           11434)]                                                                                                                                                                                                                        
           Traceback (most recent call last):                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1109, in _wrap_create_connection                                                                                  
               sock = await aiohappyeyeballs.start_connection(                                                                                                                                                                            
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                            
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohappyeyeballs/impl.py", line 123, in start_connection                                                                                      
               raise OSError(first_errno, msg)                                                                                                                                                                                            
           ConnectionRefusedError: [Errno 111] Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11434)                                                            
                                                                                                                                                                                                                                          
           The above exception was the direct cause of the following exception:                                                                                                                                                           
                                                                                                                                                                                                                                          
           Traceback (most recent call last):                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py", line 477, in acompletion                                                                                                    
               response = await init_response                                                                                                                                                                                             
                          ^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py", line 564, in ollama_acompletion                                                                                      
               raise e  # don't use verbose_logger.exception, if exception is raised                                                                                                                                                      
               ^^^^^^^                                                                                                                                                                                                                    
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py", line 505, in ollama_acompletion                                                                                      
               resp = await session.post(url, json=data)                                                                                                                                                                                  
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                  
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/client.py", line 696, in _request                                                                                                     
               conn = await self._connector.connect(                                                                                                                                                                                      
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                      
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 544, in connect                                                                                                   
               proto = await self._create_connection(req, traces, timeout)                                                                                                                                                                
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1050, in _create_connection                                                                                       
               _, proto = await self._create_direct_connection(req, traces, timeout)                                                                                                                                                      
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                      
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1394, in _create_direct_connection                                                                                
               raise last_exc                                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1363, in _create_direct_connection                                                                                
               transp, proto = await self._wrap_create_connection(                                                                                                                                                                        
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                        
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1124, in _wrap_create_connection                                                                                  
               raise client_error(req.connection_key, exc) from exc                                                                                                                                                                       
           aiohttp.client_exceptions.ClientConnectorError: Cannot connect to host localhost:11434 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1',   
           11434)]                                                                                                                                                                                                                        
                                                                                                                                                                                                                                          
           Received Model Group=ollama/llama3.3                                                                                                                                                                                           
           Available Model Group Fallbacks=None LiteLLM Retried: 2 times, LiteLLM Max Retries: 3                                                                                                                                          
[07:03:12] Answer:                                                                                                                                                                                                                        

[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.

[07:03:33] Trajectory failed.                                                                                                                                                                                                             
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1109 in _wrap_create_connection                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1106 â”‚   â”‚   â”‚   async with ceil_timeout(                                                                                                                                                                                 â”‚
           â”‚   1107 â”‚   â”‚   â”‚   â”‚   timeout.sock_connect, ceil_threshold=timeout.ceil_threshold                                                                                                                                          â”‚
           â”‚   1108 â”‚   â”‚   â”‚   ):                                                                                                                                                                                                       â”‚
           â”‚ â± 1109 â”‚   â”‚   â”‚   â”‚   sock = await aiohappyeyeballs.start_connection(                                                                                                                                                      â”‚
           â”‚   1110 â”‚   â”‚   â”‚   â”‚   â”‚   addr_infos=addr_infos,                                                                                                                                                                           â”‚
           â”‚   1111 â”‚   â”‚   â”‚   â”‚   â”‚   local_addr_infos=self._local_addr_infos,                                                                                                                                                         â”‚
           â”‚   1112 â”‚   â”‚   â”‚   â”‚   â”‚   happy_eyeballs_delay=self._happy_eyeballs_delay,                                                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohappyeyeballs/impl.py:123 in start_connection                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   120 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   isinstance(exc, OSError) and exc.errno == first_errno                                                                                                                                         â”‚
           â”‚   121 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   for exc in all_exceptions                                                                                                                                                                     â”‚
           â”‚   122 â”‚   â”‚   â”‚   â”‚   â”‚   ):                                                                                                                                                                                                â”‚
           â”‚ â± 123 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   raise OSError(first_errno, msg)                                                                                                                                                               â”‚
           â”‚   124 â”‚   â”‚   â”‚   â”‚   elif isinstance(first_exception, RuntimeError) and all(                                                                                                                                               â”‚
           â”‚   125 â”‚   â”‚   â”‚   â”‚   â”‚   isinstance(exc, RuntimeError) for exc in all_exceptions                                                                                                                                           â”‚
           â”‚   126 â”‚   â”‚   â”‚   â”‚   ):                                                                                                                                                                                                    â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           ConnectionRefusedError: [Errno 111] Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11434)                                                            
                                                                                                                                                                                                                                          
           The above exception was the direct cause of the following exception:                                                                                                                                                           
                                                                                                                                                                                                                                          
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py:477 in acompletion                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    474 â”‚   â”‚   â”‚   â”‚   â”‚   response = ModelResponse(**init_response)                                                                                                                                                        â”‚
           â”‚    475 â”‚   â”‚   â”‚   â”‚   response = init_response                                                                                                                                                                             â”‚
           â”‚    476 â”‚   â”‚   â”‚   elif asyncio.iscoroutine(init_response):                                                                                                                                                                 â”‚
           â”‚ â±  477 â”‚   â”‚   â”‚   â”‚   response = await init_response                                                                                                                                                                       â”‚
           â”‚    478 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                    â”‚
           â”‚    479 â”‚   â”‚   â”‚   â”‚   response = init_response  # type: ignore                                                                                                                                                             â”‚
           â”‚    480                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py:564 in ollama_acompletion                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   561 â”‚   â”‚   â”‚   )                                                                                                                                                                                                         â”‚
           â”‚   562 â”‚   â”‚   â”‚   return model_response                                                                                                                                                                                     â”‚
           â”‚   563 â”‚   except Exception as e:                                                                                                                                                                                            â”‚
           â”‚ â± 564 â”‚   â”‚   raise e  # don't use verbose_logger.exception, if exception is raised                                                                                                                                         â”‚
           â”‚   565                                                                                                                                                                                                                       â”‚
           â”‚   566                                                                                                                                                                                                                       â”‚
           â”‚   567 async def ollama_aembeddings(                                                                                                                                                                                         â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py:505 in ollama_acompletion                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   502 â”‚   try:                                                                                                                                                                                                              â”‚
           â”‚   503 â”‚   â”‚   timeout = aiohttp.ClientTimeout(total=litellm.request_timeout)  # 10 minutes                                                                                                                                  â”‚
           â”‚   504 â”‚   â”‚   async with aiohttp.ClientSession(timeout=timeout) as session:                                                                                                                                                 â”‚
           â”‚ â± 505 â”‚   â”‚   â”‚   resp = await session.post(url, json=data)                                                                                                                                                                 â”‚
           â”‚   506 â”‚   â”‚   â”‚                                                                                                                                                                                                             â”‚
           â”‚   507 â”‚   â”‚   â”‚   if resp.status != 200:                                                                                                                                                                                    â”‚
           â”‚   508 â”‚   â”‚   â”‚   â”‚   text = await resp.text()                                                                                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/client.py:696 in _request                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    693 â”‚   â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                    â”‚
           â”‚    694 â”‚   â”‚   â”‚   â”‚   â”‚   # connection timeout                                                                                                                                                                             â”‚
           â”‚    695 â”‚   â”‚   â”‚   â”‚   â”‚   try:                                                                                                                                                                                             â”‚
           â”‚ â±  696 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   conn = await self._connector.connect(                                                                                                                                                        â”‚
           â”‚    697 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   req, traces=traces, timeout=real_timeout                                                                                                                                                 â”‚
           â”‚    698 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                            â”‚
           â”‚    699 â”‚   â”‚   â”‚   â”‚   â”‚   except asyncio.TimeoutError as exc:                                                                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:544 in connect                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    541 â”‚   â”‚   â”‚   â”‚   if traces:                                                                                                                                                                                           â”‚
           â”‚    542 â”‚   â”‚   â”‚   â”‚   â”‚   for trace in traces:                                                                                                                                                                             â”‚
           â”‚    543 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   await trace.send_connection_create_start()                                                                                                                                                   â”‚
           â”‚ â±  544 â”‚   â”‚   â”‚   â”‚   proto = await self._create_connection(req, traces, timeout)                                                                                                                                          â”‚
           â”‚    545 â”‚   â”‚   â”‚   â”‚   if traces:                                                                                                                                                                                           â”‚
           â”‚    546 â”‚   â”‚   â”‚   â”‚   â”‚   for trace in traces:                                                                                                                                                                             â”‚
           â”‚    547 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   await trace.send_connection_create_end()                                                                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1050 in _create_connection                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1047 â”‚   â”‚   if req.proxy:                                                                                                                                                                                                â”‚
           â”‚   1048 â”‚   â”‚   â”‚   _, proto = await self._create_proxy_connection(req, traces, timeout)                                                                                                                                     â”‚
           â”‚   1049 â”‚   â”‚   else:                                                                                                                                                                                                        â”‚
           â”‚ â± 1050 â”‚   â”‚   â”‚   _, proto = await self._create_direct_connection(req, traces, timeout)                                                                                                                                    â”‚
           â”‚   1051 â”‚   â”‚                                                                                                                                                                                                                â”‚
           â”‚   1052 â”‚   â”‚   return proto                                                                                                                                                                                                 â”‚
           â”‚   1053                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1394 in _create_direct_connection                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1391 â”‚   â”‚   â”‚   return transp, proto                                                                                                                                                                                     â”‚
           â”‚   1392 â”‚   â”‚   else:                                                                                                                                                                                                        â”‚
           â”‚   1393 â”‚   â”‚   â”‚   assert last_exc is not None                                                                                                                                                                              â”‚
           â”‚ â± 1394 â”‚   â”‚   â”‚   raise last_exc                                                                                                                                                                                           â”‚
           â”‚   1395 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   1396 â”‚   async def _create_proxy_connection(                                                                                                                                                                              â”‚
           â”‚   1397 â”‚   â”‚   self, req: ClientRequest, traces: List["Trace"], timeout: "ClientTimeout"                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1363 in _create_direct_connection                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1360 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚   1361 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚   1362 â”‚   â”‚   â”‚   try:                                                                                                                                                                                                     â”‚
           â”‚ â± 1363 â”‚   â”‚   â”‚   â”‚   transp, proto = await self._wrap_create_connection(                                                                                                                                                  â”‚
           â”‚   1364 â”‚   â”‚   â”‚   â”‚   â”‚   self._factory,                                                                                                                                                                                   â”‚
           â”‚   1365 â”‚   â”‚   â”‚   â”‚   â”‚   timeout=timeout,                                                                                                                                                                                 â”‚
           â”‚   1366 â”‚   â”‚   â”‚   â”‚   â”‚   ssl=sslcontext,                                                                                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1124 in _wrap_create_connection                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1121 â”‚   â”‚   except OSError as exc:                                                                                                                                                                                       â”‚
           â”‚   1122 â”‚   â”‚   â”‚   if exc.errno is None and isinstance(exc, asyncio.TimeoutError):                                                                                                                                          â”‚
           â”‚   1123 â”‚   â”‚   â”‚   â”‚   raise                                                                                                                                                                                                â”‚
           â”‚ â± 1124 â”‚   â”‚   â”‚   raise client_error(req.connection_key, exc) from exc                                                                                                                                                     â”‚
           â”‚   1125 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   1126 â”‚   async def _wrap_existing_connection(                                                                                                                                                                             â”‚
           â”‚   1127 â”‚   â”‚   self,                                                                                                                                                                                                        â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           ClientConnectorError: Cannot connect to host localhost:11434 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11434)]                     
                                                                                                                                                                                                                                          
           During handling of the above exception, another exception occurred:                                                                                                                                                            
                                                                                                                                                                                                                                          
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:276 in _run_with_timeout_failure                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   273 ) -> tuple[PQASession, AgentStatus]:                                                                                                                                                                                  â”‚
           â”‚   274 â”‚   try:                                                                                                                                                                                                              â”‚
           â”‚   275 â”‚   â”‚   async with asyncio.timeout(query.settings.agent.timeout):                                                                                                                                                     â”‚
           â”‚ â± 276 â”‚   â”‚   â”‚   status = await rollout()                                                                                                                                                                                  â”‚
           â”‚   277 â”‚   except TimeoutError:                                                                                                                                                                                              â”‚
           â”‚   278 â”‚   â”‚   logger.warning(                                                                                                                                                                                               â”‚
           â”‚   279 â”‚   â”‚   â”‚   f"Agent timeout after {query.settings.agent.timeout}-sec, just answering."                                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:410 in rollout                                                                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   407 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                     â”‚
           â”‚   408 â”‚   â”‚   â”‚   â”‚   return AgentStatus.TRUNCATED                                                                                                                                                                          â”‚
           â”‚   409 â”‚   â”‚   â”‚   agent_state.messages += obs                                                                                                                                                                               â”‚
           â”‚ â± 410 â”‚   â”‚   â”‚   for attempt in Retrying(                                                                                                                                                                                  â”‚
           â”‚   411 â”‚   â”‚   â”‚   â”‚   stop=stop_after_attempt(5),                                                                                                                                                                           â”‚
           â”‚   412 â”‚   â”‚   â”‚   â”‚   retry=retry_if_exception_type(MalformedMessageError),                                                                                                                                                 â”‚
           â”‚   413 â”‚   â”‚   â”‚   â”‚   before_sleep=before_sleep_log(logger, logging.WARNING),                                                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:443 in __iter__                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   440 â”‚   â”‚                                                                                                                                                                                                                 â”‚
           â”‚   441 â”‚   â”‚   retry_state = RetryCallState(self, fn=None, args=(), kwargs={})                                                                                                                                               â”‚
           â”‚   442 â”‚   â”‚   while True:                                                                                                                                                                                                   â”‚
           â”‚ â± 443 â”‚   â”‚   â”‚   do = self.iter(retry_state=retry_state)                                                                                                                                                                   â”‚
           â”‚   444 â”‚   â”‚   â”‚   if isinstance(do, DoAttempt):                                                                                                                                                                             â”‚
           â”‚   445 â”‚   â”‚   â”‚   â”‚   yield AttemptManager(retry_state=retry_state)                                                                                                                                                         â”‚
           â”‚   446 â”‚   â”‚   â”‚   elif isinstance(do, DoSleep):                                                                                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:376 in iter                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   373 â”‚   â”‚   self._begin_iter(retry_state)                                                                                                                                                                                 â”‚
           â”‚   374 â”‚   â”‚   result = None                                                                                                                                                                                                 â”‚
           â”‚   375 â”‚   â”‚   for action in self.iter_state.actions:                                                                                                                                                                        â”‚
           â”‚ â± 376 â”‚   â”‚   â”‚   result = action(retry_state)                                                                                                                                                                              â”‚
           â”‚   377 â”‚   â”‚   return result                                                                                                                                                                                                 â”‚
           â”‚   378 â”‚                                                                                                                                                                                                                     â”‚
           â”‚   379 â”‚   def _begin_iter(self, retry_state: "RetryCallState") -> None:  # noqa                                                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:398 in <lambda>                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   395 â”‚                                                                                                                                                                                                                     â”‚
           â”‚   396 â”‚   def _post_retry_check_actions(self, retry_state: "RetryCallState") -> None:                                                                                                                                       â”‚
           â”‚   397 â”‚   â”‚   if not (self.iter_state.is_explicit_retry or self.iter_state.retry_run_result):                                                                                                                               â”‚
           â”‚ â± 398 â”‚   â”‚   â”‚   self._add_action_func(lambda rs: rs.outcome.result())                                                                                                                                                     â”‚
           â”‚   399 â”‚   â”‚   â”‚   return                                                                                                                                                                                                    â”‚
           â”‚   400 â”‚   â”‚                                                                                                                                                                                                                 â”‚
           â”‚   401 â”‚   â”‚   if self.after is not None:                                                                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/concurrent/futures/_base.py:449 in result                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   446 â”‚   â”‚   â”‚   â”‚   if self._state in [CANCELLED, CANCELLED_AND_NOTIFIED]:                                                                                                                                                â”‚
           â”‚   447 â”‚   â”‚   â”‚   â”‚   â”‚   raise CancelledError()                                                                                                                                                                            â”‚
           â”‚   448 â”‚   â”‚   â”‚   â”‚   elif self._state == FINISHED:                                                                                                                                                                         â”‚
           â”‚ â± 449 â”‚   â”‚   â”‚   â”‚   â”‚   return self.__get_result()                                                                                                                                                                        â”‚
           â”‚   450 â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                         â”‚
           â”‚   451 â”‚   â”‚   â”‚   â”‚   self._condition.wait(timeout)                                                                                                                                                                         â”‚
           â”‚   452                                                                                                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/concurrent/futures/_base.py:401 in __get_result                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   398 â”‚   def __get_result(self):                                                                                                                                                                                           â”‚
           â”‚   399 â”‚   â”‚   if self._exception:                                                                                                                                                                                           â”‚
           â”‚   400 â”‚   â”‚   â”‚   try:                                                                                                                                                                                                      â”‚
           â”‚ â± 401 â”‚   â”‚   â”‚   â”‚   raise self._exception                                                                                                                                                                                 â”‚
           â”‚   402 â”‚   â”‚   â”‚   finally:                                                                                                                                                                                                  â”‚
           â”‚   403 â”‚   â”‚   â”‚   â”‚   # Break a reference cycle with the exception in self._exception                                                                                                                                       â”‚
           â”‚   404 â”‚   â”‚   â”‚   â”‚   self = None                                                                                                                                                                                           â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:417 in rollout                                                                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   414 â”‚   â”‚   â”‚   â”‚   reraise=True,                                                                                                                                                                                         â”‚
           â”‚   415 â”‚   â”‚   â”‚   ):                                                                                                                                                                                                        â”‚
           â”‚   416 â”‚   â”‚   â”‚   â”‚   with attempt:  # Retrying if ToolSelector fails to select a tool                                                                                                                                      â”‚
           â”‚ â± 417 â”‚   â”‚   â”‚   â”‚   â”‚   action = await agent(agent_state.messages, tools)                                                                                                                                                 â”‚
           â”‚   418 â”‚   â”‚   â”‚   agent_state.messages = [*agent_state.messages, action]                                                                                                                                                    â”‚
           â”‚   419 â”‚   â”‚   â”‚   if on_agent_action_callback:                                                                                                                                                                              â”‚
           â”‚   420 â”‚   â”‚   â”‚   â”‚   await on_agent_action_callback(action, agent_state)                                                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aviary/tools/utils.py:182 in __call__                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   179 â”‚   â”‚   â”‚   self._ledger.messages.extend(messages)                                                                                                                                                                    â”‚
           â”‚   180 â”‚   â”‚   â”‚   messages = self._ledger.messages                                                                                                                                                                          â”‚
           â”‚   181 â”‚   â”‚                                                                                                                                                                                                                 â”‚
           â”‚ â± 182 â”‚   â”‚   model_response = await self._bound_acompletion(                                                                                                                                                               â”‚
           â”‚   183 â”‚   â”‚   â”‚   messages=MessagesAdapter.dump_python(                                                                                                                                                                     â”‚
           â”‚   184 â”‚   â”‚   â”‚   â”‚   messages, exclude_none=True, by_alias=True                                                                                                                                                            â”‚
           â”‚   185 â”‚   â”‚   â”‚   ),                                                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:819 in acompletion                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    816 â”‚   â”‚   â”‚   â”‚   â”‚   original_exception=e,                                                                                                                                                                            â”‚
           â”‚    817 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                    â”‚
           â”‚    818 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚ â±  819 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚    820 â”‚                                                                                                                                                                                                                    â”‚
           â”‚    821 â”‚   async def _acompletion(                                                                                                                                                                                          â”‚
           â”‚    822 â”‚   â”‚   self, model: str, messages: List[Dict[str, str]], **kwargs                                                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:795 in acompletion                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    792 â”‚   â”‚   â”‚   if request_priority is not None and isinstance(request_priority, int):                                                                                                                                   â”‚
           â”‚    793 â”‚   â”‚   â”‚   â”‚   response = await self.schedule_acompletion(**kwargs)                                                                                                                                                 â”‚
           â”‚    794 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                    â”‚
           â”‚ â±  795 â”‚   â”‚   â”‚   â”‚   response = await self.async_function_with_fallbacks(**kwargs)                                                                                                                                        â”‚
           â”‚    796 â”‚   â”‚   â”‚   end_time = time.time()                                                                                                                                                                                   â”‚
           â”‚    797 â”‚   â”‚   â”‚   _duration = end_time - start_time                                                                                                                                                                        â”‚
           â”‚    798 â”‚   â”‚   â”‚   asyncio.create_task(                                                                                                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2792 in async_function_with_fallbacks                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2789 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                            â”‚
           â”‚   2790 â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                â”‚
           â”‚   2791 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚ â± 2792 â”‚   â”‚   â”‚   raise original_exception                                                                                                                                                                                 â”‚
           â”‚   2793 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   2794 â”‚   def _handle_mock_testing_fallbacks(                                                                                                                                                                              â”‚
           â”‚   2795 â”‚   â”‚   self,                                                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2628 in async_function_with_fallbacks                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2625 â”‚   â”‚   â”‚   â”‚   content_policy_fallbacks=content_policy_fallbacks,                                                                                                                                                   â”‚
           â”‚   2626 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚   2627 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚ â± 2628 â”‚   â”‚   â”‚   response = await self.async_function_with_retries(*args, **kwargs)                                                                                                                                       â”‚
           â”‚   2629 â”‚   â”‚   â”‚   verbose_router_logger.debug(f"Async Response: {response}")                                                                                                                                               â”‚
           â”‚   2630 â”‚   â”‚   â”‚   return response                                                                                                                                                                                          â”‚
           â”‚   2631 â”‚   â”‚   except Exception as e:                                                                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2964 in async_function_with_retries                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2961 â”‚   â”‚   â”‚   â”‚   setattr(original_exception, "max_retries", num_retries)                                                                                                                                              â”‚
           â”‚   2962 â”‚   â”‚   â”‚   â”‚   setattr(original_exception, "num_retries", current_attempt)                                                                                                                                          â”‚
           â”‚   2963 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚ â± 2964 â”‚   â”‚   â”‚   raise original_exception                                                                                                                                                                                 â”‚
           â”‚   2965 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   2966 â”‚   async def make_call(self, original_function: Any, *args, **kwargs):                                                                                                                                              â”‚
           â”‚   2967 â”‚   â”‚   """                                                                                                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2876 in async_function_with_retries                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2873 â”‚   â”‚   â”‚   â”‚   model_group=model_group, kwargs=kwargs                                                                                                                                                               â”‚
           â”‚   2874 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚   2875 â”‚   â”‚   â”‚   # if the function call is successful, no exception will be raised and we'll                                                                                                                              â”‚
           â”‚        break out of the loop                                                                                                                                                                                                â”‚
           â”‚ â± 2876 â”‚   â”‚   â”‚   response = await self.make_call(original_function, *args, **kwargs)                                                                                                                                      â”‚
           â”‚   2877 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚   2878 â”‚   â”‚   â”‚   return response                                                                                                                                                                                          â”‚
           â”‚   2879 â”‚   â”‚   except Exception as e:                                                                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2973 in make_call                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2970 â”‚   â”‚   model_group = kwargs.get("model")                                                                                                                                                                            â”‚
           â”‚   2971 â”‚   â”‚   response = original_function(*args, **kwargs)                                                                                                                                                                â”‚
           â”‚   2972 â”‚   â”‚   if inspect.iscoroutinefunction(response) or inspect.isawaitable(response):                                                                                                                                   â”‚
           â”‚ â± 2973 â”‚   â”‚   â”‚   response = await response                                                                                                                                                                                â”‚
           â”‚   2974 â”‚   â”‚   ## PROCESS RESPONSE HEADERS                                                                                                                                                                                  â”‚
           â”‚   2975 â”‚   â”‚   await self.set_response_headers(response=response, model_group=model_group)                                                                                                                                  â”‚
           â”‚   2976                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:949 in _acompletion                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    946 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚    947 â”‚   â”‚   â”‚   if model_name is not None:                                                                                                                                                                               â”‚
           â”‚    948 â”‚   â”‚   â”‚   â”‚   self.fail_calls[model_name] += 1                                                                                                                                                                     â”‚
           â”‚ â±  949 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚    950 â”‚                                                                                                                                                                                                                    â”‚
           â”‚    951 â”‚   def _update_kwargs_with_default_litellm_params(self, kwargs: dict) -> None:                                                                                                                                      â”‚
           â”‚    952 â”‚   â”‚   """                                                                                                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:917 in _acompletion                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    914 â”‚   â”‚   â”‚   â”‚   â”‚   parent_otel_span=parent_otel_span,                                                                                                                                                               â”‚
           â”‚    915 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                    â”‚
           â”‚    916 â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                        â”‚
           â”‚ â±  917 â”‚   â”‚   â”‚   â”‚   response = await _response                                                                                                                                                                           â”‚
           â”‚    918 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚    919 â”‚   â”‚   â”‚   ## CHECK CONTENT FILTER ERROR ##                                                                                                                                                                         â”‚
           â”‚    920 â”‚   â”‚   â”‚   if isinstance(response, ModelResponse):                                                                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/utils.py:1174 in wrapper_async                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1171 â”‚   â”‚   â”‚   â”‚   â”‚   else:                                                                                                                                                                                            â”‚
           â”‚   1172 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   kwargs["model"] = context_window_fallback_dict[model]                                                                                                                                        â”‚
           â”‚   1173 â”‚   â”‚   â”‚   â”‚   â”‚   return await original_function(*args, **kwargs)                                                                                                                                                  â”‚
           â”‚ â± 1174 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚   1175 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   1176 â”‚   is_coroutine = inspect.iscoroutinefunction(original_function)                                                                                                                                                    â”‚
           â”‚   1177                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/utils.py:1030 in wrapper_async                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1027 â”‚   â”‚   â”‚   â”‚   return _caching_handler_response.final_embedding_cached_response                                                                                                                                     â”‚
           â”‚   1028 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚   1029 â”‚   â”‚   â”‚   # MODEL CALL                                                                                                                                                                                             â”‚
           â”‚ â± 1030 â”‚   â”‚   â”‚   result = await original_function(*args, **kwargs)                                                                                                                                                        â”‚
           â”‚   1031 â”‚   â”‚   â”‚   end_time = datetime.datetime.now()                                                                                                                                                                       â”‚
           â”‚   1032 â”‚   â”‚   â”‚   if "stream" in kwargs and kwargs["stream"] is True:                                                                                                                                                      â”‚
           â”‚   1033 â”‚   â”‚   â”‚   â”‚   if (                                                                                                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py:499 in acompletion                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    496 â”‚   â”‚   return response                                                                                                                                                                                              â”‚
           â”‚    497 â”‚   except Exception as e:                                                                                                                                                                                           â”‚
           â”‚    498 â”‚   â”‚   custom_llm_provider = custom_llm_provider or "openai"                                                                                                                                                        â”‚
           â”‚ â±  499 â”‚   â”‚   raise exception_type(                                                                                                                                                                                        â”‚
           â”‚    500 â”‚   â”‚   â”‚   model=model,                                                                                                                                                                                             â”‚
           â”‚    501 â”‚   â”‚   â”‚   custom_llm_provider=custom_llm_provider,                                                                                                                                                                 â”‚
           â”‚    502 â”‚   â”‚   â”‚   original_exception=e,                                                                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/litellm_core_utils/exception_mapping_utils.py:2122 in exception_type                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2119 â”‚   â”‚   # don't let an error with mapping interrupt the user from receiving an error                                                                                                                                 â”‚
           â”‚        from the llm api calls                                                                                                                                                                                               â”‚
           â”‚   2120 â”‚   â”‚   if exception_mapping_worked:                                                                                                                                                                                 â”‚
           â”‚   2121 â”‚   â”‚   â”‚   setattr(e, "litellm_response_headers", litellm_response_headers)                                                                                                                                         â”‚
           â”‚ â± 2122 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚   2123 â”‚   â”‚   else:                                                                                                                                                                                                        â”‚
           â”‚   2124 â”‚   â”‚   â”‚   for error_type in litellm.LITELLM_EXCEPTION_TYPES:                                                                                                                                                       â”‚
           â”‚   2125 â”‚   â”‚   â”‚   â”‚   if isinstance(e, error_type):                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/litellm_core_utils/exception_mapping_utils.py:2098 in exception_type                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2095 â”‚   â”‚   â”‚   â”‚   â”‚   request=original_exception.request,                                                                                                                                                              â”‚
           â”‚   2096 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                    â”‚
           â”‚   2097 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                    â”‚
           â”‚ â± 2098 â”‚   â”‚   â”‚   â”‚   raise APIConnectionError(                                                                                                                                                                            â”‚
           â”‚   2099 â”‚   â”‚   â”‚   â”‚   â”‚   message="{}\n{}".format(                                                                                                                                                                         â”‚
           â”‚   2100 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   str(original_exception), traceback.format_exc()                                                                                                                                              â”‚
           â”‚   2101 â”‚   â”‚   â”‚   â”‚   â”‚   ),                                                                                                                                                                                               â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           APIConnectionError: litellm.APIConnectionError: Cannot connect to host localhost:11434 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1',   
           11434)]                                                                                                                                                                                                                        
           Traceback (most recent call last):                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1109, in _wrap_create_connection                                                                                  
               sock = await aiohappyeyeballs.start_connection(                                                                                                                                                                            
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                            
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohappyeyeballs/impl.py", line 123, in start_connection                                                                                      
               raise OSError(first_errno, msg)                                                                                                                                                                                            
           ConnectionRefusedError: [Errno 111] Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11434)                                                            
                                                                                                                                                                                                                                          
           The above exception was the direct cause of the following exception:                                                                                                                                                           
                                                                                                                                                                                                                                          
           Traceback (most recent call last):                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py", line 477, in acompletion                                                                                                    
               response = await init_response                                                                                                                                                                                             
                          ^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py", line 564, in ollama_acompletion                                                                                      
               raise e  # don't use verbose_logger.exception, if exception is raised                                                                                                                                                      
               ^^^^^^^                                                                                                                                                                                                                    
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py", line 505, in ollama_acompletion                                                                                      
               resp = await session.post(url, json=data)                                                                                                                                                                                  
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                  
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/client.py", line 696, in _request                                                                                                     
               conn = await self._connector.connect(                                                                                                                                                                                      
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                      
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 544, in connect                                                                                                   
               proto = await self._create_connection(req, traces, timeout)                                                                                                                                                                
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1050, in _create_connection                                                                                       
               _, proto = await self._create_direct_connection(req, traces, timeout)                                                                                                                                                      
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                      
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1394, in _create_direct_connection                                                                                
               raise last_exc                                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1363, in _create_direct_connection                                                                                
               transp, proto = await self._wrap_create_connection(                                                                                                                                                                        
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                        
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1124, in _wrap_create_connection                                                                                  
               raise client_error(req.connection_key, exc) from exc                                                                                                                                                                       
           aiohttp.client_exceptions.ClientConnectorError: Cannot connect to host localhost:11434 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1',   
           11434)]                                                                                                                                                                                                                        
                                                                                                                                                                                                                                          
           Received Model Group=ollama/llama3.3                                                                                                                                                                                           
           Available Model Group Fallbacks=None LiteLLM Retried: 2 times, LiteLLM Max Retries: 3                                                                                                                                          
[07:03:35] Answer:                                                                                                                                                                                                                        

[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.

[07:03:55] Trajectory failed.                                                                                                                                                                                                             
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1109 in _wrap_create_connection                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1106 â”‚   â”‚   â”‚   async with ceil_timeout(                                                                                                                                                                                 â”‚
           â”‚   1107 â”‚   â”‚   â”‚   â”‚   timeout.sock_connect, ceil_threshold=timeout.ceil_threshold                                                                                                                                          â”‚
           â”‚   1108 â”‚   â”‚   â”‚   ):                                                                                                                                                                                                       â”‚
           â”‚ â± 1109 â”‚   â”‚   â”‚   â”‚   sock = await aiohappyeyeballs.start_connection(                                                                                                                                                      â”‚
           â”‚   1110 â”‚   â”‚   â”‚   â”‚   â”‚   addr_infos=addr_infos,                                                                                                                                                                           â”‚
           â”‚   1111 â”‚   â”‚   â”‚   â”‚   â”‚   local_addr_infos=self._local_addr_infos,                                                                                                                                                         â”‚
           â”‚   1112 â”‚   â”‚   â”‚   â”‚   â”‚   happy_eyeballs_delay=self._happy_eyeballs_delay,                                                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohappyeyeballs/impl.py:123 in start_connection                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   120 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   isinstance(exc, OSError) and exc.errno == first_errno                                                                                                                                         â”‚
           â”‚   121 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   for exc in all_exceptions                                                                                                                                                                     â”‚
           â”‚   122 â”‚   â”‚   â”‚   â”‚   â”‚   ):                                                                                                                                                                                                â”‚
           â”‚ â± 123 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   raise OSError(first_errno, msg)                                                                                                                                                               â”‚
           â”‚   124 â”‚   â”‚   â”‚   â”‚   elif isinstance(first_exception, RuntimeError) and all(                                                                                                                                               â”‚
           â”‚   125 â”‚   â”‚   â”‚   â”‚   â”‚   isinstance(exc, RuntimeError) for exc in all_exceptions                                                                                                                                           â”‚
           â”‚   126 â”‚   â”‚   â”‚   â”‚   ):                                                                                                                                                                                                    â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           ConnectionRefusedError: [Errno 111] Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11434)                                                            
                                                                                                                                                                                                                                          
           The above exception was the direct cause of the following exception:                                                                                                                                                           
                                                                                                                                                                                                                                          
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py:477 in acompletion                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    474 â”‚   â”‚   â”‚   â”‚   â”‚   response = ModelResponse(**init_response)                                                                                                                                                        â”‚
           â”‚    475 â”‚   â”‚   â”‚   â”‚   response = init_response                                                                                                                                                                             â”‚
           â”‚    476 â”‚   â”‚   â”‚   elif asyncio.iscoroutine(init_response):                                                                                                                                                                 â”‚
           â”‚ â±  477 â”‚   â”‚   â”‚   â”‚   response = await init_response                                                                                                                                                                       â”‚
           â”‚    478 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                    â”‚
           â”‚    479 â”‚   â”‚   â”‚   â”‚   response = init_response  # type: ignore                                                                                                                                                             â”‚
           â”‚    480                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py:564 in ollama_acompletion                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   561 â”‚   â”‚   â”‚   )                                                                                                                                                                                                         â”‚
           â”‚   562 â”‚   â”‚   â”‚   return model_response                                                                                                                                                                                     â”‚
           â”‚   563 â”‚   except Exception as e:                                                                                                                                                                                            â”‚
           â”‚ â± 564 â”‚   â”‚   raise e  # don't use verbose_logger.exception, if exception is raised                                                                                                                                         â”‚
           â”‚   565                                                                                                                                                                                                                       â”‚
           â”‚   566                                                                                                                                                                                                                       â”‚
           â”‚   567 async def ollama_aembeddings(                                                                                                                                                                                         â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py:505 in ollama_acompletion                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   502 â”‚   try:                                                                                                                                                                                                              â”‚
           â”‚   503 â”‚   â”‚   timeout = aiohttp.ClientTimeout(total=litellm.request_timeout)  # 10 minutes                                                                                                                                  â”‚
           â”‚   504 â”‚   â”‚   async with aiohttp.ClientSession(timeout=timeout) as session:                                                                                                                                                 â”‚
           â”‚ â± 505 â”‚   â”‚   â”‚   resp = await session.post(url, json=data)                                                                                                                                                                 â”‚
           â”‚   506 â”‚   â”‚   â”‚                                                                                                                                                                                                             â”‚
           â”‚   507 â”‚   â”‚   â”‚   if resp.status != 200:                                                                                                                                                                                    â”‚
           â”‚   508 â”‚   â”‚   â”‚   â”‚   text = await resp.text()                                                                                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/client.py:696 in _request                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    693 â”‚   â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                    â”‚
           â”‚    694 â”‚   â”‚   â”‚   â”‚   â”‚   # connection timeout                                                                                                                                                                             â”‚
           â”‚    695 â”‚   â”‚   â”‚   â”‚   â”‚   try:                                                                                                                                                                                             â”‚
           â”‚ â±  696 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   conn = await self._connector.connect(                                                                                                                                                        â”‚
           â”‚    697 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   req, traces=traces, timeout=real_timeout                                                                                                                                                 â”‚
           â”‚    698 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                            â”‚
           â”‚    699 â”‚   â”‚   â”‚   â”‚   â”‚   except asyncio.TimeoutError as exc:                                                                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:544 in connect                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    541 â”‚   â”‚   â”‚   â”‚   if traces:                                                                                                                                                                                           â”‚
           â”‚    542 â”‚   â”‚   â”‚   â”‚   â”‚   for trace in traces:                                                                                                                                                                             â”‚
           â”‚    543 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   await trace.send_connection_create_start()                                                                                                                                                   â”‚
           â”‚ â±  544 â”‚   â”‚   â”‚   â”‚   proto = await self._create_connection(req, traces, timeout)                                                                                                                                          â”‚
           â”‚    545 â”‚   â”‚   â”‚   â”‚   if traces:                                                                                                                                                                                           â”‚
           â”‚    546 â”‚   â”‚   â”‚   â”‚   â”‚   for trace in traces:                                                                                                                                                                             â”‚
           â”‚    547 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   await trace.send_connection_create_end()                                                                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1050 in _create_connection                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1047 â”‚   â”‚   if req.proxy:                                                                                                                                                                                                â”‚
           â”‚   1048 â”‚   â”‚   â”‚   _, proto = await self._create_proxy_connection(req, traces, timeout)                                                                                                                                     â”‚
           â”‚   1049 â”‚   â”‚   else:                                                                                                                                                                                                        â”‚
           â”‚ â± 1050 â”‚   â”‚   â”‚   _, proto = await self._create_direct_connection(req, traces, timeout)                                                                                                                                    â”‚
           â”‚   1051 â”‚   â”‚                                                                                                                                                                                                                â”‚
           â”‚   1052 â”‚   â”‚   return proto                                                                                                                                                                                                 â”‚
           â”‚   1053                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1394 in _create_direct_connection                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1391 â”‚   â”‚   â”‚   return transp, proto                                                                                                                                                                                     â”‚
           â”‚   1392 â”‚   â”‚   else:                                                                                                                                                                                                        â”‚
           â”‚   1393 â”‚   â”‚   â”‚   assert last_exc is not None                                                                                                                                                                              â”‚
           â”‚ â± 1394 â”‚   â”‚   â”‚   raise last_exc                                                                                                                                                                                           â”‚
           â”‚   1395 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   1396 â”‚   async def _create_proxy_connection(                                                                                                                                                                              â”‚
           â”‚   1397 â”‚   â”‚   self, req: ClientRequest, traces: List["Trace"], timeout: "ClientTimeout"                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1363 in _create_direct_connection                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1360 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚   1361 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚   1362 â”‚   â”‚   â”‚   try:                                                                                                                                                                                                     â”‚
           â”‚ â± 1363 â”‚   â”‚   â”‚   â”‚   transp, proto = await self._wrap_create_connection(                                                                                                                                                  â”‚
           â”‚   1364 â”‚   â”‚   â”‚   â”‚   â”‚   self._factory,                                                                                                                                                                                   â”‚
           â”‚   1365 â”‚   â”‚   â”‚   â”‚   â”‚   timeout=timeout,                                                                                                                                                                                 â”‚
           â”‚   1366 â”‚   â”‚   â”‚   â”‚   â”‚   ssl=sslcontext,                                                                                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1124 in _wrap_create_connection                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1121 â”‚   â”‚   except OSError as exc:                                                                                                                                                                                       â”‚
           â”‚   1122 â”‚   â”‚   â”‚   if exc.errno is None and isinstance(exc, asyncio.TimeoutError):                                                                                                                                          â”‚
           â”‚   1123 â”‚   â”‚   â”‚   â”‚   raise                                                                                                                                                                                                â”‚
           â”‚ â± 1124 â”‚   â”‚   â”‚   raise client_error(req.connection_key, exc) from exc                                                                                                                                                     â”‚
           â”‚   1125 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   1126 â”‚   async def _wrap_existing_connection(                                                                                                                                                                             â”‚
           â”‚   1127 â”‚   â”‚   self,                                                                                                                                                                                                        â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           ClientConnectorError: Cannot connect to host localhost:11434 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11434)]                     
                                                                                                                                                                                                                                          
           During handling of the above exception, another exception occurred:                                                                                                                                                            
                                                                                                                                                                                                                                          
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:276 in _run_with_timeout_failure                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   273 ) -> tuple[PQASession, AgentStatus]:                                                                                                                                                                                  â”‚
           â”‚   274 â”‚   try:                                                                                                                                                                                                              â”‚
           â”‚   275 â”‚   â”‚   async with asyncio.timeout(query.settings.agent.timeout):                                                                                                                                                     â”‚
           â”‚ â± 276 â”‚   â”‚   â”‚   status = await rollout()                                                                                                                                                                                  â”‚
           â”‚   277 â”‚   except TimeoutError:                                                                                                                                                                                              â”‚
           â”‚   278 â”‚   â”‚   logger.warning(                                                                                                                                                                                               â”‚
           â”‚   279 â”‚   â”‚   â”‚   f"Agent timeout after {query.settings.agent.timeout}-sec, just answering."                                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:410 in rollout                                                                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   407 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                     â”‚
           â”‚   408 â”‚   â”‚   â”‚   â”‚   return AgentStatus.TRUNCATED                                                                                                                                                                          â”‚
           â”‚   409 â”‚   â”‚   â”‚   agent_state.messages += obs                                                                                                                                                                               â”‚
           â”‚ â± 410 â”‚   â”‚   â”‚   for attempt in Retrying(                                                                                                                                                                                  â”‚
           â”‚   411 â”‚   â”‚   â”‚   â”‚   stop=stop_after_attempt(5),                                                                                                                                                                           â”‚
           â”‚   412 â”‚   â”‚   â”‚   â”‚   retry=retry_if_exception_type(MalformedMessageError),                                                                                                                                                 â”‚
           â”‚   413 â”‚   â”‚   â”‚   â”‚   before_sleep=before_sleep_log(logger, logging.WARNING),                                                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:443 in __iter__                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   440 â”‚   â”‚                                                                                                                                                                                                                 â”‚
           â”‚   441 â”‚   â”‚   retry_state = RetryCallState(self, fn=None, args=(), kwargs={})                                                                                                                                               â”‚
           â”‚   442 â”‚   â”‚   while True:                                                                                                                                                                                                   â”‚
           â”‚ â± 443 â”‚   â”‚   â”‚   do = self.iter(retry_state=retry_state)                                                                                                                                                                   â”‚
           â”‚   444 â”‚   â”‚   â”‚   if isinstance(do, DoAttempt):                                                                                                                                                                             â”‚
           â”‚   445 â”‚   â”‚   â”‚   â”‚   yield AttemptManager(retry_state=retry_state)                                                                                                                                                         â”‚
           â”‚   446 â”‚   â”‚   â”‚   elif isinstance(do, DoSleep):                                                                                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:376 in iter                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   373 â”‚   â”‚   self._begin_iter(retry_state)                                                                                                                                                                                 â”‚
           â”‚   374 â”‚   â”‚   result = None                                                                                                                                                                                                 â”‚
           â”‚   375 â”‚   â”‚   for action in self.iter_state.actions:                                                                                                                                                                        â”‚
           â”‚ â± 376 â”‚   â”‚   â”‚   result = action(retry_state)                                                                                                                                                                              â”‚
           â”‚   377 â”‚   â”‚   return result                                                                                                                                                                                                 â”‚
           â”‚   378 â”‚                                                                                                                                                                                                                     â”‚
           â”‚   379 â”‚   def _begin_iter(self, retry_state: "RetryCallState") -> None:  # noqa                                                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:398 in <lambda>                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   395 â”‚                                                                                                                                                                                                                     â”‚
           â”‚   396 â”‚   def _post_retry_check_actions(self, retry_state: "RetryCallState") -> None:                                                                                                                                       â”‚
           â”‚   397 â”‚   â”‚   if not (self.iter_state.is_explicit_retry or self.iter_state.retry_run_result):                                                                                                                               â”‚
           â”‚ â± 398 â”‚   â”‚   â”‚   self._add_action_func(lambda rs: rs.outcome.result())                                                                                                                                                     â”‚
           â”‚   399 â”‚   â”‚   â”‚   return                                                                                                                                                                                                    â”‚
           â”‚   400 â”‚   â”‚                                                                                                                                                                                                                 â”‚
           â”‚   401 â”‚   â”‚   if self.after is not None:                                                                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/concurrent/futures/_base.py:449 in result                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   446 â”‚   â”‚   â”‚   â”‚   if self._state in [CANCELLED, CANCELLED_AND_NOTIFIED]:                                                                                                                                                â”‚
           â”‚   447 â”‚   â”‚   â”‚   â”‚   â”‚   raise CancelledError()                                                                                                                                                                            â”‚
           â”‚   448 â”‚   â”‚   â”‚   â”‚   elif self._state == FINISHED:                                                                                                                                                                         â”‚
           â”‚ â± 449 â”‚   â”‚   â”‚   â”‚   â”‚   return self.__get_result()                                                                                                                                                                        â”‚
           â”‚   450 â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                         â”‚
           â”‚   451 â”‚   â”‚   â”‚   â”‚   self._condition.wait(timeout)                                                                                                                                                                         â”‚
           â”‚   452                                                                                                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/concurrent/futures/_base.py:401 in __get_result                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   398 â”‚   def __get_result(self):                                                                                                                                                                                           â”‚
           â”‚   399 â”‚   â”‚   if self._exception:                                                                                                                                                                                           â”‚
           â”‚   400 â”‚   â”‚   â”‚   try:                                                                                                                                                                                                      â”‚
           â”‚ â± 401 â”‚   â”‚   â”‚   â”‚   raise self._exception                                                                                                                                                                                 â”‚
           â”‚   402 â”‚   â”‚   â”‚   finally:                                                                                                                                                                                                  â”‚
           â”‚   403 â”‚   â”‚   â”‚   â”‚   # Break a reference cycle with the exception in self._exception                                                                                                                                       â”‚
           â”‚   404 â”‚   â”‚   â”‚   â”‚   self = None                                                                                                                                                                                           â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:417 in rollout                                                                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   414 â”‚   â”‚   â”‚   â”‚   reraise=True,                                                                                                                                                                                         â”‚
           â”‚   415 â”‚   â”‚   â”‚   ):                                                                                                                                                                                                        â”‚
           â”‚   416 â”‚   â”‚   â”‚   â”‚   with attempt:  # Retrying if ToolSelector fails to select a tool                                                                                                                                      â”‚
           â”‚ â± 417 â”‚   â”‚   â”‚   â”‚   â”‚   action = await agent(agent_state.messages, tools)                                                                                                                                                 â”‚
           â”‚   418 â”‚   â”‚   â”‚   agent_state.messages = [*agent_state.messages, action]                                                                                                                                                    â”‚
           â”‚   419 â”‚   â”‚   â”‚   if on_agent_action_callback:                                                                                                                                                                              â”‚
           â”‚   420 â”‚   â”‚   â”‚   â”‚   await on_agent_action_callback(action, agent_state)                                                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aviary/tools/utils.py:182 in __call__                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   179 â”‚   â”‚   â”‚   self._ledger.messages.extend(messages)                                                                                                                                                                    â”‚
           â”‚   180 â”‚   â”‚   â”‚   messages = self._ledger.messages                                                                                                                                                                          â”‚
           â”‚   181 â”‚   â”‚                                                                                                                                                                                                                 â”‚
           â”‚ â± 182 â”‚   â”‚   model_response = await self._bound_acompletion(                                                                                                                                                               â”‚
           â”‚   183 â”‚   â”‚   â”‚   messages=MessagesAdapter.dump_python(                                                                                                                                                                     â”‚
           â”‚   184 â”‚   â”‚   â”‚   â”‚   messages, exclude_none=True, by_alias=True                                                                                                                                                            â”‚
           â”‚   185 â”‚   â”‚   â”‚   ),                                                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:819 in acompletion                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    816 â”‚   â”‚   â”‚   â”‚   â”‚   original_exception=e,                                                                                                                                                                            â”‚
           â”‚    817 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                    â”‚
           â”‚    818 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚ â±  819 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚    820 â”‚                                                                                                                                                                                                                    â”‚
           â”‚    821 â”‚   async def _acompletion(                                                                                                                                                                                          â”‚
           â”‚    822 â”‚   â”‚   self, model: str, messages: List[Dict[str, str]], **kwargs                                                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:795 in acompletion                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    792 â”‚   â”‚   â”‚   if request_priority is not None and isinstance(request_priority, int):                                                                                                                                   â”‚
           â”‚    793 â”‚   â”‚   â”‚   â”‚   response = await self.schedule_acompletion(**kwargs)                                                                                                                                                 â”‚
           â”‚    794 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                    â”‚
           â”‚ â±  795 â”‚   â”‚   â”‚   â”‚   response = await self.async_function_with_fallbacks(**kwargs)                                                                                                                                        â”‚
           â”‚    796 â”‚   â”‚   â”‚   end_time = time.time()                                                                                                                                                                                   â”‚
           â”‚    797 â”‚   â”‚   â”‚   _duration = end_time - start_time                                                                                                                                                                        â”‚
           â”‚    798 â”‚   â”‚   â”‚   asyncio.create_task(                                                                                                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2792 in async_function_with_fallbacks                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2789 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                            â”‚
           â”‚   2790 â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                â”‚
           â”‚   2791 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚ â± 2792 â”‚   â”‚   â”‚   raise original_exception                                                                                                                                                                                 â”‚
           â”‚   2793 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   2794 â”‚   def _handle_mock_testing_fallbacks(                                                                                                                                                                              â”‚
           â”‚   2795 â”‚   â”‚   self,                                                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2628 in async_function_with_fallbacks                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2625 â”‚   â”‚   â”‚   â”‚   content_policy_fallbacks=content_policy_fallbacks,                                                                                                                                                   â”‚
           â”‚   2626 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚   2627 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚ â± 2628 â”‚   â”‚   â”‚   response = await self.async_function_with_retries(*args, **kwargs)                                                                                                                                       â”‚
           â”‚   2629 â”‚   â”‚   â”‚   verbose_router_logger.debug(f"Async Response: {response}")                                                                                                                                               â”‚
           â”‚   2630 â”‚   â”‚   â”‚   return response                                                                                                                                                                                          â”‚
           â”‚   2631 â”‚   â”‚   except Exception as e:                                                                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2964 in async_function_with_retries                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2961 â”‚   â”‚   â”‚   â”‚   setattr(original_exception, "max_retries", num_retries)                                                                                                                                              â”‚
           â”‚   2962 â”‚   â”‚   â”‚   â”‚   setattr(original_exception, "num_retries", current_attempt)                                                                                                                                          â”‚
           â”‚   2963 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚ â± 2964 â”‚   â”‚   â”‚   raise original_exception                                                                                                                                                                                 â”‚
           â”‚   2965 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   2966 â”‚   async def make_call(self, original_function: Any, *args, **kwargs):                                                                                                                                              â”‚
           â”‚   2967 â”‚   â”‚   """                                                                                                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2876 in async_function_with_retries                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2873 â”‚   â”‚   â”‚   â”‚   model_group=model_group, kwargs=kwargs                                                                                                                                                               â”‚
           â”‚   2874 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚   2875 â”‚   â”‚   â”‚   # if the function call is successful, no exception will be raised and we'll                                                                                                                              â”‚
           â”‚        break out of the loop                                                                                                                                                                                                â”‚
           â”‚ â± 2876 â”‚   â”‚   â”‚   response = await self.make_call(original_function, *args, **kwargs)                                                                                                                                      â”‚
           â”‚   2877 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚   2878 â”‚   â”‚   â”‚   return response                                                                                                                                                                                          â”‚
           â”‚   2879 â”‚   â”‚   except Exception as e:                                                                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2973 in make_call                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2970 â”‚   â”‚   model_group = kwargs.get("model")                                                                                                                                                                            â”‚
           â”‚   2971 â”‚   â”‚   response = original_function(*args, **kwargs)                                                                                                                                                                â”‚
           â”‚   2972 â”‚   â”‚   if inspect.iscoroutinefunction(response) or inspect.isawaitable(response):                                                                                                                                   â”‚
           â”‚ â± 2973 â”‚   â”‚   â”‚   response = await response                                                                                                                                                                                â”‚
           â”‚   2974 â”‚   â”‚   ## PROCESS RESPONSE HEADERS                                                                                                                                                                                  â”‚
           â”‚   2975 â”‚   â”‚   await self.set_response_headers(response=response, model_group=model_group)                                                                                                                                  â”‚
           â”‚   2976                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:949 in _acompletion                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    946 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚    947 â”‚   â”‚   â”‚   if model_name is not None:                                                                                                                                                                               â”‚
           â”‚    948 â”‚   â”‚   â”‚   â”‚   self.fail_calls[model_name] += 1                                                                                                                                                                     â”‚
           â”‚ â±  949 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚    950 â”‚                                                                                                                                                                                                                    â”‚
           â”‚    951 â”‚   def _update_kwargs_with_default_litellm_params(self, kwargs: dict) -> None:                                                                                                                                      â”‚
           â”‚    952 â”‚   â”‚   """                                                                                                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:917 in _acompletion                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    914 â”‚   â”‚   â”‚   â”‚   â”‚   parent_otel_span=parent_otel_span,                                                                                                                                                               â”‚
           â”‚    915 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                    â”‚
           â”‚    916 â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                        â”‚
           â”‚ â±  917 â”‚   â”‚   â”‚   â”‚   response = await _response                                                                                                                                                                           â”‚
           â”‚    918 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚    919 â”‚   â”‚   â”‚   ## CHECK CONTENT FILTER ERROR ##                                                                                                                                                                         â”‚
           â”‚    920 â”‚   â”‚   â”‚   if isinstance(response, ModelResponse):                                                                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/utils.py:1174 in wrapper_async                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1171 â”‚   â”‚   â”‚   â”‚   â”‚   else:                                                                                                                                                                                            â”‚
           â”‚   1172 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   kwargs["model"] = context_window_fallback_dict[model]                                                                                                                                        â”‚
           â”‚   1173 â”‚   â”‚   â”‚   â”‚   â”‚   return await original_function(*args, **kwargs)                                                                                                                                                  â”‚
           â”‚ â± 1174 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚   1175 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   1176 â”‚   is_coroutine = inspect.iscoroutinefunction(original_function)                                                                                                                                                    â”‚
           â”‚   1177                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/utils.py:1030 in wrapper_async                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1027 â”‚   â”‚   â”‚   â”‚   return _caching_handler_response.final_embedding_cached_response                                                                                                                                     â”‚
           â”‚   1028 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚   1029 â”‚   â”‚   â”‚   # MODEL CALL                                                                                                                                                                                             â”‚
           â”‚ â± 1030 â”‚   â”‚   â”‚   result = await original_function(*args, **kwargs)                                                                                                                                                        â”‚
           â”‚   1031 â”‚   â”‚   â”‚   end_time = datetime.datetime.now()                                                                                                                                                                       â”‚
           â”‚   1032 â”‚   â”‚   â”‚   if "stream" in kwargs and kwargs["stream"] is True:                                                                                                                                                      â”‚
           â”‚   1033 â”‚   â”‚   â”‚   â”‚   if (                                                                                                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py:499 in acompletion                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    496 â”‚   â”‚   return response                                                                                                                                                                                              â”‚
           â”‚    497 â”‚   except Exception as e:                                                                                                                                                                                           â”‚
           â”‚    498 â”‚   â”‚   custom_llm_provider = custom_llm_provider or "openai"                                                                                                                                                        â”‚
           â”‚ â±  499 â”‚   â”‚   raise exception_type(                                                                                                                                                                                        â”‚
           â”‚    500 â”‚   â”‚   â”‚   model=model,                                                                                                                                                                                             â”‚
           â”‚    501 â”‚   â”‚   â”‚   custom_llm_provider=custom_llm_provider,                                                                                                                                                                 â”‚
           â”‚    502 â”‚   â”‚   â”‚   original_exception=e,                                                                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/litellm_core_utils/exception_mapping_utils.py:2122 in exception_type                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2119 â”‚   â”‚   # don't let an error with mapping interrupt the user from receiving an error                                                                                                                                 â”‚
           â”‚        from the llm api calls                                                                                                                                                                                               â”‚
           â”‚   2120 â”‚   â”‚   if exception_mapping_worked:                                                                                                                                                                                 â”‚
           â”‚   2121 â”‚   â”‚   â”‚   setattr(e, "litellm_response_headers", litellm_response_headers)                                                                                                                                         â”‚
           â”‚ â± 2122 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚   2123 â”‚   â”‚   else:                                                                                                                                                                                                        â”‚
           â”‚   2124 â”‚   â”‚   â”‚   for error_type in litellm.LITELLM_EXCEPTION_TYPES:                                                                                                                                                       â”‚
           â”‚   2125 â”‚   â”‚   â”‚   â”‚   if isinstance(e, error_type):                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/litellm_core_utils/exception_mapping_utils.py:2098 in exception_type                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2095 â”‚   â”‚   â”‚   â”‚   â”‚   request=original_exception.request,                                                                                                                                                              â”‚
           â”‚   2096 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                    â”‚
           â”‚   2097 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                    â”‚
           â”‚ â± 2098 â”‚   â”‚   â”‚   â”‚   raise APIConnectionError(                                                                                                                                                                            â”‚
           â”‚   2099 â”‚   â”‚   â”‚   â”‚   â”‚   message="{}\n{}".format(                                                                                                                                                                         â”‚
           â”‚   2100 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   str(original_exception), traceback.format_exc()                                                                                                                                              â”‚
           â”‚   2101 â”‚   â”‚   â”‚   â”‚   â”‚   ),                                                                                                                                                                                               â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           APIConnectionError: litellm.APIConnectionError: Cannot connect to host localhost:11434 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1',   
           11434)]                                                                                                                                                                                                                        
           Traceback (most recent call last):                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1109, in _wrap_create_connection                                                                                  
               sock = await aiohappyeyeballs.start_connection(                                                                                                                                                                            
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                            
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohappyeyeballs/impl.py", line 123, in start_connection                                                                                      
               raise OSError(first_errno, msg)                                                                                                                                                                                            
           ConnectionRefusedError: [Errno 111] Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11434)                                                            
                                                                                                                                                                                                                                          
           The above exception was the direct cause of the following exception:                                                                                                                                                           
                                                                                                                                                                                                                                          
           Traceback (most recent call last):                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py", line 477, in acompletion                                                                                                    
               response = await init_response                                                                                                                                                                                             
                          ^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py", line 564, in ollama_acompletion                                                                                      
               raise e  # don't use verbose_logger.exception, if exception is raised                                                                                                                                                      
               ^^^^^^^                                                                                                                                                                                                                    
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py", line 505, in ollama_acompletion                                                                                      
               resp = await session.post(url, json=data)                                                                                                                                                                                  
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                  
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/client.py", line 696, in _request                                                                                                     
               conn = await self._connector.connect(                                                                                                                                                                                      
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                      
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 544, in connect                                                                                                   
               proto = await self._create_connection(req, traces, timeout)                                                                                                                                                                
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1050, in _create_connection                                                                                       
               _, proto = await self._create_direct_connection(req, traces, timeout)                                                                                                                                                      
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                      
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1394, in _create_direct_connection                                                                                
               raise last_exc                                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1363, in _create_direct_connection                                                                                
               transp, proto = await self._wrap_create_connection(                                                                                                                                                                        
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                        
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1124, in _wrap_create_connection                                                                                  
               raise client_error(req.connection_key, exc) from exc                                                                                                                                                                       
           aiohttp.client_exceptions.ClientConnectorError: Cannot connect to host localhost:11434 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1',   
           11434)]                                                                                                                                                                                                                        
                                                                                                                                                                                                                                          
           Received Model Group=ollama/llama3.3                                                                                                                                                                                           
           Available Model Group Fallbacks=None LiteLLM Retried: 2 times, LiteLLM Max Retries: 3                                                                                                                                          
[07:03:58] Answer:                                                                                                                                                                                                                        

[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.

[07:04:18] Trajectory failed.                                                                                                                                                                                                             
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1109 in _wrap_create_connection                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1106 â”‚   â”‚   â”‚   async with ceil_timeout(                                                                                                                                                                                 â”‚
           â”‚   1107 â”‚   â”‚   â”‚   â”‚   timeout.sock_connect, ceil_threshold=timeout.ceil_threshold                                                                                                                                          â”‚
           â”‚   1108 â”‚   â”‚   â”‚   ):                                                                                                                                                                                                       â”‚
           â”‚ â± 1109 â”‚   â”‚   â”‚   â”‚   sock = await aiohappyeyeballs.start_connection(                                                                                                                                                      â”‚
           â”‚   1110 â”‚   â”‚   â”‚   â”‚   â”‚   addr_infos=addr_infos,                                                                                                                                                                           â”‚
           â”‚   1111 â”‚   â”‚   â”‚   â”‚   â”‚   local_addr_infos=self._local_addr_infos,                                                                                                                                                         â”‚
           â”‚   1112 â”‚   â”‚   â”‚   â”‚   â”‚   happy_eyeballs_delay=self._happy_eyeballs_delay,                                                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohappyeyeballs/impl.py:123 in start_connection                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   120 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   isinstance(exc, OSError) and exc.errno == first_errno                                                                                                                                         â”‚
           â”‚   121 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   for exc in all_exceptions                                                                                                                                                                     â”‚
           â”‚   122 â”‚   â”‚   â”‚   â”‚   â”‚   ):                                                                                                                                                                                                â”‚
           â”‚ â± 123 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   raise OSError(first_errno, msg)                                                                                                                                                               â”‚
           â”‚   124 â”‚   â”‚   â”‚   â”‚   elif isinstance(first_exception, RuntimeError) and all(                                                                                                                                               â”‚
           â”‚   125 â”‚   â”‚   â”‚   â”‚   â”‚   isinstance(exc, RuntimeError) for exc in all_exceptions                                                                                                                                           â”‚
           â”‚   126 â”‚   â”‚   â”‚   â”‚   ):                                                                                                                                                                                                    â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           ConnectionRefusedError: [Errno 111] Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11434)                                                            
                                                                                                                                                                                                                                          
           The above exception was the direct cause of the following exception:                                                                                                                                                           
                                                                                                                                                                                                                                          
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py:477 in acompletion                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    474 â”‚   â”‚   â”‚   â”‚   â”‚   response = ModelResponse(**init_response)                                                                                                                                                        â”‚
           â”‚    475 â”‚   â”‚   â”‚   â”‚   response = init_response                                                                                                                                                                             â”‚
           â”‚    476 â”‚   â”‚   â”‚   elif asyncio.iscoroutine(init_response):                                                                                                                                                                 â”‚
           â”‚ â±  477 â”‚   â”‚   â”‚   â”‚   response = await init_response                                                                                                                                                                       â”‚
           â”‚    478 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                    â”‚
           â”‚    479 â”‚   â”‚   â”‚   â”‚   response = init_response  # type: ignore                                                                                                                                                             â”‚
           â”‚    480                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py:564 in ollama_acompletion                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   561 â”‚   â”‚   â”‚   )                                                                                                                                                                                                         â”‚
           â”‚   562 â”‚   â”‚   â”‚   return model_response                                                                                                                                                                                     â”‚
           â”‚   563 â”‚   except Exception as e:                                                                                                                                                                                            â”‚
           â”‚ â± 564 â”‚   â”‚   raise e  # don't use verbose_logger.exception, if exception is raised                                                                                                                                         â”‚
           â”‚   565                                                                                                                                                                                                                       â”‚
           â”‚   566                                                                                                                                                                                                                       â”‚
           â”‚   567 async def ollama_aembeddings(                                                                                                                                                                                         â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py:505 in ollama_acompletion                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   502 â”‚   try:                                                                                                                                                                                                              â”‚
           â”‚   503 â”‚   â”‚   timeout = aiohttp.ClientTimeout(total=litellm.request_timeout)  # 10 minutes                                                                                                                                  â”‚
           â”‚   504 â”‚   â”‚   async with aiohttp.ClientSession(timeout=timeout) as session:                                                                                                                                                 â”‚
           â”‚ â± 505 â”‚   â”‚   â”‚   resp = await session.post(url, json=data)                                                                                                                                                                 â”‚
           â”‚   506 â”‚   â”‚   â”‚                                                                                                                                                                                                             â”‚
           â”‚   507 â”‚   â”‚   â”‚   if resp.status != 200:                                                                                                                                                                                    â”‚
           â”‚   508 â”‚   â”‚   â”‚   â”‚   text = await resp.text()                                                                                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/client.py:696 in _request                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    693 â”‚   â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                    â”‚
           â”‚    694 â”‚   â”‚   â”‚   â”‚   â”‚   # connection timeout                                                                                                                                                                             â”‚
           â”‚    695 â”‚   â”‚   â”‚   â”‚   â”‚   try:                                                                                                                                                                                             â”‚
           â”‚ â±  696 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   conn = await self._connector.connect(                                                                                                                                                        â”‚
           â”‚    697 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   req, traces=traces, timeout=real_timeout                                                                                                                                                 â”‚
           â”‚    698 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                            â”‚
           â”‚    699 â”‚   â”‚   â”‚   â”‚   â”‚   except asyncio.TimeoutError as exc:                                                                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:544 in connect                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    541 â”‚   â”‚   â”‚   â”‚   if traces:                                                                                                                                                                                           â”‚
           â”‚    542 â”‚   â”‚   â”‚   â”‚   â”‚   for trace in traces:                                                                                                                                                                             â”‚
           â”‚    543 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   await trace.send_connection_create_start()                                                                                                                                                   â”‚
           â”‚ â±  544 â”‚   â”‚   â”‚   â”‚   proto = await self._create_connection(req, traces, timeout)                                                                                                                                          â”‚
           â”‚    545 â”‚   â”‚   â”‚   â”‚   if traces:                                                                                                                                                                                           â”‚
           â”‚    546 â”‚   â”‚   â”‚   â”‚   â”‚   for trace in traces:                                                                                                                                                                             â”‚
           â”‚    547 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   await trace.send_connection_create_end()                                                                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1050 in _create_connection                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1047 â”‚   â”‚   if req.proxy:                                                                                                                                                                                                â”‚
           â”‚   1048 â”‚   â”‚   â”‚   _, proto = await self._create_proxy_connection(req, traces, timeout)                                                                                                                                     â”‚
           â”‚   1049 â”‚   â”‚   else:                                                                                                                                                                                                        â”‚
           â”‚ â± 1050 â”‚   â”‚   â”‚   _, proto = await self._create_direct_connection(req, traces, timeout)                                                                                                                                    â”‚
           â”‚   1051 â”‚   â”‚                                                                                                                                                                                                                â”‚
           â”‚   1052 â”‚   â”‚   return proto                                                                                                                                                                                                 â”‚
           â”‚   1053                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1394 in _create_direct_connection                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1391 â”‚   â”‚   â”‚   return transp, proto                                                                                                                                                                                     â”‚
           â”‚   1392 â”‚   â”‚   else:                                                                                                                                                                                                        â”‚
           â”‚   1393 â”‚   â”‚   â”‚   assert last_exc is not None                                                                                                                                                                              â”‚
           â”‚ â± 1394 â”‚   â”‚   â”‚   raise last_exc                                                                                                                                                                                           â”‚
           â”‚   1395 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   1396 â”‚   async def _create_proxy_connection(                                                                                                                                                                              â”‚
           â”‚   1397 â”‚   â”‚   self, req: ClientRequest, traces: List["Trace"], timeout: "ClientTimeout"                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1363 in _create_direct_connection                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1360 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚   1361 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚   1362 â”‚   â”‚   â”‚   try:                                                                                                                                                                                                     â”‚
           â”‚ â± 1363 â”‚   â”‚   â”‚   â”‚   transp, proto = await self._wrap_create_connection(                                                                                                                                                  â”‚
           â”‚   1364 â”‚   â”‚   â”‚   â”‚   â”‚   self._factory,                                                                                                                                                                                   â”‚
           â”‚   1365 â”‚   â”‚   â”‚   â”‚   â”‚   timeout=timeout,                                                                                                                                                                                 â”‚
           â”‚   1366 â”‚   â”‚   â”‚   â”‚   â”‚   ssl=sslcontext,                                                                                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1124 in _wrap_create_connection                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1121 â”‚   â”‚   except OSError as exc:                                                                                                                                                                                       â”‚
           â”‚   1122 â”‚   â”‚   â”‚   if exc.errno is None and isinstance(exc, asyncio.TimeoutError):                                                                                                                                          â”‚
           â”‚   1123 â”‚   â”‚   â”‚   â”‚   raise                                                                                                                                                                                                â”‚
           â”‚ â± 1124 â”‚   â”‚   â”‚   raise client_error(req.connection_key, exc) from exc                                                                                                                                                     â”‚
           â”‚   1125 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   1126 â”‚   async def _wrap_existing_connection(                                                                                                                                                                             â”‚
           â”‚   1127 â”‚   â”‚   self,                                                                                                                                                                                                        â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           ClientConnectorError: Cannot connect to host localhost:11434 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11434)]                     
                                                                                                                                                                                                                                          
           During handling of the above exception, another exception occurred:                                                                                                                                                            
                                                                                                                                                                                                                                          
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:276 in _run_with_timeout_failure                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   273 ) -> tuple[PQASession, AgentStatus]:                                                                                                                                                                                  â”‚
           â”‚   274 â”‚   try:                                                                                                                                                                                                              â”‚
           â”‚   275 â”‚   â”‚   async with asyncio.timeout(query.settings.agent.timeout):                                                                                                                                                     â”‚
           â”‚ â± 276 â”‚   â”‚   â”‚   status = await rollout()                                                                                                                                                                                  â”‚
           â”‚   277 â”‚   except TimeoutError:                                                                                                                                                                                              â”‚
           â”‚   278 â”‚   â”‚   logger.warning(                                                                                                                                                                                               â”‚
           â”‚   279 â”‚   â”‚   â”‚   f"Agent timeout after {query.settings.agent.timeout}-sec, just answering."                                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:410 in rollout                                                                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   407 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                     â”‚
           â”‚   408 â”‚   â”‚   â”‚   â”‚   return AgentStatus.TRUNCATED                                                                                                                                                                          â”‚
           â”‚   409 â”‚   â”‚   â”‚   agent_state.messages += obs                                                                                                                                                                               â”‚
           â”‚ â± 410 â”‚   â”‚   â”‚   for attempt in Retrying(                                                                                                                                                                                  â”‚
           â”‚   411 â”‚   â”‚   â”‚   â”‚   stop=stop_after_attempt(5),                                                                                                                                                                           â”‚
           â”‚   412 â”‚   â”‚   â”‚   â”‚   retry=retry_if_exception_type(MalformedMessageError),                                                                                                                                                 â”‚
           â”‚   413 â”‚   â”‚   â”‚   â”‚   before_sleep=before_sleep_log(logger, logging.WARNING),                                                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:443 in __iter__                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   440 â”‚   â”‚                                                                                                                                                                                                                 â”‚
           â”‚   441 â”‚   â”‚   retry_state = RetryCallState(self, fn=None, args=(), kwargs={})                                                                                                                                               â”‚
           â”‚   442 â”‚   â”‚   while True:                                                                                                                                                                                                   â”‚
           â”‚ â± 443 â”‚   â”‚   â”‚   do = self.iter(retry_state=retry_state)                                                                                                                                                                   â”‚
           â”‚   444 â”‚   â”‚   â”‚   if isinstance(do, DoAttempt):                                                                                                                                                                             â”‚
           â”‚   445 â”‚   â”‚   â”‚   â”‚   yield AttemptManager(retry_state=retry_state)                                                                                                                                                         â”‚
           â”‚   446 â”‚   â”‚   â”‚   elif isinstance(do, DoSleep):                                                                                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:376 in iter                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   373 â”‚   â”‚   self._begin_iter(retry_state)                                                                                                                                                                                 â”‚
           â”‚   374 â”‚   â”‚   result = None                                                                                                                                                                                                 â”‚
           â”‚   375 â”‚   â”‚   for action in self.iter_state.actions:                                                                                                                                                                        â”‚
           â”‚ â± 376 â”‚   â”‚   â”‚   result = action(retry_state)                                                                                                                                                                              â”‚
           â”‚   377 â”‚   â”‚   return result                                                                                                                                                                                                 â”‚
           â”‚   378 â”‚                                                                                                                                                                                                                     â”‚
           â”‚   379 â”‚   def _begin_iter(self, retry_state: "RetryCallState") -> None:  # noqa                                                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:398 in <lambda>                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   395 â”‚                                                                                                                                                                                                                     â”‚
           â”‚   396 â”‚   def _post_retry_check_actions(self, retry_state: "RetryCallState") -> None:                                                                                                                                       â”‚
           â”‚   397 â”‚   â”‚   if not (self.iter_state.is_explicit_retry or self.iter_state.retry_run_result):                                                                                                                               â”‚
           â”‚ â± 398 â”‚   â”‚   â”‚   self._add_action_func(lambda rs: rs.outcome.result())                                                                                                                                                     â”‚
           â”‚   399 â”‚   â”‚   â”‚   return                                                                                                                                                                                                    â”‚
           â”‚   400 â”‚   â”‚                                                                                                                                                                                                                 â”‚
           â”‚   401 â”‚   â”‚   if self.after is not None:                                                                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/concurrent/futures/_base.py:449 in result                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   446 â”‚   â”‚   â”‚   â”‚   if self._state in [CANCELLED, CANCELLED_AND_NOTIFIED]:                                                                                                                                                â”‚
           â”‚   447 â”‚   â”‚   â”‚   â”‚   â”‚   raise CancelledError()                                                                                                                                                                            â”‚
           â”‚   448 â”‚   â”‚   â”‚   â”‚   elif self._state == FINISHED:                                                                                                                                                                         â”‚
           â”‚ â± 449 â”‚   â”‚   â”‚   â”‚   â”‚   return self.__get_result()                                                                                                                                                                        â”‚
           â”‚   450 â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                         â”‚
           â”‚   451 â”‚   â”‚   â”‚   â”‚   self._condition.wait(timeout)                                                                                                                                                                         â”‚
           â”‚   452                                                                                                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/concurrent/futures/_base.py:401 in __get_result                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   398 â”‚   def __get_result(self):                                                                                                                                                                                           â”‚
           â”‚   399 â”‚   â”‚   if self._exception:                                                                                                                                                                                           â”‚
           â”‚   400 â”‚   â”‚   â”‚   try:                                                                                                                                                                                                      â”‚
           â”‚ â± 401 â”‚   â”‚   â”‚   â”‚   raise self._exception                                                                                                                                                                                 â”‚
           â”‚   402 â”‚   â”‚   â”‚   finally:                                                                                                                                                                                                  â”‚
           â”‚   403 â”‚   â”‚   â”‚   â”‚   # Break a reference cycle with the exception in self._exception                                                                                                                                       â”‚
           â”‚   404 â”‚   â”‚   â”‚   â”‚   self = None                                                                                                                                                                                           â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:417 in rollout                                                                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   414 â”‚   â”‚   â”‚   â”‚   reraise=True,                                                                                                                                                                                         â”‚
           â”‚   415 â”‚   â”‚   â”‚   ):                                                                                                                                                                                                        â”‚
           â”‚   416 â”‚   â”‚   â”‚   â”‚   with attempt:  # Retrying if ToolSelector fails to select a tool                                                                                                                                      â”‚
           â”‚ â± 417 â”‚   â”‚   â”‚   â”‚   â”‚   action = await agent(agent_state.messages, tools)                                                                                                                                                 â”‚
           â”‚   418 â”‚   â”‚   â”‚   agent_state.messages = [*agent_state.messages, action]                                                                                                                                                    â”‚
           â”‚   419 â”‚   â”‚   â”‚   if on_agent_action_callback:                                                                                                                                                                              â”‚
           â”‚   420 â”‚   â”‚   â”‚   â”‚   await on_agent_action_callback(action, agent_state)                                                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aviary/tools/utils.py:182 in __call__                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   179 â”‚   â”‚   â”‚   self._ledger.messages.extend(messages)                                                                                                                                                                    â”‚
           â”‚   180 â”‚   â”‚   â”‚   messages = self._ledger.messages                                                                                                                                                                          â”‚
           â”‚   181 â”‚   â”‚                                                                                                                                                                                                                 â”‚
           â”‚ â± 182 â”‚   â”‚   model_response = await self._bound_acompletion(                                                                                                                                                               â”‚
           â”‚   183 â”‚   â”‚   â”‚   messages=MessagesAdapter.dump_python(                                                                                                                                                                     â”‚
           â”‚   184 â”‚   â”‚   â”‚   â”‚   messages, exclude_none=True, by_alias=True                                                                                                                                                            â”‚
           â”‚   185 â”‚   â”‚   â”‚   ),                                                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:819 in acompletion                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    816 â”‚   â”‚   â”‚   â”‚   â”‚   original_exception=e,                                                                                                                                                                            â”‚
           â”‚    817 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                    â”‚
           â”‚    818 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚ â±  819 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚    820 â”‚                                                                                                                                                                                                                    â”‚
           â”‚    821 â”‚   async def _acompletion(                                                                                                                                                                                          â”‚
           â”‚    822 â”‚   â”‚   self, model: str, messages: List[Dict[str, str]], **kwargs                                                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:795 in acompletion                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    792 â”‚   â”‚   â”‚   if request_priority is not None and isinstance(request_priority, int):                                                                                                                                   â”‚
           â”‚    793 â”‚   â”‚   â”‚   â”‚   response = await self.schedule_acompletion(**kwargs)                                                                                                                                                 â”‚
           â”‚    794 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                    â”‚
           â”‚ â±  795 â”‚   â”‚   â”‚   â”‚   response = await self.async_function_with_fallbacks(**kwargs)                                                                                                                                        â”‚
           â”‚    796 â”‚   â”‚   â”‚   end_time = time.time()                                                                                                                                                                                   â”‚
           â”‚    797 â”‚   â”‚   â”‚   _duration = end_time - start_time                                                                                                                                                                        â”‚
           â”‚    798 â”‚   â”‚   â”‚   asyncio.create_task(                                                                                                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2792 in async_function_with_fallbacks                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2789 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                            â”‚
           â”‚   2790 â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                â”‚
           â”‚   2791 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚ â± 2792 â”‚   â”‚   â”‚   raise original_exception                                                                                                                                                                                 â”‚
           â”‚   2793 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   2794 â”‚   def _handle_mock_testing_fallbacks(                                                                                                                                                                              â”‚
           â”‚   2795 â”‚   â”‚   self,                                                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2628 in async_function_with_fallbacks                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2625 â”‚   â”‚   â”‚   â”‚   content_policy_fallbacks=content_policy_fallbacks,                                                                                                                                                   â”‚
           â”‚   2626 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚   2627 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚ â± 2628 â”‚   â”‚   â”‚   response = await self.async_function_with_retries(*args, **kwargs)                                                                                                                                       â”‚
           â”‚   2629 â”‚   â”‚   â”‚   verbose_router_logger.debug(f"Async Response: {response}")                                                                                                                                               â”‚
           â”‚   2630 â”‚   â”‚   â”‚   return response                                                                                                                                                                                          â”‚
           â”‚   2631 â”‚   â”‚   except Exception as e:                                                                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2964 in async_function_with_retries                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2961 â”‚   â”‚   â”‚   â”‚   setattr(original_exception, "max_retries", num_retries)                                                                                                                                              â”‚
           â”‚   2962 â”‚   â”‚   â”‚   â”‚   setattr(original_exception, "num_retries", current_attempt)                                                                                                                                          â”‚
           â”‚   2963 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚ â± 2964 â”‚   â”‚   â”‚   raise original_exception                                                                                                                                                                                 â”‚
           â”‚   2965 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   2966 â”‚   async def make_call(self, original_function: Any, *args, **kwargs):                                                                                                                                              â”‚
           â”‚   2967 â”‚   â”‚   """                                                                                                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2876 in async_function_with_retries                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2873 â”‚   â”‚   â”‚   â”‚   model_group=model_group, kwargs=kwargs                                                                                                                                                               â”‚
           â”‚   2874 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚   2875 â”‚   â”‚   â”‚   # if the function call is successful, no exception will be raised and we'll                                                                                                                              â”‚
           â”‚        break out of the loop                                                                                                                                                                                                â”‚
           â”‚ â± 2876 â”‚   â”‚   â”‚   response = await self.make_call(original_function, *args, **kwargs)                                                                                                                                      â”‚
           â”‚   2877 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚   2878 â”‚   â”‚   â”‚   return response                                                                                                                                                                                          â”‚
           â”‚   2879 â”‚   â”‚   except Exception as e:                                                                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2973 in make_call                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2970 â”‚   â”‚   model_group = kwargs.get("model")                                                                                                                                                                            â”‚
           â”‚   2971 â”‚   â”‚   response = original_function(*args, **kwargs)                                                                                                                                                                â”‚
           â”‚   2972 â”‚   â”‚   if inspect.iscoroutinefunction(response) or inspect.isawaitable(response):                                                                                                                                   â”‚
           â”‚ â± 2973 â”‚   â”‚   â”‚   response = await response                                                                                                                                                                                â”‚
           â”‚   2974 â”‚   â”‚   ## PROCESS RESPONSE HEADERS                                                                                                                                                                                  â”‚
           â”‚   2975 â”‚   â”‚   await self.set_response_headers(response=response, model_group=model_group)                                                                                                                                  â”‚
           â”‚   2976                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:949 in _acompletion                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    946 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚    947 â”‚   â”‚   â”‚   if model_name is not None:                                                                                                                                                                               â”‚
           â”‚    948 â”‚   â”‚   â”‚   â”‚   self.fail_calls[model_name] += 1                                                                                                                                                                     â”‚
           â”‚ â±  949 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚    950 â”‚                                                                                                                                                                                                                    â”‚
           â”‚    951 â”‚   def _update_kwargs_with_default_litellm_params(self, kwargs: dict) -> None:                                                                                                                                      â”‚
           â”‚    952 â”‚   â”‚   """                                                                                                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:917 in _acompletion                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    914 â”‚   â”‚   â”‚   â”‚   â”‚   parent_otel_span=parent_otel_span,                                                                                                                                                               â”‚
           â”‚    915 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                    â”‚
           â”‚    916 â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                        â”‚
           â”‚ â±  917 â”‚   â”‚   â”‚   â”‚   response = await _response                                                                                                                                                                           â”‚
           â”‚    918 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚    919 â”‚   â”‚   â”‚   ## CHECK CONTENT FILTER ERROR ##                                                                                                                                                                         â”‚
           â”‚    920 â”‚   â”‚   â”‚   if isinstance(response, ModelResponse):                                                                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/utils.py:1174 in wrapper_async                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1171 â”‚   â”‚   â”‚   â”‚   â”‚   else:                                                                                                                                                                                            â”‚
           â”‚   1172 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   kwargs["model"] = context_window_fallback_dict[model]                                                                                                                                        â”‚
           â”‚   1173 â”‚   â”‚   â”‚   â”‚   â”‚   return await original_function(*args, **kwargs)                                                                                                                                                  â”‚
           â”‚ â± 1174 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚   1175 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   1176 â”‚   is_coroutine = inspect.iscoroutinefunction(original_function)                                                                                                                                                    â”‚
           â”‚   1177                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/utils.py:1030 in wrapper_async                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1027 â”‚   â”‚   â”‚   â”‚   return _caching_handler_response.final_embedding_cached_response                                                                                                                                     â”‚
           â”‚   1028 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚   1029 â”‚   â”‚   â”‚   # MODEL CALL                                                                                                                                                                                             â”‚
           â”‚ â± 1030 â”‚   â”‚   â”‚   result = await original_function(*args, **kwargs)                                                                                                                                                        â”‚
           â”‚   1031 â”‚   â”‚   â”‚   end_time = datetime.datetime.now()                                                                                                                                                                       â”‚
           â”‚   1032 â”‚   â”‚   â”‚   if "stream" in kwargs and kwargs["stream"] is True:                                                                                                                                                      â”‚
           â”‚   1033 â”‚   â”‚   â”‚   â”‚   if (                                                                                                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py:499 in acompletion                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    496 â”‚   â”‚   return response                                                                                                                                                                                              â”‚
           â”‚    497 â”‚   except Exception as e:                                                                                                                                                                                           â”‚
           â”‚    498 â”‚   â”‚   custom_llm_provider = custom_llm_provider or "openai"                                                                                                                                                        â”‚
           â”‚ â±  499 â”‚   â”‚   raise exception_type(                                                                                                                                                                                        â”‚
           â”‚    500 â”‚   â”‚   â”‚   model=model,                                                                                                                                                                                             â”‚
           â”‚    501 â”‚   â”‚   â”‚   custom_llm_provider=custom_llm_provider,                                                                                                                                                                 â”‚
           â”‚    502 â”‚   â”‚   â”‚   original_exception=e,                                                                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/litellm_core_utils/exception_mapping_utils.py:2122 in exception_type                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2119 â”‚   â”‚   # don't let an error with mapping interrupt the user from receiving an error                                                                                                                                 â”‚
           â”‚        from the llm api calls                                                                                                                                                                                               â”‚
           â”‚   2120 â”‚   â”‚   if exception_mapping_worked:                                                                                                                                                                                 â”‚
           â”‚   2121 â”‚   â”‚   â”‚   setattr(e, "litellm_response_headers", litellm_response_headers)                                                                                                                                         â”‚
           â”‚ â± 2122 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚   2123 â”‚   â”‚   else:                                                                                                                                                                                                        â”‚
           â”‚   2124 â”‚   â”‚   â”‚   for error_type in litellm.LITELLM_EXCEPTION_TYPES:                                                                                                                                                       â”‚
           â”‚   2125 â”‚   â”‚   â”‚   â”‚   if isinstance(e, error_type):                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/litellm_core_utils/exception_mapping_utils.py:2098 in exception_type                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2095 â”‚   â”‚   â”‚   â”‚   â”‚   request=original_exception.request,                                                                                                                                                              â”‚
           â”‚   2096 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                    â”‚
           â”‚   2097 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                    â”‚
           â”‚ â± 2098 â”‚   â”‚   â”‚   â”‚   raise APIConnectionError(                                                                                                                                                                            â”‚
           â”‚   2099 â”‚   â”‚   â”‚   â”‚   â”‚   message="{}\n{}".format(                                                                                                                                                                         â”‚
           â”‚   2100 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   str(original_exception), traceback.format_exc()                                                                                                                                              â”‚
           â”‚   2101 â”‚   â”‚   â”‚   â”‚   â”‚   ),                                                                                                                                                                                               â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           APIConnectionError: litellm.APIConnectionError: Cannot connect to host localhost:11434 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1',   
           11434)]                                                                                                                                                                                                                        
           Traceback (most recent call last):                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1109, in _wrap_create_connection                                                                                  
               sock = await aiohappyeyeballs.start_connection(                                                                                                                                                                            
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                            
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohappyeyeballs/impl.py", line 123, in start_connection                                                                                      
               raise OSError(first_errno, msg)                                                                                                                                                                                            
           ConnectionRefusedError: [Errno 111] Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11434)                                                            
                                                                                                                                                                                                                                          
           The above exception was the direct cause of the following exception:                                                                                                                                                           
                                                                                                                                                                                                                                          
           Traceback (most recent call last):                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py", line 477, in acompletion                                                                                                    
               response = await init_response                                                                                                                                                                                             
                          ^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py", line 564, in ollama_acompletion                                                                                      
               raise e  # don't use verbose_logger.exception, if exception is raised                                                                                                                                                      
               ^^^^^^^                                                                                                                                                                                                                    
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py", line 505, in ollama_acompletion                                                                                      
               resp = await session.post(url, json=data)                                                                                                                                                                                  
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                  
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/client.py", line 696, in _request                                                                                                     
               conn = await self._connector.connect(                                                                                                                                                                                      
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                      
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 544, in connect                                                                                                   
               proto = await self._create_connection(req, traces, timeout)                                                                                                                                                                
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1050, in _create_connection                                                                                       
               _, proto = await self._create_direct_connection(req, traces, timeout)                                                                                                                                                      
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                      
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1394, in _create_direct_connection                                                                                
               raise last_exc                                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1363, in _create_direct_connection                                                                                
               transp, proto = await self._wrap_create_connection(                                                                                                                                                                        
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                        
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1124, in _wrap_create_connection                                                                                  
               raise client_error(req.connection_key, exc) from exc                                                                                                                                                                       
           aiohttp.client_exceptions.ClientConnectorError: Cannot connect to host localhost:11434 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1',   
           11434)]                                                                                                                                                                                                                        
                                                                                                                                                                                                                                          
           Received Model Group=ollama/llama3.3                                                                                                                                                                                           
           Available Model Group Fallbacks=None LiteLLM Retried: 2 times, LiteLLM Max Retries: 3                                                                                                                                          
[07:04:20] Answer:                                                                                                                                                                                                                        

[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.

[07:04:40] Trajectory failed.                                                                                                                                                                                                             
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1109 in _wrap_create_connection                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1106 â”‚   â”‚   â”‚   async with ceil_timeout(                                                                                                                                                                                 â”‚
           â”‚   1107 â”‚   â”‚   â”‚   â”‚   timeout.sock_connect, ceil_threshold=timeout.ceil_threshold                                                                                                                                          â”‚
           â”‚   1108 â”‚   â”‚   â”‚   ):                                                                                                                                                                                                       â”‚
           â”‚ â± 1109 â”‚   â”‚   â”‚   â”‚   sock = await aiohappyeyeballs.start_connection(                                                                                                                                                      â”‚
           â”‚   1110 â”‚   â”‚   â”‚   â”‚   â”‚   addr_infos=addr_infos,                                                                                                                                                                           â”‚
           â”‚   1111 â”‚   â”‚   â”‚   â”‚   â”‚   local_addr_infos=self._local_addr_infos,                                                                                                                                                         â”‚
           â”‚   1112 â”‚   â”‚   â”‚   â”‚   â”‚   happy_eyeballs_delay=self._happy_eyeballs_delay,                                                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohappyeyeballs/impl.py:123 in start_connection                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   120 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   isinstance(exc, OSError) and exc.errno == first_errno                                                                                                                                         â”‚
           â”‚   121 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   for exc in all_exceptions                                                                                                                                                                     â”‚
           â”‚   122 â”‚   â”‚   â”‚   â”‚   â”‚   ):                                                                                                                                                                                                â”‚
           â”‚ â± 123 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   raise OSError(first_errno, msg)                                                                                                                                                               â”‚
           â”‚   124 â”‚   â”‚   â”‚   â”‚   elif isinstance(first_exception, RuntimeError) and all(                                                                                                                                               â”‚
           â”‚   125 â”‚   â”‚   â”‚   â”‚   â”‚   isinstance(exc, RuntimeError) for exc in all_exceptions                                                                                                                                           â”‚
           â”‚   126 â”‚   â”‚   â”‚   â”‚   ):                                                                                                                                                                                                    â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           ConnectionRefusedError: [Errno 111] Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11434)                                                            
                                                                                                                                                                                                                                          
           The above exception was the direct cause of the following exception:                                                                                                                                                           
                                                                                                                                                                                                                                          
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py:477 in acompletion                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    474 â”‚   â”‚   â”‚   â”‚   â”‚   response = ModelResponse(**init_response)                                                                                                                                                        â”‚
           â”‚    475 â”‚   â”‚   â”‚   â”‚   response = init_response                                                                                                                                                                             â”‚
           â”‚    476 â”‚   â”‚   â”‚   elif asyncio.iscoroutine(init_response):                                                                                                                                                                 â”‚
           â”‚ â±  477 â”‚   â”‚   â”‚   â”‚   response = await init_response                                                                                                                                                                       â”‚
           â”‚    478 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                    â”‚
           â”‚    479 â”‚   â”‚   â”‚   â”‚   response = init_response  # type: ignore                                                                                                                                                             â”‚
           â”‚    480                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py:564 in ollama_acompletion                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   561 â”‚   â”‚   â”‚   )                                                                                                                                                                                                         â”‚
           â”‚   562 â”‚   â”‚   â”‚   return model_response                                                                                                                                                                                     â”‚
           â”‚   563 â”‚   except Exception as e:                                                                                                                                                                                            â”‚
           â”‚ â± 564 â”‚   â”‚   raise e  # don't use verbose_logger.exception, if exception is raised                                                                                                                                         â”‚
           â”‚   565                                                                                                                                                                                                                       â”‚
           â”‚   566                                                                                                                                                                                                                       â”‚
           â”‚   567 async def ollama_aembeddings(                                                                                                                                                                                         â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py:505 in ollama_acompletion                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   502 â”‚   try:                                                                                                                                                                                                              â”‚
           â”‚   503 â”‚   â”‚   timeout = aiohttp.ClientTimeout(total=litellm.request_timeout)  # 10 minutes                                                                                                                                  â”‚
           â”‚   504 â”‚   â”‚   async with aiohttp.ClientSession(timeout=timeout) as session:                                                                                                                                                 â”‚
           â”‚ â± 505 â”‚   â”‚   â”‚   resp = await session.post(url, json=data)                                                                                                                                                                 â”‚
           â”‚   506 â”‚   â”‚   â”‚                                                                                                                                                                                                             â”‚
           â”‚   507 â”‚   â”‚   â”‚   if resp.status != 200:                                                                                                                                                                                    â”‚
           â”‚   508 â”‚   â”‚   â”‚   â”‚   text = await resp.text()                                                                                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/client.py:696 in _request                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    693 â”‚   â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                    â”‚
           â”‚    694 â”‚   â”‚   â”‚   â”‚   â”‚   # connection timeout                                                                                                                                                                             â”‚
           â”‚    695 â”‚   â”‚   â”‚   â”‚   â”‚   try:                                                                                                                                                                                             â”‚
           â”‚ â±  696 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   conn = await self._connector.connect(                                                                                                                                                        â”‚
           â”‚    697 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   req, traces=traces, timeout=real_timeout                                                                                                                                                 â”‚
           â”‚    698 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                            â”‚
           â”‚    699 â”‚   â”‚   â”‚   â”‚   â”‚   except asyncio.TimeoutError as exc:                                                                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:544 in connect                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    541 â”‚   â”‚   â”‚   â”‚   if traces:                                                                                                                                                                                           â”‚
           â”‚    542 â”‚   â”‚   â”‚   â”‚   â”‚   for trace in traces:                                                                                                                                                                             â”‚
           â”‚    543 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   await trace.send_connection_create_start()                                                                                                                                                   â”‚
           â”‚ â±  544 â”‚   â”‚   â”‚   â”‚   proto = await self._create_connection(req, traces, timeout)                                                                                                                                          â”‚
           â”‚    545 â”‚   â”‚   â”‚   â”‚   if traces:                                                                                                                                                                                           â”‚
           â”‚    546 â”‚   â”‚   â”‚   â”‚   â”‚   for trace in traces:                                                                                                                                                                             â”‚
           â”‚    547 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   await trace.send_connection_create_end()                                                                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1050 in _create_connection                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1047 â”‚   â”‚   if req.proxy:                                                                                                                                                                                                â”‚
           â”‚   1048 â”‚   â”‚   â”‚   _, proto = await self._create_proxy_connection(req, traces, timeout)                                                                                                                                     â”‚
           â”‚   1049 â”‚   â”‚   else:                                                                                                                                                                                                        â”‚
           â”‚ â± 1050 â”‚   â”‚   â”‚   _, proto = await self._create_direct_connection(req, traces, timeout)                                                                                                                                    â”‚
           â”‚   1051 â”‚   â”‚                                                                                                                                                                                                                â”‚
           â”‚   1052 â”‚   â”‚   return proto                                                                                                                                                                                                 â”‚
           â”‚   1053                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1394 in _create_direct_connection                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1391 â”‚   â”‚   â”‚   return transp, proto                                                                                                                                                                                     â”‚
           â”‚   1392 â”‚   â”‚   else:                                                                                                                                                                                                        â”‚
           â”‚   1393 â”‚   â”‚   â”‚   assert last_exc is not None                                                                                                                                                                              â”‚
           â”‚ â± 1394 â”‚   â”‚   â”‚   raise last_exc                                                                                                                                                                                           â”‚
           â”‚   1395 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   1396 â”‚   async def _create_proxy_connection(                                                                                                                                                                              â”‚
           â”‚   1397 â”‚   â”‚   self, req: ClientRequest, traces: List["Trace"], timeout: "ClientTimeout"                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1363 in _create_direct_connection                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1360 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚   1361 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚   1362 â”‚   â”‚   â”‚   try:                                                                                                                                                                                                     â”‚
           â”‚ â± 1363 â”‚   â”‚   â”‚   â”‚   transp, proto = await self._wrap_create_connection(                                                                                                                                                  â”‚
           â”‚   1364 â”‚   â”‚   â”‚   â”‚   â”‚   self._factory,                                                                                                                                                                                   â”‚
           â”‚   1365 â”‚   â”‚   â”‚   â”‚   â”‚   timeout=timeout,                                                                                                                                                                                 â”‚
           â”‚   1366 â”‚   â”‚   â”‚   â”‚   â”‚   ssl=sslcontext,                                                                                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1124 in _wrap_create_connection                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1121 â”‚   â”‚   except OSError as exc:                                                                                                                                                                                       â”‚
           â”‚   1122 â”‚   â”‚   â”‚   if exc.errno is None and isinstance(exc, asyncio.TimeoutError):                                                                                                                                          â”‚
           â”‚   1123 â”‚   â”‚   â”‚   â”‚   raise                                                                                                                                                                                                â”‚
           â”‚ â± 1124 â”‚   â”‚   â”‚   raise client_error(req.connection_key, exc) from exc                                                                                                                                                     â”‚
           â”‚   1125 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   1126 â”‚   async def _wrap_existing_connection(                                                                                                                                                                             â”‚
           â”‚   1127 â”‚   â”‚   self,                                                                                                                                                                                                        â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           ClientConnectorError: Cannot connect to host localhost:11434 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11434)]                     
                                                                                                                                                                                                                                          
           During handling of the above exception, another exception occurred:                                                                                                                                                            
                                                                                                                                                                                                                                          
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:276 in _run_with_timeout_failure                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   273 ) -> tuple[PQASession, AgentStatus]:                                                                                                                                                                                  â”‚
           â”‚   274 â”‚   try:                                                                                                                                                                                                              â”‚
           â”‚   275 â”‚   â”‚   async with asyncio.timeout(query.settings.agent.timeout):                                                                                                                                                     â”‚
           â”‚ â± 276 â”‚   â”‚   â”‚   status = await rollout()                                                                                                                                                                                  â”‚
           â”‚   277 â”‚   except TimeoutError:                                                                                                                                                                                              â”‚
           â”‚   278 â”‚   â”‚   logger.warning(                                                                                                                                                                                               â”‚
           â”‚   279 â”‚   â”‚   â”‚   f"Agent timeout after {query.settings.agent.timeout}-sec, just answering."                                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:410 in rollout                                                                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   407 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                     â”‚
           â”‚   408 â”‚   â”‚   â”‚   â”‚   return AgentStatus.TRUNCATED                                                                                                                                                                          â”‚
           â”‚   409 â”‚   â”‚   â”‚   agent_state.messages += obs                                                                                                                                                                               â”‚
           â”‚ â± 410 â”‚   â”‚   â”‚   for attempt in Retrying(                                                                                                                                                                                  â”‚
           â”‚   411 â”‚   â”‚   â”‚   â”‚   stop=stop_after_attempt(5),                                                                                                                                                                           â”‚
           â”‚   412 â”‚   â”‚   â”‚   â”‚   retry=retry_if_exception_type(MalformedMessageError),                                                                                                                                                 â”‚
           â”‚   413 â”‚   â”‚   â”‚   â”‚   before_sleep=before_sleep_log(logger, logging.WARNING),                                                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:443 in __iter__                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   440 â”‚   â”‚                                                                                                                                                                                                                 â”‚
           â”‚   441 â”‚   â”‚   retry_state = RetryCallState(self, fn=None, args=(), kwargs={})                                                                                                                                               â”‚
           â”‚   442 â”‚   â”‚   while True:                                                                                                                                                                                                   â”‚
           â”‚ â± 443 â”‚   â”‚   â”‚   do = self.iter(retry_state=retry_state)                                                                                                                                                                   â”‚
           â”‚   444 â”‚   â”‚   â”‚   if isinstance(do, DoAttempt):                                                                                                                                                                             â”‚
           â”‚   445 â”‚   â”‚   â”‚   â”‚   yield AttemptManager(retry_state=retry_state)                                                                                                                                                         â”‚
           â”‚   446 â”‚   â”‚   â”‚   elif isinstance(do, DoSleep):                                                                                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:376 in iter                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   373 â”‚   â”‚   self._begin_iter(retry_state)                                                                                                                                                                                 â”‚
           â”‚   374 â”‚   â”‚   result = None                                                                                                                                                                                                 â”‚
           â”‚   375 â”‚   â”‚   for action in self.iter_state.actions:                                                                                                                                                                        â”‚
           â”‚ â± 376 â”‚   â”‚   â”‚   result = action(retry_state)                                                                                                                                                                              â”‚
           â”‚   377 â”‚   â”‚   return result                                                                                                                                                                                                 â”‚
           â”‚   378 â”‚                                                                                                                                                                                                                     â”‚
           â”‚   379 â”‚   def _begin_iter(self, retry_state: "RetryCallState") -> None:  # noqa                                                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:398 in <lambda>                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   395 â”‚                                                                                                                                                                                                                     â”‚
           â”‚   396 â”‚   def _post_retry_check_actions(self, retry_state: "RetryCallState") -> None:                                                                                                                                       â”‚
           â”‚   397 â”‚   â”‚   if not (self.iter_state.is_explicit_retry or self.iter_state.retry_run_result):                                                                                                                               â”‚
           â”‚ â± 398 â”‚   â”‚   â”‚   self._add_action_func(lambda rs: rs.outcome.result())                                                                                                                                                     â”‚
           â”‚   399 â”‚   â”‚   â”‚   return                                                                                                                                                                                                    â”‚
           â”‚   400 â”‚   â”‚                                                                                                                                                                                                                 â”‚
           â”‚   401 â”‚   â”‚   if self.after is not None:                                                                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/concurrent/futures/_base.py:449 in result                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   446 â”‚   â”‚   â”‚   â”‚   if self._state in [CANCELLED, CANCELLED_AND_NOTIFIED]:                                                                                                                                                â”‚
           â”‚   447 â”‚   â”‚   â”‚   â”‚   â”‚   raise CancelledError()                                                                                                                                                                            â”‚
           â”‚   448 â”‚   â”‚   â”‚   â”‚   elif self._state == FINISHED:                                                                                                                                                                         â”‚
           â”‚ â± 449 â”‚   â”‚   â”‚   â”‚   â”‚   return self.__get_result()                                                                                                                                                                        â”‚
           â”‚   450 â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                         â”‚
           â”‚   451 â”‚   â”‚   â”‚   â”‚   self._condition.wait(timeout)                                                                                                                                                                         â”‚
           â”‚   452                                                                                                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/concurrent/futures/_base.py:401 in __get_result                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   398 â”‚   def __get_result(self):                                                                                                                                                                                           â”‚
           â”‚   399 â”‚   â”‚   if self._exception:                                                                                                                                                                                           â”‚
           â”‚   400 â”‚   â”‚   â”‚   try:                                                                                                                                                                                                      â”‚
           â”‚ â± 401 â”‚   â”‚   â”‚   â”‚   raise self._exception                                                                                                                                                                                 â”‚
           â”‚   402 â”‚   â”‚   â”‚   finally:                                                                                                                                                                                                  â”‚
           â”‚   403 â”‚   â”‚   â”‚   â”‚   # Break a reference cycle with the exception in self._exception                                                                                                                                       â”‚
           â”‚   404 â”‚   â”‚   â”‚   â”‚   self = None                                                                                                                                                                                           â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:417 in rollout                                                                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   414 â”‚   â”‚   â”‚   â”‚   reraise=True,                                                                                                                                                                                         â”‚
           â”‚   415 â”‚   â”‚   â”‚   ):                                                                                                                                                                                                        â”‚
           â”‚   416 â”‚   â”‚   â”‚   â”‚   with attempt:  # Retrying if ToolSelector fails to select a tool                                                                                                                                      â”‚
           â”‚ â± 417 â”‚   â”‚   â”‚   â”‚   â”‚   action = await agent(agent_state.messages, tools)                                                                                                                                                 â”‚
           â”‚   418 â”‚   â”‚   â”‚   agent_state.messages = [*agent_state.messages, action]                                                                                                                                                    â”‚
           â”‚   419 â”‚   â”‚   â”‚   if on_agent_action_callback:                                                                                                                                                                              â”‚
           â”‚   420 â”‚   â”‚   â”‚   â”‚   await on_agent_action_callback(action, agent_state)                                                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aviary/tools/utils.py:182 in __call__                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   179 â”‚   â”‚   â”‚   self._ledger.messages.extend(messages)                                                                                                                                                                    â”‚
           â”‚   180 â”‚   â”‚   â”‚   messages = self._ledger.messages                                                                                                                                                                          â”‚
           â”‚   181 â”‚   â”‚                                                                                                                                                                                                                 â”‚
           â”‚ â± 182 â”‚   â”‚   model_response = await self._bound_acompletion(                                                                                                                                                               â”‚
           â”‚   183 â”‚   â”‚   â”‚   messages=MessagesAdapter.dump_python(                                                                                                                                                                     â”‚
           â”‚   184 â”‚   â”‚   â”‚   â”‚   messages, exclude_none=True, by_alias=True                                                                                                                                                            â”‚
           â”‚   185 â”‚   â”‚   â”‚   ),                                                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:819 in acompletion                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    816 â”‚   â”‚   â”‚   â”‚   â”‚   original_exception=e,                                                                                                                                                                            â”‚
           â”‚    817 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                    â”‚
           â”‚    818 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚ â±  819 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚    820 â”‚                                                                                                                                                                                                                    â”‚
           â”‚    821 â”‚   async def _acompletion(                                                                                                                                                                                          â”‚
           â”‚    822 â”‚   â”‚   self, model: str, messages: List[Dict[str, str]], **kwargs                                                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:795 in acompletion                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    792 â”‚   â”‚   â”‚   if request_priority is not None and isinstance(request_priority, int):                                                                                                                                   â”‚
           â”‚    793 â”‚   â”‚   â”‚   â”‚   response = await self.schedule_acompletion(**kwargs)                                                                                                                                                 â”‚
           â”‚    794 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                    â”‚
           â”‚ â±  795 â”‚   â”‚   â”‚   â”‚   response = await self.async_function_with_fallbacks(**kwargs)                                                                                                                                        â”‚
           â”‚    796 â”‚   â”‚   â”‚   end_time = time.time()                                                                                                                                                                                   â”‚
           â”‚    797 â”‚   â”‚   â”‚   _duration = end_time - start_time                                                                                                                                                                        â”‚
           â”‚    798 â”‚   â”‚   â”‚   asyncio.create_task(                                                                                                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2792 in async_function_with_fallbacks                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2789 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                            â”‚
           â”‚   2790 â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                â”‚
           â”‚   2791 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚ â± 2792 â”‚   â”‚   â”‚   raise original_exception                                                                                                                                                                                 â”‚
           â”‚   2793 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   2794 â”‚   def _handle_mock_testing_fallbacks(                                                                                                                                                                              â”‚
           â”‚   2795 â”‚   â”‚   self,                                                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2628 in async_function_with_fallbacks                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2625 â”‚   â”‚   â”‚   â”‚   content_policy_fallbacks=content_policy_fallbacks,                                                                                                                                                   â”‚
           â”‚   2626 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚   2627 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚ â± 2628 â”‚   â”‚   â”‚   response = await self.async_function_with_retries(*args, **kwargs)                                                                                                                                       â”‚
           â”‚   2629 â”‚   â”‚   â”‚   verbose_router_logger.debug(f"Async Response: {response}")                                                                                                                                               â”‚
           â”‚   2630 â”‚   â”‚   â”‚   return response                                                                                                                                                                                          â”‚
           â”‚   2631 â”‚   â”‚   except Exception as e:                                                                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2964 in async_function_with_retries                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2961 â”‚   â”‚   â”‚   â”‚   setattr(original_exception, "max_retries", num_retries)                                                                                                                                              â”‚
           â”‚   2962 â”‚   â”‚   â”‚   â”‚   setattr(original_exception, "num_retries", current_attempt)                                                                                                                                          â”‚
           â”‚   2963 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚ â± 2964 â”‚   â”‚   â”‚   raise original_exception                                                                                                                                                                                 â”‚
           â”‚   2965 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   2966 â”‚   async def make_call(self, original_function: Any, *args, **kwargs):                                                                                                                                              â”‚
           â”‚   2967 â”‚   â”‚   """                                                                                                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2876 in async_function_with_retries                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2873 â”‚   â”‚   â”‚   â”‚   model_group=model_group, kwargs=kwargs                                                                                                                                                               â”‚
           â”‚   2874 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚   2875 â”‚   â”‚   â”‚   # if the function call is successful, no exception will be raised and we'll                                                                                                                              â”‚
           â”‚        break out of the loop                                                                                                                                                                                                â”‚
           â”‚ â± 2876 â”‚   â”‚   â”‚   response = await self.make_call(original_function, *args, **kwargs)                                                                                                                                      â”‚
           â”‚   2877 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚   2878 â”‚   â”‚   â”‚   return response                                                                                                                                                                                          â”‚
           â”‚   2879 â”‚   â”‚   except Exception as e:                                                                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2973 in make_call                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2970 â”‚   â”‚   model_group = kwargs.get("model")                                                                                                                                                                            â”‚
           â”‚   2971 â”‚   â”‚   response = original_function(*args, **kwargs)                                                                                                                                                                â”‚
           â”‚   2972 â”‚   â”‚   if inspect.iscoroutinefunction(response) or inspect.isawaitable(response):                                                                                                                                   â”‚
           â”‚ â± 2973 â”‚   â”‚   â”‚   response = await response                                                                                                                                                                                â”‚
           â”‚   2974 â”‚   â”‚   ## PROCESS RESPONSE HEADERS                                                                                                                                                                                  â”‚
           â”‚   2975 â”‚   â”‚   await self.set_response_headers(response=response, model_group=model_group)                                                                                                                                  â”‚
           â”‚   2976                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:949 in _acompletion                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    946 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚    947 â”‚   â”‚   â”‚   if model_name is not None:                                                                                                                                                                               â”‚
           â”‚    948 â”‚   â”‚   â”‚   â”‚   self.fail_calls[model_name] += 1                                                                                                                                                                     â”‚
           â”‚ â±  949 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚    950 â”‚                                                                                                                                                                                                                    â”‚
           â”‚    951 â”‚   def _update_kwargs_with_default_litellm_params(self, kwargs: dict) -> None:                                                                                                                                      â”‚
           â”‚    952 â”‚   â”‚   """                                                                                                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:917 in _acompletion                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    914 â”‚   â”‚   â”‚   â”‚   â”‚   parent_otel_span=parent_otel_span,                                                                                                                                                               â”‚
           â”‚    915 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                    â”‚
           â”‚    916 â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                        â”‚
           â”‚ â±  917 â”‚   â”‚   â”‚   â”‚   response = await _response                                                                                                                                                                           â”‚
           â”‚    918 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚    919 â”‚   â”‚   â”‚   ## CHECK CONTENT FILTER ERROR ##                                                                                                                                                                         â”‚
           â”‚    920 â”‚   â”‚   â”‚   if isinstance(response, ModelResponse):                                                                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/utils.py:1174 in wrapper_async                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1171 â”‚   â”‚   â”‚   â”‚   â”‚   else:                                                                                                                                                                                            â”‚
           â”‚   1172 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   kwargs["model"] = context_window_fallback_dict[model]                                                                                                                                        â”‚
           â”‚   1173 â”‚   â”‚   â”‚   â”‚   â”‚   return await original_function(*args, **kwargs)                                                                                                                                                  â”‚
           â”‚ â± 1174 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚   1175 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   1176 â”‚   is_coroutine = inspect.iscoroutinefunction(original_function)                                                                                                                                                    â”‚
           â”‚   1177                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/utils.py:1030 in wrapper_async                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1027 â”‚   â”‚   â”‚   â”‚   return _caching_handler_response.final_embedding_cached_response                                                                                                                                     â”‚
           â”‚   1028 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚   1029 â”‚   â”‚   â”‚   # MODEL CALL                                                                                                                                                                                             â”‚
           â”‚ â± 1030 â”‚   â”‚   â”‚   result = await original_function(*args, **kwargs)                                                                                                                                                        â”‚
           â”‚   1031 â”‚   â”‚   â”‚   end_time = datetime.datetime.now()                                                                                                                                                                       â”‚
           â”‚   1032 â”‚   â”‚   â”‚   if "stream" in kwargs and kwargs["stream"] is True:                                                                                                                                                      â”‚
           â”‚   1033 â”‚   â”‚   â”‚   â”‚   if (                                                                                                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py:499 in acompletion                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    496 â”‚   â”‚   return response                                                                                                                                                                                              â”‚
           â”‚    497 â”‚   except Exception as e:                                                                                                                                                                                           â”‚
           â”‚    498 â”‚   â”‚   custom_llm_provider = custom_llm_provider or "openai"                                                                                                                                                        â”‚
           â”‚ â±  499 â”‚   â”‚   raise exception_type(                                                                                                                                                                                        â”‚
           â”‚    500 â”‚   â”‚   â”‚   model=model,                                                                                                                                                                                             â”‚
           â”‚    501 â”‚   â”‚   â”‚   custom_llm_provider=custom_llm_provider,                                                                                                                                                                 â”‚
           â”‚    502 â”‚   â”‚   â”‚   original_exception=e,                                                                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/litellm_core_utils/exception_mapping_utils.py:2122 in exception_type                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2119 â”‚   â”‚   # don't let an error with mapping interrupt the user from receiving an error                                                                                                                                 â”‚
           â”‚        from the llm api calls                                                                                                                                                                                               â”‚
           â”‚   2120 â”‚   â”‚   if exception_mapping_worked:                                                                                                                                                                                 â”‚
           â”‚   2121 â”‚   â”‚   â”‚   setattr(e, "litellm_response_headers", litellm_response_headers)                                                                                                                                         â”‚
           â”‚ â± 2122 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚   2123 â”‚   â”‚   else:                                                                                                                                                                                                        â”‚
           â”‚   2124 â”‚   â”‚   â”‚   for error_type in litellm.LITELLM_EXCEPTION_TYPES:                                                                                                                                                       â”‚
           â”‚   2125 â”‚   â”‚   â”‚   â”‚   if isinstance(e, error_type):                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/litellm_core_utils/exception_mapping_utils.py:2098 in exception_type                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2095 â”‚   â”‚   â”‚   â”‚   â”‚   request=original_exception.request,                                                                                                                                                              â”‚
           â”‚   2096 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                    â”‚
           â”‚   2097 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                    â”‚
           â”‚ â± 2098 â”‚   â”‚   â”‚   â”‚   raise APIConnectionError(                                                                                                                                                                            â”‚
           â”‚   2099 â”‚   â”‚   â”‚   â”‚   â”‚   message="{}\n{}".format(                                                                                                                                                                         â”‚
           â”‚   2100 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   str(original_exception), traceback.format_exc()                                                                                                                                              â”‚
           â”‚   2101 â”‚   â”‚   â”‚   â”‚   â”‚   ),                                                                                                                                                                                               â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           APIConnectionError: litellm.APIConnectionError: Cannot connect to host localhost:11434 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1',   
           11434)]                                                                                                                                                                                                                        
           Traceback (most recent call last):                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1109, in _wrap_create_connection                                                                                  
               sock = await aiohappyeyeballs.start_connection(                                                                                                                                                                            
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                            
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohappyeyeballs/impl.py", line 123, in start_connection                                                                                      
               raise OSError(first_errno, msg)                                                                                                                                                                                            
           ConnectionRefusedError: [Errno 111] Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11434)                                                            
                                                                                                                                                                                                                                          
           The above exception was the direct cause of the following exception:                                                                                                                                                           
                                                                                                                                                                                                                                          
           Traceback (most recent call last):                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py", line 477, in acompletion                                                                                                    
               response = await init_response                                                                                                                                                                                             
                          ^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py", line 564, in ollama_acompletion                                                                                      
               raise e  # don't use verbose_logger.exception, if exception is raised                                                                                                                                                      
               ^^^^^^^                                                                                                                                                                                                                    
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py", line 505, in ollama_acompletion                                                                                      
               resp = await session.post(url, json=data)                                                                                                                                                                                  
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                  
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/client.py", line 696, in _request                                                                                                     
               conn = await self._connector.connect(                                                                                                                                                                                      
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                      
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 544, in connect                                                                                                   
               proto = await self._create_connection(req, traces, timeout)                                                                                                                                                                
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1050, in _create_connection                                                                                       
               _, proto = await self._create_direct_connection(req, traces, timeout)                                                                                                                                                      
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                      
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1394, in _create_direct_connection                                                                                
               raise last_exc                                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1363, in _create_direct_connection                                                                                
               transp, proto = await self._wrap_create_connection(                                                                                                                                                                        
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                        
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1124, in _wrap_create_connection                                                                                  
               raise client_error(req.connection_key, exc) from exc                                                                                                                                                                       
           aiohttp.client_exceptions.ClientConnectorError: Cannot connect to host localhost:11434 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1',   
           11434)]                                                                                                                                                                                                                        
                                                                                                                                                                                                                                          
           Received Model Group=ollama/llama3.3                                                                                                                                                                                           
           Available Model Group Fallbacks=None LiteLLM Retried: 2 times, LiteLLM Max Retries: 3                                                                                                                                          
[07:04:43] Answer:                                                                                                                                                                                                                        

[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.

[07:05:03] Trajectory failed.                                                                                                                                                                                                             
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1109 in _wrap_create_connection                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1106 â”‚   â”‚   â”‚   async with ceil_timeout(                                                                                                                                                                                 â”‚
           â”‚   1107 â”‚   â”‚   â”‚   â”‚   timeout.sock_connect, ceil_threshold=timeout.ceil_threshold                                                                                                                                          â”‚
           â”‚   1108 â”‚   â”‚   â”‚   ):                                                                                                                                                                                                       â”‚
           â”‚ â± 1109 â”‚   â”‚   â”‚   â”‚   sock = await aiohappyeyeballs.start_connection(                                                                                                                                                      â”‚
           â”‚   1110 â”‚   â”‚   â”‚   â”‚   â”‚   addr_infos=addr_infos,                                                                                                                                                                           â”‚
           â”‚   1111 â”‚   â”‚   â”‚   â”‚   â”‚   local_addr_infos=self._local_addr_infos,                                                                                                                                                         â”‚
           â”‚   1112 â”‚   â”‚   â”‚   â”‚   â”‚   happy_eyeballs_delay=self._happy_eyeballs_delay,                                                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohappyeyeballs/impl.py:123 in start_connection                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   120 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   isinstance(exc, OSError) and exc.errno == first_errno                                                                                                                                         â”‚
           â”‚   121 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   for exc in all_exceptions                                                                                                                                                                     â”‚
           â”‚   122 â”‚   â”‚   â”‚   â”‚   â”‚   ):                                                                                                                                                                                                â”‚
           â”‚ â± 123 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   raise OSError(first_errno, msg)                                                                                                                                                               â”‚
           â”‚   124 â”‚   â”‚   â”‚   â”‚   elif isinstance(first_exception, RuntimeError) and all(                                                                                                                                               â”‚
           â”‚   125 â”‚   â”‚   â”‚   â”‚   â”‚   isinstance(exc, RuntimeError) for exc in all_exceptions                                                                                                                                           â”‚
           â”‚   126 â”‚   â”‚   â”‚   â”‚   ):                                                                                                                                                                                                    â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           ConnectionRefusedError: [Errno 111] Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11434)                                                            
                                                                                                                                                                                                                                          
           The above exception was the direct cause of the following exception:                                                                                                                                                           
                                                                                                                                                                                                                                          
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py:477 in acompletion                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    474 â”‚   â”‚   â”‚   â”‚   â”‚   response = ModelResponse(**init_response)                                                                                                                                                        â”‚
           â”‚    475 â”‚   â”‚   â”‚   â”‚   response = init_response                                                                                                                                                                             â”‚
           â”‚    476 â”‚   â”‚   â”‚   elif asyncio.iscoroutine(init_response):                                                                                                                                                                 â”‚
           â”‚ â±  477 â”‚   â”‚   â”‚   â”‚   response = await init_response                                                                                                                                                                       â”‚
           â”‚    478 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                    â”‚
           â”‚    479 â”‚   â”‚   â”‚   â”‚   response = init_response  # type: ignore                                                                                                                                                             â”‚
           â”‚    480                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py:564 in ollama_acompletion                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   561 â”‚   â”‚   â”‚   )                                                                                                                                                                                                         â”‚
           â”‚   562 â”‚   â”‚   â”‚   return model_response                                                                                                                                                                                     â”‚
           â”‚   563 â”‚   except Exception as e:                                                                                                                                                                                            â”‚
           â”‚ â± 564 â”‚   â”‚   raise e  # don't use verbose_logger.exception, if exception is raised                                                                                                                                         â”‚
           â”‚   565                                                                                                                                                                                                                       â”‚
           â”‚   566                                                                                                                                                                                                                       â”‚
           â”‚   567 async def ollama_aembeddings(                                                                                                                                                                                         â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py:505 in ollama_acompletion                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   502 â”‚   try:                                                                                                                                                                                                              â”‚
           â”‚   503 â”‚   â”‚   timeout = aiohttp.ClientTimeout(total=litellm.request_timeout)  # 10 minutes                                                                                                                                  â”‚
           â”‚   504 â”‚   â”‚   async with aiohttp.ClientSession(timeout=timeout) as session:                                                                                                                                                 â”‚
           â”‚ â± 505 â”‚   â”‚   â”‚   resp = await session.post(url, json=data)                                                                                                                                                                 â”‚
           â”‚   506 â”‚   â”‚   â”‚                                                                                                                                                                                                             â”‚
           â”‚   507 â”‚   â”‚   â”‚   if resp.status != 200:                                                                                                                                                                                    â”‚
           â”‚   508 â”‚   â”‚   â”‚   â”‚   text = await resp.text()                                                                                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/client.py:696 in _request                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    693 â”‚   â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                    â”‚
           â”‚    694 â”‚   â”‚   â”‚   â”‚   â”‚   # connection timeout                                                                                                                                                                             â”‚
           â”‚    695 â”‚   â”‚   â”‚   â”‚   â”‚   try:                                                                                                                                                                                             â”‚
           â”‚ â±  696 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   conn = await self._connector.connect(                                                                                                                                                        â”‚
           â”‚    697 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   req, traces=traces, timeout=real_timeout                                                                                                                                                 â”‚
           â”‚    698 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                            â”‚
           â”‚    699 â”‚   â”‚   â”‚   â”‚   â”‚   except asyncio.TimeoutError as exc:                                                                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:544 in connect                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    541 â”‚   â”‚   â”‚   â”‚   if traces:                                                                                                                                                                                           â”‚
           â”‚    542 â”‚   â”‚   â”‚   â”‚   â”‚   for trace in traces:                                                                                                                                                                             â”‚
           â”‚    543 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   await trace.send_connection_create_start()                                                                                                                                                   â”‚
           â”‚ â±  544 â”‚   â”‚   â”‚   â”‚   proto = await self._create_connection(req, traces, timeout)                                                                                                                                          â”‚
           â”‚    545 â”‚   â”‚   â”‚   â”‚   if traces:                                                                                                                                                                                           â”‚
           â”‚    546 â”‚   â”‚   â”‚   â”‚   â”‚   for trace in traces:                                                                                                                                                                             â”‚
           â”‚    547 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   await trace.send_connection_create_end()                                                                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1050 in _create_connection                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1047 â”‚   â”‚   if req.proxy:                                                                                                                                                                                                â”‚
           â”‚   1048 â”‚   â”‚   â”‚   _, proto = await self._create_proxy_connection(req, traces, timeout)                                                                                                                                     â”‚
           â”‚   1049 â”‚   â”‚   else:                                                                                                                                                                                                        â”‚
           â”‚ â± 1050 â”‚   â”‚   â”‚   _, proto = await self._create_direct_connection(req, traces, timeout)                                                                                                                                    â”‚
           â”‚   1051 â”‚   â”‚                                                                                                                                                                                                                â”‚
           â”‚   1052 â”‚   â”‚   return proto                                                                                                                                                                                                 â”‚
           â”‚   1053                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1394 in _create_direct_connection                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1391 â”‚   â”‚   â”‚   return transp, proto                                                                                                                                                                                     â”‚
           â”‚   1392 â”‚   â”‚   else:                                                                                                                                                                                                        â”‚
           â”‚   1393 â”‚   â”‚   â”‚   assert last_exc is not None                                                                                                                                                                              â”‚
           â”‚ â± 1394 â”‚   â”‚   â”‚   raise last_exc                                                                                                                                                                                           â”‚
           â”‚   1395 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   1396 â”‚   async def _create_proxy_connection(                                                                                                                                                                              â”‚
           â”‚   1397 â”‚   â”‚   self, req: ClientRequest, traces: List["Trace"], timeout: "ClientTimeout"                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1363 in _create_direct_connection                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1360 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚   1361 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚   1362 â”‚   â”‚   â”‚   try:                                                                                                                                                                                                     â”‚
           â”‚ â± 1363 â”‚   â”‚   â”‚   â”‚   transp, proto = await self._wrap_create_connection(                                                                                                                                                  â”‚
           â”‚   1364 â”‚   â”‚   â”‚   â”‚   â”‚   self._factory,                                                                                                                                                                                   â”‚
           â”‚   1365 â”‚   â”‚   â”‚   â”‚   â”‚   timeout=timeout,                                                                                                                                                                                 â”‚
           â”‚   1366 â”‚   â”‚   â”‚   â”‚   â”‚   ssl=sslcontext,                                                                                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1124 in _wrap_create_connection                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1121 â”‚   â”‚   except OSError as exc:                                                                                                                                                                                       â”‚
           â”‚   1122 â”‚   â”‚   â”‚   if exc.errno is None and isinstance(exc, asyncio.TimeoutError):                                                                                                                                          â”‚
           â”‚   1123 â”‚   â”‚   â”‚   â”‚   raise                                                                                                                                                                                                â”‚
           â”‚ â± 1124 â”‚   â”‚   â”‚   raise client_error(req.connection_key, exc) from exc                                                                                                                                                     â”‚
           â”‚   1125 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   1126 â”‚   async def _wrap_existing_connection(                                                                                                                                                                             â”‚
           â”‚   1127 â”‚   â”‚   self,                                                                                                                                                                                                        â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           ClientConnectorError: Cannot connect to host localhost:11434 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11434)]                     
                                                                                                                                                                                                                                          
           During handling of the above exception, another exception occurred:                                                                                                                                                            
                                                                                                                                                                                                                                          
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:276 in _run_with_timeout_failure                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   273 ) -> tuple[PQASession, AgentStatus]:                                                                                                                                                                                  â”‚
           â”‚   274 â”‚   try:                                                                                                                                                                                                              â”‚
           â”‚   275 â”‚   â”‚   async with asyncio.timeout(query.settings.agent.timeout):                                                                                                                                                     â”‚
           â”‚ â± 276 â”‚   â”‚   â”‚   status = await rollout()                                                                                                                                                                                  â”‚
           â”‚   277 â”‚   except TimeoutError:                                                                                                                                                                                              â”‚
           â”‚   278 â”‚   â”‚   logger.warning(                                                                                                                                                                                               â”‚
           â”‚   279 â”‚   â”‚   â”‚   f"Agent timeout after {query.settings.agent.timeout}-sec, just answering."                                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:410 in rollout                                                                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   407 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                     â”‚
           â”‚   408 â”‚   â”‚   â”‚   â”‚   return AgentStatus.TRUNCATED                                                                                                                                                                          â”‚
           â”‚   409 â”‚   â”‚   â”‚   agent_state.messages += obs                                                                                                                                                                               â”‚
           â”‚ â± 410 â”‚   â”‚   â”‚   for attempt in Retrying(                                                                                                                                                                                  â”‚
           â”‚   411 â”‚   â”‚   â”‚   â”‚   stop=stop_after_attempt(5),                                                                                                                                                                           â”‚
           â”‚   412 â”‚   â”‚   â”‚   â”‚   retry=retry_if_exception_type(MalformedMessageError),                                                                                                                                                 â”‚
           â”‚   413 â”‚   â”‚   â”‚   â”‚   before_sleep=before_sleep_log(logger, logging.WARNING),                                                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:443 in __iter__                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   440 â”‚   â”‚                                                                                                                                                                                                                 â”‚
           â”‚   441 â”‚   â”‚   retry_state = RetryCallState(self, fn=None, args=(), kwargs={})                                                                                                                                               â”‚
           â”‚   442 â”‚   â”‚   while True:                                                                                                                                                                                                   â”‚
           â”‚ â± 443 â”‚   â”‚   â”‚   do = self.iter(retry_state=retry_state)                                                                                                                                                                   â”‚
           â”‚   444 â”‚   â”‚   â”‚   if isinstance(do, DoAttempt):                                                                                                                                                                             â”‚
           â”‚   445 â”‚   â”‚   â”‚   â”‚   yield AttemptManager(retry_state=retry_state)                                                                                                                                                         â”‚
           â”‚   446 â”‚   â”‚   â”‚   elif isinstance(do, DoSleep):                                                                                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:376 in iter                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   373 â”‚   â”‚   self._begin_iter(retry_state)                                                                                                                                                                                 â”‚
           â”‚   374 â”‚   â”‚   result = None                                                                                                                                                                                                 â”‚
           â”‚   375 â”‚   â”‚   for action in self.iter_state.actions:                                                                                                                                                                        â”‚
           â”‚ â± 376 â”‚   â”‚   â”‚   result = action(retry_state)                                                                                                                                                                              â”‚
           â”‚   377 â”‚   â”‚   return result                                                                                                                                                                                                 â”‚
           â”‚   378 â”‚                                                                                                                                                                                                                     â”‚
           â”‚   379 â”‚   def _begin_iter(self, retry_state: "RetryCallState") -> None:  # noqa                                                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:398 in <lambda>                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   395 â”‚                                                                                                                                                                                                                     â”‚
           â”‚   396 â”‚   def _post_retry_check_actions(self, retry_state: "RetryCallState") -> None:                                                                                                                                       â”‚
           â”‚   397 â”‚   â”‚   if not (self.iter_state.is_explicit_retry or self.iter_state.retry_run_result):                                                                                                                               â”‚
           â”‚ â± 398 â”‚   â”‚   â”‚   self._add_action_func(lambda rs: rs.outcome.result())                                                                                                                                                     â”‚
           â”‚   399 â”‚   â”‚   â”‚   return                                                                                                                                                                                                    â”‚
           â”‚   400 â”‚   â”‚                                                                                                                                                                                                                 â”‚
           â”‚   401 â”‚   â”‚   if self.after is not None:                                                                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/concurrent/futures/_base.py:449 in result                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   446 â”‚   â”‚   â”‚   â”‚   if self._state in [CANCELLED, CANCELLED_AND_NOTIFIED]:                                                                                                                                                â”‚
           â”‚   447 â”‚   â”‚   â”‚   â”‚   â”‚   raise CancelledError()                                                                                                                                                                            â”‚
           â”‚   448 â”‚   â”‚   â”‚   â”‚   elif self._state == FINISHED:                                                                                                                                                                         â”‚
           â”‚ â± 449 â”‚   â”‚   â”‚   â”‚   â”‚   return self.__get_result()                                                                                                                                                                        â”‚
           â”‚   450 â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                         â”‚
           â”‚   451 â”‚   â”‚   â”‚   â”‚   self._condition.wait(timeout)                                                                                                                                                                         â”‚
           â”‚   452                                                                                                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/concurrent/futures/_base.py:401 in __get_result                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   398 â”‚   def __get_result(self):                                                                                                                                                                                           â”‚
           â”‚   399 â”‚   â”‚   if self._exception:                                                                                                                                                                                           â”‚
           â”‚   400 â”‚   â”‚   â”‚   try:                                                                                                                                                                                                      â”‚
           â”‚ â± 401 â”‚   â”‚   â”‚   â”‚   raise self._exception                                                                                                                                                                                 â”‚
           â”‚   402 â”‚   â”‚   â”‚   finally:                                                                                                                                                                                                  â”‚
           â”‚   403 â”‚   â”‚   â”‚   â”‚   # Break a reference cycle with the exception in self._exception                                                                                                                                       â”‚
           â”‚   404 â”‚   â”‚   â”‚   â”‚   self = None                                                                                                                                                                                           â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:417 in rollout                                                                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   414 â”‚   â”‚   â”‚   â”‚   reraise=True,                                                                                                                                                                                         â”‚
           â”‚   415 â”‚   â”‚   â”‚   ):                                                                                                                                                                                                        â”‚
           â”‚   416 â”‚   â”‚   â”‚   â”‚   with attempt:  # Retrying if ToolSelector fails to select a tool                                                                                                                                      â”‚
           â”‚ â± 417 â”‚   â”‚   â”‚   â”‚   â”‚   action = await agent(agent_state.messages, tools)                                                                                                                                                 â”‚
           â”‚   418 â”‚   â”‚   â”‚   agent_state.messages = [*agent_state.messages, action]                                                                                                                                                    â”‚
           â”‚   419 â”‚   â”‚   â”‚   if on_agent_action_callback:                                                                                                                                                                              â”‚
           â”‚   420 â”‚   â”‚   â”‚   â”‚   await on_agent_action_callback(action, agent_state)                                                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aviary/tools/utils.py:182 in __call__                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   179 â”‚   â”‚   â”‚   self._ledger.messages.extend(messages)                                                                                                                                                                    â”‚
           â”‚   180 â”‚   â”‚   â”‚   messages = self._ledger.messages                                                                                                                                                                          â”‚
           â”‚   181 â”‚   â”‚                                                                                                                                                                                                                 â”‚
           â”‚ â± 182 â”‚   â”‚   model_response = await self._bound_acompletion(                                                                                                                                                               â”‚
           â”‚   183 â”‚   â”‚   â”‚   messages=MessagesAdapter.dump_python(                                                                                                                                                                     â”‚
           â”‚   184 â”‚   â”‚   â”‚   â”‚   messages, exclude_none=True, by_alias=True                                                                                                                                                            â”‚
           â”‚   185 â”‚   â”‚   â”‚   ),                                                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:819 in acompletion                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    816 â”‚   â”‚   â”‚   â”‚   â”‚   original_exception=e,                                                                                                                                                                            â”‚
           â”‚    817 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                    â”‚
           â”‚    818 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚ â±  819 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚    820 â”‚                                                                                                                                                                                                                    â”‚
           â”‚    821 â”‚   async def _acompletion(                                                                                                                                                                                          â”‚
           â”‚    822 â”‚   â”‚   self, model: str, messages: List[Dict[str, str]], **kwargs                                                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:795 in acompletion                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    792 â”‚   â”‚   â”‚   if request_priority is not None and isinstance(request_priority, int):                                                                                                                                   â”‚
           â”‚    793 â”‚   â”‚   â”‚   â”‚   response = await self.schedule_acompletion(**kwargs)                                                                                                                                                 â”‚
           â”‚    794 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                    â”‚
           â”‚ â±  795 â”‚   â”‚   â”‚   â”‚   response = await self.async_function_with_fallbacks(**kwargs)                                                                                                                                        â”‚
           â”‚    796 â”‚   â”‚   â”‚   end_time = time.time()                                                                                                                                                                                   â”‚
           â”‚    797 â”‚   â”‚   â”‚   _duration = end_time - start_time                                                                                                                                                                        â”‚
           â”‚    798 â”‚   â”‚   â”‚   asyncio.create_task(                                                                                                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2792 in async_function_with_fallbacks                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2789 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                            â”‚
           â”‚   2790 â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                â”‚
           â”‚   2791 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚ â± 2792 â”‚   â”‚   â”‚   raise original_exception                                                                                                                                                                                 â”‚
           â”‚   2793 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   2794 â”‚   def _handle_mock_testing_fallbacks(                                                                                                                                                                              â”‚
           â”‚   2795 â”‚   â”‚   self,                                                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2628 in async_function_with_fallbacks                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2625 â”‚   â”‚   â”‚   â”‚   content_policy_fallbacks=content_policy_fallbacks,                                                                                                                                                   â”‚
           â”‚   2626 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚   2627 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚ â± 2628 â”‚   â”‚   â”‚   response = await self.async_function_with_retries(*args, **kwargs)                                                                                                                                       â”‚
           â”‚   2629 â”‚   â”‚   â”‚   verbose_router_logger.debug(f"Async Response: {response}")                                                                                                                                               â”‚
           â”‚   2630 â”‚   â”‚   â”‚   return response                                                                                                                                                                                          â”‚
           â”‚   2631 â”‚   â”‚   except Exception as e:                                                                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2964 in async_function_with_retries                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2961 â”‚   â”‚   â”‚   â”‚   setattr(original_exception, "max_retries", num_retries)                                                                                                                                              â”‚
           â”‚   2962 â”‚   â”‚   â”‚   â”‚   setattr(original_exception, "num_retries", current_attempt)                                                                                                                                          â”‚
           â”‚   2963 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚ â± 2964 â”‚   â”‚   â”‚   raise original_exception                                                                                                                                                                                 â”‚
           â”‚   2965 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   2966 â”‚   async def make_call(self, original_function: Any, *args, **kwargs):                                                                                                                                              â”‚
           â”‚   2967 â”‚   â”‚   """                                                                                                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2876 in async_function_with_retries                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2873 â”‚   â”‚   â”‚   â”‚   model_group=model_group, kwargs=kwargs                                                                                                                                                               â”‚
           â”‚   2874 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚   2875 â”‚   â”‚   â”‚   # if the function call is successful, no exception will be raised and we'll                                                                                                                              â”‚
           â”‚        break out of the loop                                                                                                                                                                                                â”‚
           â”‚ â± 2876 â”‚   â”‚   â”‚   response = await self.make_call(original_function, *args, **kwargs)                                                                                                                                      â”‚
           â”‚   2877 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚   2878 â”‚   â”‚   â”‚   return response                                                                                                                                                                                          â”‚
           â”‚   2879 â”‚   â”‚   except Exception as e:                                                                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2973 in make_call                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2970 â”‚   â”‚   model_group = kwargs.get("model")                                                                                                                                                                            â”‚
           â”‚   2971 â”‚   â”‚   response = original_function(*args, **kwargs)                                                                                                                                                                â”‚
           â”‚   2972 â”‚   â”‚   if inspect.iscoroutinefunction(response) or inspect.isawaitable(response):                                                                                                                                   â”‚
           â”‚ â± 2973 â”‚   â”‚   â”‚   response = await response                                                                                                                                                                                â”‚
           â”‚   2974 â”‚   â”‚   ## PROCESS RESPONSE HEADERS                                                                                                                                                                                  â”‚
           â”‚   2975 â”‚   â”‚   await self.set_response_headers(response=response, model_group=model_group)                                                                                                                                  â”‚
           â”‚   2976                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:949 in _acompletion                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    946 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚    947 â”‚   â”‚   â”‚   if model_name is not None:                                                                                                                                                                               â”‚
           â”‚    948 â”‚   â”‚   â”‚   â”‚   self.fail_calls[model_name] += 1                                                                                                                                                                     â”‚
           â”‚ â±  949 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚    950 â”‚                                                                                                                                                                                                                    â”‚
           â”‚    951 â”‚   def _update_kwargs_with_default_litellm_params(self, kwargs: dict) -> None:                                                                                                                                      â”‚
           â”‚    952 â”‚   â”‚   """                                                                                                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:917 in _acompletion                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    914 â”‚   â”‚   â”‚   â”‚   â”‚   parent_otel_span=parent_otel_span,                                                                                                                                                               â”‚
           â”‚    915 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                    â”‚
           â”‚    916 â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                        â”‚
           â”‚ â±  917 â”‚   â”‚   â”‚   â”‚   response = await _response                                                                                                                                                                           â”‚
           â”‚    918 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚    919 â”‚   â”‚   â”‚   ## CHECK CONTENT FILTER ERROR ##                                                                                                                                                                         â”‚
           â”‚    920 â”‚   â”‚   â”‚   if isinstance(response, ModelResponse):                                                                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/utils.py:1174 in wrapper_async                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1171 â”‚   â”‚   â”‚   â”‚   â”‚   else:                                                                                                                                                                                            â”‚
           â”‚   1172 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   kwargs["model"] = context_window_fallback_dict[model]                                                                                                                                        â”‚
           â”‚   1173 â”‚   â”‚   â”‚   â”‚   â”‚   return await original_function(*args, **kwargs)                                                                                                                                                  â”‚
           â”‚ â± 1174 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚   1175 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   1176 â”‚   is_coroutine = inspect.iscoroutinefunction(original_function)                                                                                                                                                    â”‚
           â”‚   1177                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/utils.py:1030 in wrapper_async                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1027 â”‚   â”‚   â”‚   â”‚   return _caching_handler_response.final_embedding_cached_response                                                                                                                                     â”‚
           â”‚   1028 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚   1029 â”‚   â”‚   â”‚   # MODEL CALL                                                                                                                                                                                             â”‚
           â”‚ â± 1030 â”‚   â”‚   â”‚   result = await original_function(*args, **kwargs)                                                                                                                                                        â”‚
           â”‚   1031 â”‚   â”‚   â”‚   end_time = datetime.datetime.now()                                                                                                                                                                       â”‚
           â”‚   1032 â”‚   â”‚   â”‚   if "stream" in kwargs and kwargs["stream"] is True:                                                                                                                                                      â”‚
           â”‚   1033 â”‚   â”‚   â”‚   â”‚   if (                                                                                                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py:499 in acompletion                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    496 â”‚   â”‚   return response                                                                                                                                                                                              â”‚
           â”‚    497 â”‚   except Exception as e:                                                                                                                                                                                           â”‚
           â”‚    498 â”‚   â”‚   custom_llm_provider = custom_llm_provider or "openai"                                                                                                                                                        â”‚
           â”‚ â±  499 â”‚   â”‚   raise exception_type(                                                                                                                                                                                        â”‚
           â”‚    500 â”‚   â”‚   â”‚   model=model,                                                                                                                                                                                             â”‚
           â”‚    501 â”‚   â”‚   â”‚   custom_llm_provider=custom_llm_provider,                                                                                                                                                                 â”‚
           â”‚    502 â”‚   â”‚   â”‚   original_exception=e,                                                                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/litellm_core_utils/exception_mapping_utils.py:2122 in exception_type                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2119 â”‚   â”‚   # don't let an error with mapping interrupt the user from receiving an error                                                                                                                                 â”‚
           â”‚        from the llm api calls                                                                                                                                                                                               â”‚
           â”‚   2120 â”‚   â”‚   if exception_mapping_worked:                                                                                                                                                                                 â”‚
           â”‚   2121 â”‚   â”‚   â”‚   setattr(e, "litellm_response_headers", litellm_response_headers)                                                                                                                                         â”‚
           â”‚ â± 2122 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚   2123 â”‚   â”‚   else:                                                                                                                                                                                                        â”‚
           â”‚   2124 â”‚   â”‚   â”‚   for error_type in litellm.LITELLM_EXCEPTION_TYPES:                                                                                                                                                       â”‚
           â”‚   2125 â”‚   â”‚   â”‚   â”‚   if isinstance(e, error_type):                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/litellm_core_utils/exception_mapping_utils.py:2098 in exception_type                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2095 â”‚   â”‚   â”‚   â”‚   â”‚   request=original_exception.request,                                                                                                                                                              â”‚
           â”‚   2096 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                    â”‚
           â”‚   2097 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                    â”‚
           â”‚ â± 2098 â”‚   â”‚   â”‚   â”‚   raise APIConnectionError(                                                                                                                                                                            â”‚
           â”‚   2099 â”‚   â”‚   â”‚   â”‚   â”‚   message="{}\n{}".format(                                                                                                                                                                         â”‚
           â”‚   2100 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   str(original_exception), traceback.format_exc()                                                                                                                                              â”‚
           â”‚   2101 â”‚   â”‚   â”‚   â”‚   â”‚   ),                                                                                                                                                                                               â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           APIConnectionError: litellm.APIConnectionError: Cannot connect to host localhost:11434 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1',   
           11434)]                                                                                                                                                                                                                        
           Traceback (most recent call last):                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1109, in _wrap_create_connection                                                                                  
               sock = await aiohappyeyeballs.start_connection(                                                                                                                                                                            
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                            
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohappyeyeballs/impl.py", line 123, in start_connection                                                                                      
               raise OSError(first_errno, msg)                                                                                                                                                                                            
           ConnectionRefusedError: [Errno 111] Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11434)                                                            
                                                                                                                                                                                                                                          
           The above exception was the direct cause of the following exception:                                                                                                                                                           
                                                                                                                                                                                                                                          
           Traceback (most recent call last):                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py", line 477, in acompletion                                                                                                    
               response = await init_response                                                                                                                                                                                             
                          ^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py", line 564, in ollama_acompletion                                                                                      
               raise e  # don't use verbose_logger.exception, if exception is raised                                                                                                                                                      
               ^^^^^^^                                                                                                                                                                                                                    
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py", line 505, in ollama_acompletion                                                                                      
               resp = await session.post(url, json=data)                                                                                                                                                                                  
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                  
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/client.py", line 696, in _request                                                                                                     
               conn = await self._connector.connect(                                                                                                                                                                                      
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                      
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 544, in connect                                                                                                   
               proto = await self._create_connection(req, traces, timeout)                                                                                                                                                                
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1050, in _create_connection                                                                                       
               _, proto = await self._create_direct_connection(req, traces, timeout)                                                                                                                                                      
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                      
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1394, in _create_direct_connection                                                                                
               raise last_exc                                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1363, in _create_direct_connection                                                                                
               transp, proto = await self._wrap_create_connection(                                                                                                                                                                        
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                        
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1124, in _wrap_create_connection                                                                                  
               raise client_error(req.connection_key, exc) from exc                                                                                                                                                                       
           aiohttp.client_exceptions.ClientConnectorError: Cannot connect to host localhost:11434 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1',   
           11434)]                                                                                                                                                                                                                        
                                                                                                                                                                                                                                          
           Received Model Group=ollama/llama3.3                                                                                                                                                                                           
           Available Model Group Fallbacks=None LiteLLM Retried: 2 times, LiteLLM Max Retries: 3                                                                                                                                          
[07:05:05] Answer:                                                                                                                                                                                                                        

[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.

[07:05:25] Trajectory failed.                                                                                                                                                                                                             
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1109 in _wrap_create_connection                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1106 â”‚   â”‚   â”‚   async with ceil_timeout(                                                                                                                                                                                 â”‚
           â”‚   1107 â”‚   â”‚   â”‚   â”‚   timeout.sock_connect, ceil_threshold=timeout.ceil_threshold                                                                                                                                          â”‚
           â”‚   1108 â”‚   â”‚   â”‚   ):                                                                                                                                                                                                       â”‚
           â”‚ â± 1109 â”‚   â”‚   â”‚   â”‚   sock = await aiohappyeyeballs.start_connection(                                                                                                                                                      â”‚
           â”‚   1110 â”‚   â”‚   â”‚   â”‚   â”‚   addr_infos=addr_infos,                                                                                                                                                                           â”‚
           â”‚   1111 â”‚   â”‚   â”‚   â”‚   â”‚   local_addr_infos=self._local_addr_infos,                                                                                                                                                         â”‚
           â”‚   1112 â”‚   â”‚   â”‚   â”‚   â”‚   happy_eyeballs_delay=self._happy_eyeballs_delay,                                                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohappyeyeballs/impl.py:123 in start_connection                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   120 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   isinstance(exc, OSError) and exc.errno == first_errno                                                                                                                                         â”‚
           â”‚   121 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   for exc in all_exceptions                                                                                                                                                                     â”‚
           â”‚   122 â”‚   â”‚   â”‚   â”‚   â”‚   ):                                                                                                                                                                                                â”‚
           â”‚ â± 123 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   raise OSError(first_errno, msg)                                                                                                                                                               â”‚
           â”‚   124 â”‚   â”‚   â”‚   â”‚   elif isinstance(first_exception, RuntimeError) and all(                                                                                                                                               â”‚
           â”‚   125 â”‚   â”‚   â”‚   â”‚   â”‚   isinstance(exc, RuntimeError) for exc in all_exceptions                                                                                                                                           â”‚
           â”‚   126 â”‚   â”‚   â”‚   â”‚   ):                                                                                                                                                                                                    â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           ConnectionRefusedError: [Errno 111] Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11434)                                                            
                                                                                                                                                                                                                                          
           The above exception was the direct cause of the following exception:                                                                                                                                                           
                                                                                                                                                                                                                                          
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py:477 in acompletion                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    474 â”‚   â”‚   â”‚   â”‚   â”‚   response = ModelResponse(**init_response)                                                                                                                                                        â”‚
           â”‚    475 â”‚   â”‚   â”‚   â”‚   response = init_response                                                                                                                                                                             â”‚
           â”‚    476 â”‚   â”‚   â”‚   elif asyncio.iscoroutine(init_response):                                                                                                                                                                 â”‚
           â”‚ â±  477 â”‚   â”‚   â”‚   â”‚   response = await init_response                                                                                                                                                                       â”‚
           â”‚    478 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                    â”‚
           â”‚    479 â”‚   â”‚   â”‚   â”‚   response = init_response  # type: ignore                                                                                                                                                             â”‚
           â”‚    480                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py:564 in ollama_acompletion                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   561 â”‚   â”‚   â”‚   )                                                                                                                                                                                                         â”‚
           â”‚   562 â”‚   â”‚   â”‚   return model_response                                                                                                                                                                                     â”‚
           â”‚   563 â”‚   except Exception as e:                                                                                                                                                                                            â”‚
           â”‚ â± 564 â”‚   â”‚   raise e  # don't use verbose_logger.exception, if exception is raised                                                                                                                                         â”‚
           â”‚   565                                                                                                                                                                                                                       â”‚
           â”‚   566                                                                                                                                                                                                                       â”‚
           â”‚   567 async def ollama_aembeddings(                                                                                                                                                                                         â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py:505 in ollama_acompletion                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   502 â”‚   try:                                                                                                                                                                                                              â”‚
           â”‚   503 â”‚   â”‚   timeout = aiohttp.ClientTimeout(total=litellm.request_timeout)  # 10 minutes                                                                                                                                  â”‚
           â”‚   504 â”‚   â”‚   async with aiohttp.ClientSession(timeout=timeout) as session:                                                                                                                                                 â”‚
           â”‚ â± 505 â”‚   â”‚   â”‚   resp = await session.post(url, json=data)                                                                                                                                                                 â”‚
           â”‚   506 â”‚   â”‚   â”‚                                                                                                                                                                                                             â”‚
           â”‚   507 â”‚   â”‚   â”‚   if resp.status != 200:                                                                                                                                                                                    â”‚
           â”‚   508 â”‚   â”‚   â”‚   â”‚   text = await resp.text()                                                                                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/client.py:696 in _request                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    693 â”‚   â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                    â”‚
           â”‚    694 â”‚   â”‚   â”‚   â”‚   â”‚   # connection timeout                                                                                                                                                                             â”‚
           â”‚    695 â”‚   â”‚   â”‚   â”‚   â”‚   try:                                                                                                                                                                                             â”‚
           â”‚ â±  696 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   conn = await self._connector.connect(                                                                                                                                                        â”‚
           â”‚    697 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   req, traces=traces, timeout=real_timeout                                                                                                                                                 â”‚
           â”‚    698 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                            â”‚
           â”‚    699 â”‚   â”‚   â”‚   â”‚   â”‚   except asyncio.TimeoutError as exc:                                                                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:544 in connect                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    541 â”‚   â”‚   â”‚   â”‚   if traces:                                                                                                                                                                                           â”‚
           â”‚    542 â”‚   â”‚   â”‚   â”‚   â”‚   for trace in traces:                                                                                                                                                                             â”‚
           â”‚    543 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   await trace.send_connection_create_start()                                                                                                                                                   â”‚
           â”‚ â±  544 â”‚   â”‚   â”‚   â”‚   proto = await self._create_connection(req, traces, timeout)                                                                                                                                          â”‚
           â”‚    545 â”‚   â”‚   â”‚   â”‚   if traces:                                                                                                                                                                                           â”‚
           â”‚    546 â”‚   â”‚   â”‚   â”‚   â”‚   for trace in traces:                                                                                                                                                                             â”‚
           â”‚    547 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   await trace.send_connection_create_end()                                                                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1050 in _create_connection                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1047 â”‚   â”‚   if req.proxy:                                                                                                                                                                                                â”‚
           â”‚   1048 â”‚   â”‚   â”‚   _, proto = await self._create_proxy_connection(req, traces, timeout)                                                                                                                                     â”‚
           â”‚   1049 â”‚   â”‚   else:                                                                                                                                                                                                        â”‚
           â”‚ â± 1050 â”‚   â”‚   â”‚   _, proto = await self._create_direct_connection(req, traces, timeout)                                                                                                                                    â”‚
           â”‚   1051 â”‚   â”‚                                                                                                                                                                                                                â”‚
           â”‚   1052 â”‚   â”‚   return proto                                                                                                                                                                                                 â”‚
           â”‚   1053                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1394 in _create_direct_connection                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1391 â”‚   â”‚   â”‚   return transp, proto                                                                                                                                                                                     â”‚
           â”‚   1392 â”‚   â”‚   else:                                                                                                                                                                                                        â”‚
           â”‚   1393 â”‚   â”‚   â”‚   assert last_exc is not None                                                                                                                                                                              â”‚
           â”‚ â± 1394 â”‚   â”‚   â”‚   raise last_exc                                                                                                                                                                                           â”‚
           â”‚   1395 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   1396 â”‚   async def _create_proxy_connection(                                                                                                                                                                              â”‚
           â”‚   1397 â”‚   â”‚   self, req: ClientRequest, traces: List["Trace"], timeout: "ClientTimeout"                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1363 in _create_direct_connection                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1360 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚   1361 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚   1362 â”‚   â”‚   â”‚   try:                                                                                                                                                                                                     â”‚
           â”‚ â± 1363 â”‚   â”‚   â”‚   â”‚   transp, proto = await self._wrap_create_connection(                                                                                                                                                  â”‚
           â”‚   1364 â”‚   â”‚   â”‚   â”‚   â”‚   self._factory,                                                                                                                                                                                   â”‚
           â”‚   1365 â”‚   â”‚   â”‚   â”‚   â”‚   timeout=timeout,                                                                                                                                                                                 â”‚
           â”‚   1366 â”‚   â”‚   â”‚   â”‚   â”‚   ssl=sslcontext,                                                                                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1124 in _wrap_create_connection                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1121 â”‚   â”‚   except OSError as exc:                                                                                                                                                                                       â”‚
           â”‚   1122 â”‚   â”‚   â”‚   if exc.errno is None and isinstance(exc, asyncio.TimeoutError):                                                                                                                                          â”‚
           â”‚   1123 â”‚   â”‚   â”‚   â”‚   raise                                                                                                                                                                                                â”‚
           â”‚ â± 1124 â”‚   â”‚   â”‚   raise client_error(req.connection_key, exc) from exc                                                                                                                                                     â”‚
           â”‚   1125 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   1126 â”‚   async def _wrap_existing_connection(                                                                                                                                                                             â”‚
           â”‚   1127 â”‚   â”‚   self,                                                                                                                                                                                                        â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           ClientConnectorError: Cannot connect to host localhost:11434 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11434)]                     
                                                                                                                                                                                                                                          
           During handling of the above exception, another exception occurred:                                                                                                                                                            
                                                                                                                                                                                                                                          
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:276 in _run_with_timeout_failure                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   273 ) -> tuple[PQASession, AgentStatus]:                                                                                                                                                                                  â”‚
           â”‚   274 â”‚   try:                                                                                                                                                                                                              â”‚
           â”‚   275 â”‚   â”‚   async with asyncio.timeout(query.settings.agent.timeout):                                                                                                                                                     â”‚
           â”‚ â± 276 â”‚   â”‚   â”‚   status = await rollout()                                                                                                                                                                                  â”‚
           â”‚   277 â”‚   except TimeoutError:                                                                                                                                                                                              â”‚
           â”‚   278 â”‚   â”‚   logger.warning(                                                                                                                                                                                               â”‚
           â”‚   279 â”‚   â”‚   â”‚   f"Agent timeout after {query.settings.agent.timeout}-sec, just answering."                                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:410 in rollout                                                                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   407 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                     â”‚
           â”‚   408 â”‚   â”‚   â”‚   â”‚   return AgentStatus.TRUNCATED                                                                                                                                                                          â”‚
           â”‚   409 â”‚   â”‚   â”‚   agent_state.messages += obs                                                                                                                                                                               â”‚
           â”‚ â± 410 â”‚   â”‚   â”‚   for attempt in Retrying(                                                                                                                                                                                  â”‚
           â”‚   411 â”‚   â”‚   â”‚   â”‚   stop=stop_after_attempt(5),                                                                                                                                                                           â”‚
           â”‚   412 â”‚   â”‚   â”‚   â”‚   retry=retry_if_exception_type(MalformedMessageError),                                                                                                                                                 â”‚
           â”‚   413 â”‚   â”‚   â”‚   â”‚   before_sleep=before_sleep_log(logger, logging.WARNING),                                                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:443 in __iter__                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   440 â”‚   â”‚                                                                                                                                                                                                                 â”‚
           â”‚   441 â”‚   â”‚   retry_state = RetryCallState(self, fn=None, args=(), kwargs={})                                                                                                                                               â”‚
           â”‚   442 â”‚   â”‚   while True:                                                                                                                                                                                                   â”‚
           â”‚ â± 443 â”‚   â”‚   â”‚   do = self.iter(retry_state=retry_state)                                                                                                                                                                   â”‚
           â”‚   444 â”‚   â”‚   â”‚   if isinstance(do, DoAttempt):                                                                                                                                                                             â”‚
           â”‚   445 â”‚   â”‚   â”‚   â”‚   yield AttemptManager(retry_state=retry_state)                                                                                                                                                         â”‚
           â”‚   446 â”‚   â”‚   â”‚   elif isinstance(do, DoSleep):                                                                                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:376 in iter                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   373 â”‚   â”‚   self._begin_iter(retry_state)                                                                                                                                                                                 â”‚
           â”‚   374 â”‚   â”‚   result = None                                                                                                                                                                                                 â”‚
           â”‚   375 â”‚   â”‚   for action in self.iter_state.actions:                                                                                                                                                                        â”‚
           â”‚ â± 376 â”‚   â”‚   â”‚   result = action(retry_state)                                                                                                                                                                              â”‚
           â”‚   377 â”‚   â”‚   return result                                                                                                                                                                                                 â”‚
           â”‚   378 â”‚                                                                                                                                                                                                                     â”‚
           â”‚   379 â”‚   def _begin_iter(self, retry_state: "RetryCallState") -> None:  # noqa                                                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:398 in <lambda>                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   395 â”‚                                                                                                                                                                                                                     â”‚
           â”‚   396 â”‚   def _post_retry_check_actions(self, retry_state: "RetryCallState") -> None:                                                                                                                                       â”‚
           â”‚   397 â”‚   â”‚   if not (self.iter_state.is_explicit_retry or self.iter_state.retry_run_result):                                                                                                                               â”‚
           â”‚ â± 398 â”‚   â”‚   â”‚   self._add_action_func(lambda rs: rs.outcome.result())                                                                                                                                                     â”‚
           â”‚   399 â”‚   â”‚   â”‚   return                                                                                                                                                                                                    â”‚
           â”‚   400 â”‚   â”‚                                                                                                                                                                                                                 â”‚
           â”‚   401 â”‚   â”‚   if self.after is not None:                                                                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/concurrent/futures/_base.py:449 in result                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   446 â”‚   â”‚   â”‚   â”‚   if self._state in [CANCELLED, CANCELLED_AND_NOTIFIED]:                                                                                                                                                â”‚
           â”‚   447 â”‚   â”‚   â”‚   â”‚   â”‚   raise CancelledError()                                                                                                                                                                            â”‚
           â”‚   448 â”‚   â”‚   â”‚   â”‚   elif self._state == FINISHED:                                                                                                                                                                         â”‚
           â”‚ â± 449 â”‚   â”‚   â”‚   â”‚   â”‚   return self.__get_result()                                                                                                                                                                        â”‚
           â”‚   450 â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                         â”‚
           â”‚   451 â”‚   â”‚   â”‚   â”‚   self._condition.wait(timeout)                                                                                                                                                                         â”‚
           â”‚   452                                                                                                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/concurrent/futures/_base.py:401 in __get_result                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   398 â”‚   def __get_result(self):                                                                                                                                                                                           â”‚
           â”‚   399 â”‚   â”‚   if self._exception:                                                                                                                                                                                           â”‚
           â”‚   400 â”‚   â”‚   â”‚   try:                                                                                                                                                                                                      â”‚
           â”‚ â± 401 â”‚   â”‚   â”‚   â”‚   raise self._exception                                                                                                                                                                                 â”‚
           â”‚   402 â”‚   â”‚   â”‚   finally:                                                                                                                                                                                                  â”‚
           â”‚   403 â”‚   â”‚   â”‚   â”‚   # Break a reference cycle with the exception in self._exception                                                                                                                                       â”‚
           â”‚   404 â”‚   â”‚   â”‚   â”‚   self = None                                                                                                                                                                                           â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:417 in rollout                                                                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   414 â”‚   â”‚   â”‚   â”‚   reraise=True,                                                                                                                                                                                         â”‚
           â”‚   415 â”‚   â”‚   â”‚   ):                                                                                                                                                                                                        â”‚
           â”‚   416 â”‚   â”‚   â”‚   â”‚   with attempt:  # Retrying if ToolSelector fails to select a tool                                                                                                                                      â”‚
           â”‚ â± 417 â”‚   â”‚   â”‚   â”‚   â”‚   action = await agent(agent_state.messages, tools)                                                                                                                                                 â”‚
           â”‚   418 â”‚   â”‚   â”‚   agent_state.messages = [*agent_state.messages, action]                                                                                                                                                    â”‚
           â”‚   419 â”‚   â”‚   â”‚   if on_agent_action_callback:                                                                                                                                                                              â”‚
           â”‚   420 â”‚   â”‚   â”‚   â”‚   await on_agent_action_callback(action, agent_state)                                                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aviary/tools/utils.py:182 in __call__                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   179 â”‚   â”‚   â”‚   self._ledger.messages.extend(messages)                                                                                                                                                                    â”‚
           â”‚   180 â”‚   â”‚   â”‚   messages = self._ledger.messages                                                                                                                                                                          â”‚
           â”‚   181 â”‚   â”‚                                                                                                                                                                                                                 â”‚
           â”‚ â± 182 â”‚   â”‚   model_response = await self._bound_acompletion(                                                                                                                                                               â”‚
           â”‚   183 â”‚   â”‚   â”‚   messages=MessagesAdapter.dump_python(                                                                                                                                                                     â”‚
           â”‚   184 â”‚   â”‚   â”‚   â”‚   messages, exclude_none=True, by_alias=True                                                                                                                                                            â”‚
           â”‚   185 â”‚   â”‚   â”‚   ),                                                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:819 in acompletion                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    816 â”‚   â”‚   â”‚   â”‚   â”‚   original_exception=e,                                                                                                                                                                            â”‚
           â”‚    817 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                    â”‚
           â”‚    818 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚ â±  819 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚    820 â”‚                                                                                                                                                                                                                    â”‚
           â”‚    821 â”‚   async def _acompletion(                                                                                                                                                                                          â”‚
           â”‚    822 â”‚   â”‚   self, model: str, messages: List[Dict[str, str]], **kwargs                                                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:795 in acompletion                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    792 â”‚   â”‚   â”‚   if request_priority is not None and isinstance(request_priority, int):                                                                                                                                   â”‚
           â”‚    793 â”‚   â”‚   â”‚   â”‚   response = await self.schedule_acompletion(**kwargs)                                                                                                                                                 â”‚
           â”‚    794 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                    â”‚
           â”‚ â±  795 â”‚   â”‚   â”‚   â”‚   response = await self.async_function_with_fallbacks(**kwargs)                                                                                                                                        â”‚
           â”‚    796 â”‚   â”‚   â”‚   end_time = time.time()                                                                                                                                                                                   â”‚
           â”‚    797 â”‚   â”‚   â”‚   _duration = end_time - start_time                                                                                                                                                                        â”‚
           â”‚    798 â”‚   â”‚   â”‚   asyncio.create_task(                                                                                                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2792 in async_function_with_fallbacks                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2789 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                            â”‚
           â”‚   2790 â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                â”‚
           â”‚   2791 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚ â± 2792 â”‚   â”‚   â”‚   raise original_exception                                                                                                                                                                                 â”‚
           â”‚   2793 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   2794 â”‚   def _handle_mock_testing_fallbacks(                                                                                                                                                                              â”‚
           â”‚   2795 â”‚   â”‚   self,                                                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2628 in async_function_with_fallbacks                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2625 â”‚   â”‚   â”‚   â”‚   content_policy_fallbacks=content_policy_fallbacks,                                                                                                                                                   â”‚
           â”‚   2626 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚   2627 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚ â± 2628 â”‚   â”‚   â”‚   response = await self.async_function_with_retries(*args, **kwargs)                                                                                                                                       â”‚
           â”‚   2629 â”‚   â”‚   â”‚   verbose_router_logger.debug(f"Async Response: {response}")                                                                                                                                               â”‚
           â”‚   2630 â”‚   â”‚   â”‚   return response                                                                                                                                                                                          â”‚
           â”‚   2631 â”‚   â”‚   except Exception as e:                                                                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2964 in async_function_with_retries                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2961 â”‚   â”‚   â”‚   â”‚   setattr(original_exception, "max_retries", num_retries)                                                                                                                                              â”‚
           â”‚   2962 â”‚   â”‚   â”‚   â”‚   setattr(original_exception, "num_retries", current_attempt)                                                                                                                                          â”‚
           â”‚   2963 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚ â± 2964 â”‚   â”‚   â”‚   raise original_exception                                                                                                                                                                                 â”‚
           â”‚   2965 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   2966 â”‚   async def make_call(self, original_function: Any, *args, **kwargs):                                                                                                                                              â”‚
           â”‚   2967 â”‚   â”‚   """                                                                                                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2876 in async_function_with_retries                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2873 â”‚   â”‚   â”‚   â”‚   model_group=model_group, kwargs=kwargs                                                                                                                                                               â”‚
           â”‚   2874 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚   2875 â”‚   â”‚   â”‚   # if the function call is successful, no exception will be raised and we'll                                                                                                                              â”‚
           â”‚        break out of the loop                                                                                                                                                                                                â”‚
           â”‚ â± 2876 â”‚   â”‚   â”‚   response = await self.make_call(original_function, *args, **kwargs)                                                                                                                                      â”‚
           â”‚   2877 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚   2878 â”‚   â”‚   â”‚   return response                                                                                                                                                                                          â”‚
           â”‚   2879 â”‚   â”‚   except Exception as e:                                                                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2973 in make_call                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2970 â”‚   â”‚   model_group = kwargs.get("model")                                                                                                                                                                            â”‚
           â”‚   2971 â”‚   â”‚   response = original_function(*args, **kwargs)                                                                                                                                                                â”‚
           â”‚   2972 â”‚   â”‚   if inspect.iscoroutinefunction(response) or inspect.isawaitable(response):                                                                                                                                   â”‚
           â”‚ â± 2973 â”‚   â”‚   â”‚   response = await response                                                                                                                                                                                â”‚
           â”‚   2974 â”‚   â”‚   ## PROCESS RESPONSE HEADERS                                                                                                                                                                                  â”‚
           â”‚   2975 â”‚   â”‚   await self.set_response_headers(response=response, model_group=model_group)                                                                                                                                  â”‚
           â”‚   2976                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:949 in _acompletion                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    946 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚    947 â”‚   â”‚   â”‚   if model_name is not None:                                                                                                                                                                               â”‚
           â”‚    948 â”‚   â”‚   â”‚   â”‚   self.fail_calls[model_name] += 1                                                                                                                                                                     â”‚
           â”‚ â±  949 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚    950 â”‚                                                                                                                                                                                                                    â”‚
           â”‚    951 â”‚   def _update_kwargs_with_default_litellm_params(self, kwargs: dict) -> None:                                                                                                                                      â”‚
           â”‚    952 â”‚   â”‚   """                                                                                                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:917 in _acompletion                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    914 â”‚   â”‚   â”‚   â”‚   â”‚   parent_otel_span=parent_otel_span,                                                                                                                                                               â”‚
           â”‚    915 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                    â”‚
           â”‚    916 â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                        â”‚
           â”‚ â±  917 â”‚   â”‚   â”‚   â”‚   response = await _response                                                                                                                                                                           â”‚
           â”‚    918 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚    919 â”‚   â”‚   â”‚   ## CHECK CONTENT FILTER ERROR ##                                                                                                                                                                         â”‚
           â”‚    920 â”‚   â”‚   â”‚   if isinstance(response, ModelResponse):                                                                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/utils.py:1174 in wrapper_async                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1171 â”‚   â”‚   â”‚   â”‚   â”‚   else:                                                                                                                                                                                            â”‚
           â”‚   1172 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   kwargs["model"] = context_window_fallback_dict[model]                                                                                                                                        â”‚
           â”‚   1173 â”‚   â”‚   â”‚   â”‚   â”‚   return await original_function(*args, **kwargs)                                                                                                                                                  â”‚
           â”‚ â± 1174 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚   1175 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   1176 â”‚   is_coroutine = inspect.iscoroutinefunction(original_function)                                                                                                                                                    â”‚
           â”‚   1177                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/utils.py:1030 in wrapper_async                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1027 â”‚   â”‚   â”‚   â”‚   return _caching_handler_response.final_embedding_cached_response                                                                                                                                     â”‚
           â”‚   1028 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚   1029 â”‚   â”‚   â”‚   # MODEL CALL                                                                                                                                                                                             â”‚
           â”‚ â± 1030 â”‚   â”‚   â”‚   result = await original_function(*args, **kwargs)                                                                                                                                                        â”‚
           â”‚   1031 â”‚   â”‚   â”‚   end_time = datetime.datetime.now()                                                                                                                                                                       â”‚
           â”‚   1032 â”‚   â”‚   â”‚   if "stream" in kwargs and kwargs["stream"] is True:                                                                                                                                                      â”‚
           â”‚   1033 â”‚   â”‚   â”‚   â”‚   if (                                                                                                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py:499 in acompletion                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    496 â”‚   â”‚   return response                                                                                                                                                                                              â”‚
           â”‚    497 â”‚   except Exception as e:                                                                                                                                                                                           â”‚
           â”‚    498 â”‚   â”‚   custom_llm_provider = custom_llm_provider or "openai"                                                                                                                                                        â”‚
           â”‚ â±  499 â”‚   â”‚   raise exception_type(                                                                                                                                                                                        â”‚
           â”‚    500 â”‚   â”‚   â”‚   model=model,                                                                                                                                                                                             â”‚
           â”‚    501 â”‚   â”‚   â”‚   custom_llm_provider=custom_llm_provider,                                                                                                                                                                 â”‚
           â”‚    502 â”‚   â”‚   â”‚   original_exception=e,                                                                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/litellm_core_utils/exception_mapping_utils.py:2122 in exception_type                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2119 â”‚   â”‚   # don't let an error with mapping interrupt the user from receiving an error                                                                                                                                 â”‚
           â”‚        from the llm api calls                                                                                                                                                                                               â”‚
           â”‚   2120 â”‚   â”‚   if exception_mapping_worked:                                                                                                                                                                                 â”‚
           â”‚   2121 â”‚   â”‚   â”‚   setattr(e, "litellm_response_headers", litellm_response_headers)                                                                                                                                         â”‚
           â”‚ â± 2122 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚   2123 â”‚   â”‚   else:                                                                                                                                                                                                        â”‚
           â”‚   2124 â”‚   â”‚   â”‚   for error_type in litellm.LITELLM_EXCEPTION_TYPES:                                                                                                                                                       â”‚
           â”‚   2125 â”‚   â”‚   â”‚   â”‚   if isinstance(e, error_type):                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/litellm_core_utils/exception_mapping_utils.py:2098 in exception_type                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2095 â”‚   â”‚   â”‚   â”‚   â”‚   request=original_exception.request,                                                                                                                                                              â”‚
           â”‚   2096 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                    â”‚
           â”‚   2097 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                    â”‚
           â”‚ â± 2098 â”‚   â”‚   â”‚   â”‚   raise APIConnectionError(                                                                                                                                                                            â”‚
           â”‚   2099 â”‚   â”‚   â”‚   â”‚   â”‚   message="{}\n{}".format(                                                                                                                                                                         â”‚
           â”‚   2100 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   str(original_exception), traceback.format_exc()                                                                                                                                              â”‚
           â”‚   2101 â”‚   â”‚   â”‚   â”‚   â”‚   ),                                                                                                                                                                                               â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           APIConnectionError: litellm.APIConnectionError: Cannot connect to host localhost:11434 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1',   
           11434)]                                                                                                                                                                                                                        
           Traceback (most recent call last):                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1109, in _wrap_create_connection                                                                                  
               sock = await aiohappyeyeballs.start_connection(                                                                                                                                                                            
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                            
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohappyeyeballs/impl.py", line 123, in start_connection                                                                                      
               raise OSError(first_errno, msg)                                                                                                                                                                                            
           ConnectionRefusedError: [Errno 111] Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11434)                                                            
                                                                                                                                                                                                                                          
           The above exception was the direct cause of the following exception:                                                                                                                                                           
                                                                                                                                                                                                                                          
           Traceback (most recent call last):                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py", line 477, in acompletion                                                                                                    
               response = await init_response                                                                                                                                                                                             
                          ^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py", line 564, in ollama_acompletion                                                                                      
               raise e  # don't use verbose_logger.exception, if exception is raised                                                                                                                                                      
               ^^^^^^^                                                                                                                                                                                                                    
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py", line 505, in ollama_acompletion                                                                                      
               resp = await session.post(url, json=data)                                                                                                                                                                                  
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                  
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/client.py", line 696, in _request                                                                                                     
               conn = await self._connector.connect(                                                                                                                                                                                      
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                      
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 544, in connect                                                                                                   
               proto = await self._create_connection(req, traces, timeout)                                                                                                                                                                
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1050, in _create_connection                                                                                       
               _, proto = await self._create_direct_connection(req, traces, timeout)                                                                                                                                                      
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                      
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1394, in _create_direct_connection                                                                                
               raise last_exc                                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1363, in _create_direct_connection                                                                                
               transp, proto = await self._wrap_create_connection(                                                                                                                                                                        
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                        
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1124, in _wrap_create_connection                                                                                  
               raise client_error(req.connection_key, exc) from exc                                                                                                                                                                       
           aiohttp.client_exceptions.ClientConnectorError: Cannot connect to host localhost:11434 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1',   
           11434)]                                                                                                                                                                                                                        
                                                                                                                                                                                                                                          
           Received Model Group=ollama/llama3.3                                                                                                                                                                                           
           Available Model Group Fallbacks=None LiteLLM Retried: 2 times, LiteLLM Max Retries: 3                                                                                                                                          
[07:05:28] Answer:                                                                                                                                                                                                                        

[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.

[07:05:48] Trajectory failed.                                                                                                                                                                                                             
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1109 in _wrap_create_connection                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1106 â”‚   â”‚   â”‚   async with ceil_timeout(                                                                                                                                                                                 â”‚
           â”‚   1107 â”‚   â”‚   â”‚   â”‚   timeout.sock_connect, ceil_threshold=timeout.ceil_threshold                                                                                                                                          â”‚
           â”‚   1108 â”‚   â”‚   â”‚   ):                                                                                                                                                                                                       â”‚
           â”‚ â± 1109 â”‚   â”‚   â”‚   â”‚   sock = await aiohappyeyeballs.start_connection(                                                                                                                                                      â”‚
           â”‚   1110 â”‚   â”‚   â”‚   â”‚   â”‚   addr_infos=addr_infos,                                                                                                                                                                           â”‚
           â”‚   1111 â”‚   â”‚   â”‚   â”‚   â”‚   local_addr_infos=self._local_addr_infos,                                                                                                                                                         â”‚
           â”‚   1112 â”‚   â”‚   â”‚   â”‚   â”‚   happy_eyeballs_delay=self._happy_eyeballs_delay,                                                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohappyeyeballs/impl.py:123 in start_connection                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   120 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   isinstance(exc, OSError) and exc.errno == first_errno                                                                                                                                         â”‚
           â”‚   121 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   for exc in all_exceptions                                                                                                                                                                     â”‚
           â”‚   122 â”‚   â”‚   â”‚   â”‚   â”‚   ):                                                                                                                                                                                                â”‚
           â”‚ â± 123 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   raise OSError(first_errno, msg)                                                                                                                                                               â”‚
           â”‚   124 â”‚   â”‚   â”‚   â”‚   elif isinstance(first_exception, RuntimeError) and all(                                                                                                                                               â”‚
           â”‚   125 â”‚   â”‚   â”‚   â”‚   â”‚   isinstance(exc, RuntimeError) for exc in all_exceptions                                                                                                                                           â”‚
           â”‚   126 â”‚   â”‚   â”‚   â”‚   ):                                                                                                                                                                                                    â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           ConnectionRefusedError: [Errno 111] Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11434)                                                            
                                                                                                                                                                                                                                          
           The above exception was the direct cause of the following exception:                                                                                                                                                           
                                                                                                                                                                                                                                          
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py:477 in acompletion                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    474 â”‚   â”‚   â”‚   â”‚   â”‚   response = ModelResponse(**init_response)                                                                                                                                                        â”‚
           â”‚    475 â”‚   â”‚   â”‚   â”‚   response = init_response                                                                                                                                                                             â”‚
           â”‚    476 â”‚   â”‚   â”‚   elif asyncio.iscoroutine(init_response):                                                                                                                                                                 â”‚
           â”‚ â±  477 â”‚   â”‚   â”‚   â”‚   response = await init_response                                                                                                                                                                       â”‚
           â”‚    478 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                    â”‚
           â”‚    479 â”‚   â”‚   â”‚   â”‚   response = init_response  # type: ignore                                                                                                                                                             â”‚
           â”‚    480                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py:564 in ollama_acompletion                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   561 â”‚   â”‚   â”‚   )                                                                                                                                                                                                         â”‚
           â”‚   562 â”‚   â”‚   â”‚   return model_response                                                                                                                                                                                     â”‚
           â”‚   563 â”‚   except Exception as e:                                                                                                                                                                                            â”‚
           â”‚ â± 564 â”‚   â”‚   raise e  # don't use verbose_logger.exception, if exception is raised                                                                                                                                         â”‚
           â”‚   565                                                                                                                                                                                                                       â”‚
           â”‚   566                                                                                                                                                                                                                       â”‚
           â”‚   567 async def ollama_aembeddings(                                                                                                                                                                                         â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py:505 in ollama_acompletion                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   502 â”‚   try:                                                                                                                                                                                                              â”‚
           â”‚   503 â”‚   â”‚   timeout = aiohttp.ClientTimeout(total=litellm.request_timeout)  # 10 minutes                                                                                                                                  â”‚
           â”‚   504 â”‚   â”‚   async with aiohttp.ClientSession(timeout=timeout) as session:                                                                                                                                                 â”‚
           â”‚ â± 505 â”‚   â”‚   â”‚   resp = await session.post(url, json=data)                                                                                                                                                                 â”‚
           â”‚   506 â”‚   â”‚   â”‚                                                                                                                                                                                                             â”‚
           â”‚   507 â”‚   â”‚   â”‚   if resp.status != 200:                                                                                                                                                                                    â”‚
           â”‚   508 â”‚   â”‚   â”‚   â”‚   text = await resp.text()                                                                                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/client.py:696 in _request                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    693 â”‚   â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                    â”‚
           â”‚    694 â”‚   â”‚   â”‚   â”‚   â”‚   # connection timeout                                                                                                                                                                             â”‚
           â”‚    695 â”‚   â”‚   â”‚   â”‚   â”‚   try:                                                                                                                                                                                             â”‚
           â”‚ â±  696 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   conn = await self._connector.connect(                                                                                                                                                        â”‚
           â”‚    697 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   req, traces=traces, timeout=real_timeout                                                                                                                                                 â”‚
           â”‚    698 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                            â”‚
           â”‚    699 â”‚   â”‚   â”‚   â”‚   â”‚   except asyncio.TimeoutError as exc:                                                                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:544 in connect                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    541 â”‚   â”‚   â”‚   â”‚   if traces:                                                                                                                                                                                           â”‚
           â”‚    542 â”‚   â”‚   â”‚   â”‚   â”‚   for trace in traces:                                                                                                                                                                             â”‚
           â”‚    543 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   await trace.send_connection_create_start()                                                                                                                                                   â”‚
           â”‚ â±  544 â”‚   â”‚   â”‚   â”‚   proto = await self._create_connection(req, traces, timeout)                                                                                                                                          â”‚
           â”‚    545 â”‚   â”‚   â”‚   â”‚   if traces:                                                                                                                                                                                           â”‚
           â”‚    546 â”‚   â”‚   â”‚   â”‚   â”‚   for trace in traces:                                                                                                                                                                             â”‚
           â”‚    547 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   await trace.send_connection_create_end()                                                                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1050 in _create_connection                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1047 â”‚   â”‚   if req.proxy:                                                                                                                                                                                                â”‚
           â”‚   1048 â”‚   â”‚   â”‚   _, proto = await self._create_proxy_connection(req, traces, timeout)                                                                                                                                     â”‚
           â”‚   1049 â”‚   â”‚   else:                                                                                                                                                                                                        â”‚
           â”‚ â± 1050 â”‚   â”‚   â”‚   _, proto = await self._create_direct_connection(req, traces, timeout)                                                                                                                                    â”‚
           â”‚   1051 â”‚   â”‚                                                                                                                                                                                                                â”‚
           â”‚   1052 â”‚   â”‚   return proto                                                                                                                                                                                                 â”‚
           â”‚   1053                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1394 in _create_direct_connection                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1391 â”‚   â”‚   â”‚   return transp, proto                                                                                                                                                                                     â”‚
           â”‚   1392 â”‚   â”‚   else:                                                                                                                                                                                                        â”‚
           â”‚   1393 â”‚   â”‚   â”‚   assert last_exc is not None                                                                                                                                                                              â”‚
           â”‚ â± 1394 â”‚   â”‚   â”‚   raise last_exc                                                                                                                                                                                           â”‚
           â”‚   1395 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   1396 â”‚   async def _create_proxy_connection(                                                                                                                                                                              â”‚
           â”‚   1397 â”‚   â”‚   self, req: ClientRequest, traces: List["Trace"], timeout: "ClientTimeout"                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1363 in _create_direct_connection                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1360 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚   1361 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚   1362 â”‚   â”‚   â”‚   try:                                                                                                                                                                                                     â”‚
           â”‚ â± 1363 â”‚   â”‚   â”‚   â”‚   transp, proto = await self._wrap_create_connection(                                                                                                                                                  â”‚
           â”‚   1364 â”‚   â”‚   â”‚   â”‚   â”‚   self._factory,                                                                                                                                                                                   â”‚
           â”‚   1365 â”‚   â”‚   â”‚   â”‚   â”‚   timeout=timeout,                                                                                                                                                                                 â”‚
           â”‚   1366 â”‚   â”‚   â”‚   â”‚   â”‚   ssl=sslcontext,                                                                                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1124 in _wrap_create_connection                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1121 â”‚   â”‚   except OSError as exc:                                                                                                                                                                                       â”‚
           â”‚   1122 â”‚   â”‚   â”‚   if exc.errno is None and isinstance(exc, asyncio.TimeoutError):                                                                                                                                          â”‚
           â”‚   1123 â”‚   â”‚   â”‚   â”‚   raise                                                                                                                                                                                                â”‚
           â”‚ â± 1124 â”‚   â”‚   â”‚   raise client_error(req.connection_key, exc) from exc                                                                                                                                                     â”‚
           â”‚   1125 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   1126 â”‚   async def _wrap_existing_connection(                                                                                                                                                                             â”‚
           â”‚   1127 â”‚   â”‚   self,                                                                                                                                                                                                        â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           ClientConnectorError: Cannot connect to host localhost:11434 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11434)]                     
                                                                                                                                                                                                                                          
           During handling of the above exception, another exception occurred:                                                                                                                                                            
                                                                                                                                                                                                                                          
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:276 in _run_with_timeout_failure                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   273 ) -> tuple[PQASession, AgentStatus]:                                                                                                                                                                                  â”‚
           â”‚   274 â”‚   try:                                                                                                                                                                                                              â”‚
           â”‚   275 â”‚   â”‚   async with asyncio.timeout(query.settings.agent.timeout):                                                                                                                                                     â”‚
           â”‚ â± 276 â”‚   â”‚   â”‚   status = await rollout()                                                                                                                                                                                  â”‚
           â”‚   277 â”‚   except TimeoutError:                                                                                                                                                                                              â”‚
           â”‚   278 â”‚   â”‚   logger.warning(                                                                                                                                                                                               â”‚
           â”‚   279 â”‚   â”‚   â”‚   f"Agent timeout after {query.settings.agent.timeout}-sec, just answering."                                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:410 in rollout                                                                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   407 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                     â”‚
           â”‚   408 â”‚   â”‚   â”‚   â”‚   return AgentStatus.TRUNCATED                                                                                                                                                                          â”‚
           â”‚   409 â”‚   â”‚   â”‚   agent_state.messages += obs                                                                                                                                                                               â”‚
           â”‚ â± 410 â”‚   â”‚   â”‚   for attempt in Retrying(                                                                                                                                                                                  â”‚
           â”‚   411 â”‚   â”‚   â”‚   â”‚   stop=stop_after_attempt(5),                                                                                                                                                                           â”‚
           â”‚   412 â”‚   â”‚   â”‚   â”‚   retry=retry_if_exception_type(MalformedMessageError),                                                                                                                                                 â”‚
           â”‚   413 â”‚   â”‚   â”‚   â”‚   before_sleep=before_sleep_log(logger, logging.WARNING),                                                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:443 in __iter__                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   440 â”‚   â”‚                                                                                                                                                                                                                 â”‚
           â”‚   441 â”‚   â”‚   retry_state = RetryCallState(self, fn=None, args=(), kwargs={})                                                                                                                                               â”‚
           â”‚   442 â”‚   â”‚   while True:                                                                                                                                                                                                   â”‚
           â”‚ â± 443 â”‚   â”‚   â”‚   do = self.iter(retry_state=retry_state)                                                                                                                                                                   â”‚
           â”‚   444 â”‚   â”‚   â”‚   if isinstance(do, DoAttempt):                                                                                                                                                                             â”‚
           â”‚   445 â”‚   â”‚   â”‚   â”‚   yield AttemptManager(retry_state=retry_state)                                                                                                                                                         â”‚
           â”‚   446 â”‚   â”‚   â”‚   elif isinstance(do, DoSleep):                                                                                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:376 in iter                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   373 â”‚   â”‚   self._begin_iter(retry_state)                                                                                                                                                                                 â”‚
           â”‚   374 â”‚   â”‚   result = None                                                                                                                                                                                                 â”‚
           â”‚   375 â”‚   â”‚   for action in self.iter_state.actions:                                                                                                                                                                        â”‚
           â”‚ â± 376 â”‚   â”‚   â”‚   result = action(retry_state)                                                                                                                                                                              â”‚
           â”‚   377 â”‚   â”‚   return result                                                                                                                                                                                                 â”‚
           â”‚   378 â”‚                                                                                                                                                                                                                     â”‚
           â”‚   379 â”‚   def _begin_iter(self, retry_state: "RetryCallState") -> None:  # noqa                                                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:398 in <lambda>                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   395 â”‚                                                                                                                                                                                                                     â”‚
           â”‚   396 â”‚   def _post_retry_check_actions(self, retry_state: "RetryCallState") -> None:                                                                                                                                       â”‚
           â”‚   397 â”‚   â”‚   if not (self.iter_state.is_explicit_retry or self.iter_state.retry_run_result):                                                                                                                               â”‚
           â”‚ â± 398 â”‚   â”‚   â”‚   self._add_action_func(lambda rs: rs.outcome.result())                                                                                                                                                     â”‚
           â”‚   399 â”‚   â”‚   â”‚   return                                                                                                                                                                                                    â”‚
           â”‚   400 â”‚   â”‚                                                                                                                                                                                                                 â”‚
           â”‚   401 â”‚   â”‚   if self.after is not None:                                                                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/concurrent/futures/_base.py:449 in result                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   446 â”‚   â”‚   â”‚   â”‚   if self._state in [CANCELLED, CANCELLED_AND_NOTIFIED]:                                                                                                                                                â”‚
           â”‚   447 â”‚   â”‚   â”‚   â”‚   â”‚   raise CancelledError()                                                                                                                                                                            â”‚
           â”‚   448 â”‚   â”‚   â”‚   â”‚   elif self._state == FINISHED:                                                                                                                                                                         â”‚
           â”‚ â± 449 â”‚   â”‚   â”‚   â”‚   â”‚   return self.__get_result()                                                                                                                                                                        â”‚
           â”‚   450 â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                         â”‚
           â”‚   451 â”‚   â”‚   â”‚   â”‚   self._condition.wait(timeout)                                                                                                                                                                         â”‚
           â”‚   452                                                                                                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/concurrent/futures/_base.py:401 in __get_result                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   398 â”‚   def __get_result(self):                                                                                                                                                                                           â”‚
           â”‚   399 â”‚   â”‚   if self._exception:                                                                                                                                                                                           â”‚
           â”‚   400 â”‚   â”‚   â”‚   try:                                                                                                                                                                                                      â”‚
           â”‚ â± 401 â”‚   â”‚   â”‚   â”‚   raise self._exception                                                                                                                                                                                 â”‚
           â”‚   402 â”‚   â”‚   â”‚   finally:                                                                                                                                                                                                  â”‚
           â”‚   403 â”‚   â”‚   â”‚   â”‚   # Break a reference cycle with the exception in self._exception                                                                                                                                       â”‚
           â”‚   404 â”‚   â”‚   â”‚   â”‚   self = None                                                                                                                                                                                           â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:417 in rollout                                                                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   414 â”‚   â”‚   â”‚   â”‚   reraise=True,                                                                                                                                                                                         â”‚
           â”‚   415 â”‚   â”‚   â”‚   ):                                                                                                                                                                                                        â”‚
           â”‚   416 â”‚   â”‚   â”‚   â”‚   with attempt:  # Retrying if ToolSelector fails to select a tool                                                                                                                                      â”‚
           â”‚ â± 417 â”‚   â”‚   â”‚   â”‚   â”‚   action = await agent(agent_state.messages, tools)                                                                                                                                                 â”‚
           â”‚   418 â”‚   â”‚   â”‚   agent_state.messages = [*agent_state.messages, action]                                                                                                                                                    â”‚
           â”‚   419 â”‚   â”‚   â”‚   if on_agent_action_callback:                                                                                                                                                                              â”‚
           â”‚   420 â”‚   â”‚   â”‚   â”‚   await on_agent_action_callback(action, agent_state)                                                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aviary/tools/utils.py:182 in __call__                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   179 â”‚   â”‚   â”‚   self._ledger.messages.extend(messages)                                                                                                                                                                    â”‚
           â”‚   180 â”‚   â”‚   â”‚   messages = self._ledger.messages                                                                                                                                                                          â”‚
           â”‚   181 â”‚   â”‚                                                                                                                                                                                                                 â”‚
           â”‚ â± 182 â”‚   â”‚   model_response = await self._bound_acompletion(                                                                                                                                                               â”‚
           â”‚   183 â”‚   â”‚   â”‚   messages=MessagesAdapter.dump_python(                                                                                                                                                                     â”‚
           â”‚   184 â”‚   â”‚   â”‚   â”‚   messages, exclude_none=True, by_alias=True                                                                                                                                                            â”‚
           â”‚   185 â”‚   â”‚   â”‚   ),                                                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:819 in acompletion                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    816 â”‚   â”‚   â”‚   â”‚   â”‚   original_exception=e,                                                                                                                                                                            â”‚
           â”‚    817 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                    â”‚
           â”‚    818 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚ â±  819 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚    820 â”‚                                                                                                                                                                                                                    â”‚
           â”‚    821 â”‚   async def _acompletion(                                                                                                                                                                                          â”‚
           â”‚    822 â”‚   â”‚   self, model: str, messages: List[Dict[str, str]], **kwargs                                                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:795 in acompletion                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    792 â”‚   â”‚   â”‚   if request_priority is not None and isinstance(request_priority, int):                                                                                                                                   â”‚
           â”‚    793 â”‚   â”‚   â”‚   â”‚   response = await self.schedule_acompletion(**kwargs)                                                                                                                                                 â”‚
           â”‚    794 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                    â”‚
           â”‚ â±  795 â”‚   â”‚   â”‚   â”‚   response = await self.async_function_with_fallbacks(**kwargs)                                                                                                                                        â”‚
           â”‚    796 â”‚   â”‚   â”‚   end_time = time.time()                                                                                                                                                                                   â”‚
           â”‚    797 â”‚   â”‚   â”‚   _duration = end_time - start_time                                                                                                                                                                        â”‚
           â”‚    798 â”‚   â”‚   â”‚   asyncio.create_task(                                                                                                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2792 in async_function_with_fallbacks                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2789 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                            â”‚
           â”‚   2790 â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                â”‚
           â”‚   2791 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚ â± 2792 â”‚   â”‚   â”‚   raise original_exception                                                                                                                                                                                 â”‚
           â”‚   2793 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   2794 â”‚   def _handle_mock_testing_fallbacks(                                                                                                                                                                              â”‚
           â”‚   2795 â”‚   â”‚   self,                                                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2628 in async_function_with_fallbacks                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2625 â”‚   â”‚   â”‚   â”‚   content_policy_fallbacks=content_policy_fallbacks,                                                                                                                                                   â”‚
           â”‚   2626 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚   2627 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚ â± 2628 â”‚   â”‚   â”‚   response = await self.async_function_with_retries(*args, **kwargs)                                                                                                                                       â”‚
           â”‚   2629 â”‚   â”‚   â”‚   verbose_router_logger.debug(f"Async Response: {response}")                                                                                                                                               â”‚
           â”‚   2630 â”‚   â”‚   â”‚   return response                                                                                                                                                                                          â”‚
           â”‚   2631 â”‚   â”‚   except Exception as e:                                                                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2964 in async_function_with_retries                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2961 â”‚   â”‚   â”‚   â”‚   setattr(original_exception, "max_retries", num_retries)                                                                                                                                              â”‚
           â”‚   2962 â”‚   â”‚   â”‚   â”‚   setattr(original_exception, "num_retries", current_attempt)                                                                                                                                          â”‚
           â”‚   2963 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚ â± 2964 â”‚   â”‚   â”‚   raise original_exception                                                                                                                                                                                 â”‚
           â”‚   2965 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   2966 â”‚   async def make_call(self, original_function: Any, *args, **kwargs):                                                                                                                                              â”‚
           â”‚   2967 â”‚   â”‚   """                                                                                                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2876 in async_function_with_retries                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2873 â”‚   â”‚   â”‚   â”‚   model_group=model_group, kwargs=kwargs                                                                                                                                                               â”‚
           â”‚   2874 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚   2875 â”‚   â”‚   â”‚   # if the function call is successful, no exception will be raised and we'll                                                                                                                              â”‚
           â”‚        break out of the loop                                                                                                                                                                                                â”‚
           â”‚ â± 2876 â”‚   â”‚   â”‚   response = await self.make_call(original_function, *args, **kwargs)                                                                                                                                      â”‚
           â”‚   2877 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚   2878 â”‚   â”‚   â”‚   return response                                                                                                                                                                                          â”‚
           â”‚   2879 â”‚   â”‚   except Exception as e:                                                                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2973 in make_call                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2970 â”‚   â”‚   model_group = kwargs.get("model")                                                                                                                                                                            â”‚
           â”‚   2971 â”‚   â”‚   response = original_function(*args, **kwargs)                                                                                                                                                                â”‚
           â”‚   2972 â”‚   â”‚   if inspect.iscoroutinefunction(response) or inspect.isawaitable(response):                                                                                                                                   â”‚
           â”‚ â± 2973 â”‚   â”‚   â”‚   response = await response                                                                                                                                                                                â”‚
           â”‚   2974 â”‚   â”‚   ## PROCESS RESPONSE HEADERS                                                                                                                                                                                  â”‚
           â”‚   2975 â”‚   â”‚   await self.set_response_headers(response=response, model_group=model_group)                                                                                                                                  â”‚
           â”‚   2976                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:949 in _acompletion                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    946 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚    947 â”‚   â”‚   â”‚   if model_name is not None:                                                                                                                                                                               â”‚
           â”‚    948 â”‚   â”‚   â”‚   â”‚   self.fail_calls[model_name] += 1                                                                                                                                                                     â”‚
           â”‚ â±  949 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚    950 â”‚                                                                                                                                                                                                                    â”‚
           â”‚    951 â”‚   def _update_kwargs_with_default_litellm_params(self, kwargs: dict) -> None:                                                                                                                                      â”‚
           â”‚    952 â”‚   â”‚   """                                                                                                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:917 in _acompletion                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    914 â”‚   â”‚   â”‚   â”‚   â”‚   parent_otel_span=parent_otel_span,                                                                                                                                                               â”‚
           â”‚    915 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                    â”‚
           â”‚    916 â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                        â”‚
           â”‚ â±  917 â”‚   â”‚   â”‚   â”‚   response = await _response                                                                                                                                                                           â”‚
           â”‚    918 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚    919 â”‚   â”‚   â”‚   ## CHECK CONTENT FILTER ERROR ##                                                                                                                                                                         â”‚
           â”‚    920 â”‚   â”‚   â”‚   if isinstance(response, ModelResponse):                                                                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/utils.py:1174 in wrapper_async                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1171 â”‚   â”‚   â”‚   â”‚   â”‚   else:                                                                                                                                                                                            â”‚
           â”‚   1172 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   kwargs["model"] = context_window_fallback_dict[model]                                                                                                                                        â”‚
           â”‚   1173 â”‚   â”‚   â”‚   â”‚   â”‚   return await original_function(*args, **kwargs)                                                                                                                                                  â”‚
           â”‚ â± 1174 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚   1175 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   1176 â”‚   is_coroutine = inspect.iscoroutinefunction(original_function)                                                                                                                                                    â”‚
           â”‚   1177                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/utils.py:1030 in wrapper_async                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1027 â”‚   â”‚   â”‚   â”‚   return _caching_handler_response.final_embedding_cached_response                                                                                                                                     â”‚
           â”‚   1028 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚   1029 â”‚   â”‚   â”‚   # MODEL CALL                                                                                                                                                                                             â”‚
           â”‚ â± 1030 â”‚   â”‚   â”‚   result = await original_function(*args, **kwargs)                                                                                                                                                        â”‚
           â”‚   1031 â”‚   â”‚   â”‚   end_time = datetime.datetime.now()                                                                                                                                                                       â”‚
           â”‚   1032 â”‚   â”‚   â”‚   if "stream" in kwargs and kwargs["stream"] is True:                                                                                                                                                      â”‚
           â”‚   1033 â”‚   â”‚   â”‚   â”‚   if (                                                                                                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py:499 in acompletion                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    496 â”‚   â”‚   return response                                                                                                                                                                                              â”‚
           â”‚    497 â”‚   except Exception as e:                                                                                                                                                                                           â”‚
           â”‚    498 â”‚   â”‚   custom_llm_provider = custom_llm_provider or "openai"                                                                                                                                                        â”‚
           â”‚ â±  499 â”‚   â”‚   raise exception_type(                                                                                                                                                                                        â”‚
           â”‚    500 â”‚   â”‚   â”‚   model=model,                                                                                                                                                                                             â”‚
           â”‚    501 â”‚   â”‚   â”‚   custom_llm_provider=custom_llm_provider,                                                                                                                                                                 â”‚
           â”‚    502 â”‚   â”‚   â”‚   original_exception=e,                                                                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/litellm_core_utils/exception_mapping_utils.py:2122 in exception_type                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2119 â”‚   â”‚   # don't let an error with mapping interrupt the user from receiving an error                                                                                                                                 â”‚
           â”‚        from the llm api calls                                                                                                                                                                                               â”‚
           â”‚   2120 â”‚   â”‚   if exception_mapping_worked:                                                                                                                                                                                 â”‚
           â”‚   2121 â”‚   â”‚   â”‚   setattr(e, "litellm_response_headers", litellm_response_headers)                                                                                                                                         â”‚
           â”‚ â± 2122 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚   2123 â”‚   â”‚   else:                                                                                                                                                                                                        â”‚
           â”‚   2124 â”‚   â”‚   â”‚   for error_type in litellm.LITELLM_EXCEPTION_TYPES:                                                                                                                                                       â”‚
           â”‚   2125 â”‚   â”‚   â”‚   â”‚   if isinstance(e, error_type):                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/litellm_core_utils/exception_mapping_utils.py:2098 in exception_type                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2095 â”‚   â”‚   â”‚   â”‚   â”‚   request=original_exception.request,                                                                                                                                                              â”‚
           â”‚   2096 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                    â”‚
           â”‚   2097 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                    â”‚
           â”‚ â± 2098 â”‚   â”‚   â”‚   â”‚   raise APIConnectionError(                                                                                                                                                                            â”‚
           â”‚   2099 â”‚   â”‚   â”‚   â”‚   â”‚   message="{}\n{}".format(                                                                                                                                                                         â”‚
           â”‚   2100 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   str(original_exception), traceback.format_exc()                                                                                                                                              â”‚
           â”‚   2101 â”‚   â”‚   â”‚   â”‚   â”‚   ),                                                                                                                                                                                               â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           APIConnectionError: litellm.APIConnectionError: Cannot connect to host localhost:11434 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1',   
           11434)]                                                                                                                                                                                                                        
           Traceback (most recent call last):                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1109, in _wrap_create_connection                                                                                  
               sock = await aiohappyeyeballs.start_connection(                                                                                                                                                                            
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                            
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohappyeyeballs/impl.py", line 123, in start_connection                                                                                      
               raise OSError(first_errno, msg)                                                                                                                                                                                            
           ConnectionRefusedError: [Errno 111] Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11434)                                                            
                                                                                                                                                                                                                                          
           The above exception was the direct cause of the following exception:                                                                                                                                                           
                                                                                                                                                                                                                                          
           Traceback (most recent call last):                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py", line 477, in acompletion                                                                                                    
               response = await init_response                                                                                                                                                                                             
                          ^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py", line 564, in ollama_acompletion                                                                                      
               raise e  # don't use verbose_logger.exception, if exception is raised                                                                                                                                                      
               ^^^^^^^                                                                                                                                                                                                                    
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py", line 505, in ollama_acompletion                                                                                      
               resp = await session.post(url, json=data)                                                                                                                                                                                  
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                  
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/client.py", line 696, in _request                                                                                                     
               conn = await self._connector.connect(                                                                                                                                                                                      
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                      
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 544, in connect                                                                                                   
               proto = await self._create_connection(req, traces, timeout)                                                                                                                                                                
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1050, in _create_connection                                                                                       
               _, proto = await self._create_direct_connection(req, traces, timeout)                                                                                                                                                      
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                      
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1394, in _create_direct_connection                                                                                
               raise last_exc                                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1363, in _create_direct_connection                                                                                
               transp, proto = await self._wrap_create_connection(                                                                                                                                                                        
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                        
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1124, in _wrap_create_connection                                                                                  
               raise client_error(req.connection_key, exc) from exc                                                                                                                                                                       
           aiohttp.client_exceptions.ClientConnectorError: Cannot connect to host localhost:11434 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1',   
           11434)]                                                                                                                                                                                                                        
                                                                                                                                                                                                                                          
           Received Model Group=ollama/llama3.3                                                                                                                                                                                           
           Available Model Group Fallbacks=None LiteLLM Retried: 2 times, LiteLLM Max Retries: 3                                                                                                                                          
[07:05:50] Answer:                                                                                                                                                                                                                        

[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.

[07:06:10] Trajectory failed.                                                                                                                                                                                                             
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1109 in _wrap_create_connection                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1106 â”‚   â”‚   â”‚   async with ceil_timeout(                                                                                                                                                                                 â”‚
           â”‚   1107 â”‚   â”‚   â”‚   â”‚   timeout.sock_connect, ceil_threshold=timeout.ceil_threshold                                                                                                                                          â”‚
           â”‚   1108 â”‚   â”‚   â”‚   ):                                                                                                                                                                                                       â”‚
           â”‚ â± 1109 â”‚   â”‚   â”‚   â”‚   sock = await aiohappyeyeballs.start_connection(                                                                                                                                                      â”‚
           â”‚   1110 â”‚   â”‚   â”‚   â”‚   â”‚   addr_infos=addr_infos,                                                                                                                                                                           â”‚
           â”‚   1111 â”‚   â”‚   â”‚   â”‚   â”‚   local_addr_infos=self._local_addr_infos,                                                                                                                                                         â”‚
           â”‚   1112 â”‚   â”‚   â”‚   â”‚   â”‚   happy_eyeballs_delay=self._happy_eyeballs_delay,                                                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohappyeyeballs/impl.py:123 in start_connection                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   120 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   isinstance(exc, OSError) and exc.errno == first_errno                                                                                                                                         â”‚
           â”‚   121 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   for exc in all_exceptions                                                                                                                                                                     â”‚
           â”‚   122 â”‚   â”‚   â”‚   â”‚   â”‚   ):                                                                                                                                                                                                â”‚
           â”‚ â± 123 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   raise OSError(first_errno, msg)                                                                                                                                                               â”‚
           â”‚   124 â”‚   â”‚   â”‚   â”‚   elif isinstance(first_exception, RuntimeError) and all(                                                                                                                                               â”‚
           â”‚   125 â”‚   â”‚   â”‚   â”‚   â”‚   isinstance(exc, RuntimeError) for exc in all_exceptions                                                                                                                                           â”‚
           â”‚   126 â”‚   â”‚   â”‚   â”‚   ):                                                                                                                                                                                                    â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           ConnectionRefusedError: [Errno 111] Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11434)                                                            
                                                                                                                                                                                                                                          
           The above exception was the direct cause of the following exception:                                                                                                                                                           
                                                                                                                                                                                                                                          
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py:477 in acompletion                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    474 â”‚   â”‚   â”‚   â”‚   â”‚   response = ModelResponse(**init_response)                                                                                                                                                        â”‚
           â”‚    475 â”‚   â”‚   â”‚   â”‚   response = init_response                                                                                                                                                                             â”‚
           â”‚    476 â”‚   â”‚   â”‚   elif asyncio.iscoroutine(init_response):                                                                                                                                                                 â”‚
           â”‚ â±  477 â”‚   â”‚   â”‚   â”‚   response = await init_response                                                                                                                                                                       â”‚
           â”‚    478 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                    â”‚
           â”‚    479 â”‚   â”‚   â”‚   â”‚   response = init_response  # type: ignore                                                                                                                                                             â”‚
           â”‚    480                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py:564 in ollama_acompletion                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   561 â”‚   â”‚   â”‚   )                                                                                                                                                                                                         â”‚
           â”‚   562 â”‚   â”‚   â”‚   return model_response                                                                                                                                                                                     â”‚
           â”‚   563 â”‚   except Exception as e:                                                                                                                                                                                            â”‚
           â”‚ â± 564 â”‚   â”‚   raise e  # don't use verbose_logger.exception, if exception is raised                                                                                                                                         â”‚
           â”‚   565                                                                                                                                                                                                                       â”‚
           â”‚   566                                                                                                                                                                                                                       â”‚
           â”‚   567 async def ollama_aembeddings(                                                                                                                                                                                         â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py:505 in ollama_acompletion                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   502 â”‚   try:                                                                                                                                                                                                              â”‚
           â”‚   503 â”‚   â”‚   timeout = aiohttp.ClientTimeout(total=litellm.request_timeout)  # 10 minutes                                                                                                                                  â”‚
           â”‚   504 â”‚   â”‚   async with aiohttp.ClientSession(timeout=timeout) as session:                                                                                                                                                 â”‚
           â”‚ â± 505 â”‚   â”‚   â”‚   resp = await session.post(url, json=data)                                                                                                                                                                 â”‚
           â”‚   506 â”‚   â”‚   â”‚                                                                                                                                                                                                             â”‚
           â”‚   507 â”‚   â”‚   â”‚   if resp.status != 200:                                                                                                                                                                                    â”‚
           â”‚   508 â”‚   â”‚   â”‚   â”‚   text = await resp.text()                                                                                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/client.py:696 in _request                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    693 â”‚   â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                    â”‚
           â”‚    694 â”‚   â”‚   â”‚   â”‚   â”‚   # connection timeout                                                                                                                                                                             â”‚
           â”‚    695 â”‚   â”‚   â”‚   â”‚   â”‚   try:                                                                                                                                                                                             â”‚
           â”‚ â±  696 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   conn = await self._connector.connect(                                                                                                                                                        â”‚
           â”‚    697 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   req, traces=traces, timeout=real_timeout                                                                                                                                                 â”‚
           â”‚    698 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                            â”‚
           â”‚    699 â”‚   â”‚   â”‚   â”‚   â”‚   except asyncio.TimeoutError as exc:                                                                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:544 in connect                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    541 â”‚   â”‚   â”‚   â”‚   if traces:                                                                                                                                                                                           â”‚
           â”‚    542 â”‚   â”‚   â”‚   â”‚   â”‚   for trace in traces:                                                                                                                                                                             â”‚
           â”‚    543 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   await trace.send_connection_create_start()                                                                                                                                                   â”‚
           â”‚ â±  544 â”‚   â”‚   â”‚   â”‚   proto = await self._create_connection(req, traces, timeout)                                                                                                                                          â”‚
           â”‚    545 â”‚   â”‚   â”‚   â”‚   if traces:                                                                                                                                                                                           â”‚
           â”‚    546 â”‚   â”‚   â”‚   â”‚   â”‚   for trace in traces:                                                                                                                                                                             â”‚
           â”‚    547 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   await trace.send_connection_create_end()                                                                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1050 in _create_connection                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1047 â”‚   â”‚   if req.proxy:                                                                                                                                                                                                â”‚
           â”‚   1048 â”‚   â”‚   â”‚   _, proto = await self._create_proxy_connection(req, traces, timeout)                                                                                                                                     â”‚
           â”‚   1049 â”‚   â”‚   else:                                                                                                                                                                                                        â”‚
           â”‚ â± 1050 â”‚   â”‚   â”‚   _, proto = await self._create_direct_connection(req, traces, timeout)                                                                                                                                    â”‚
           â”‚   1051 â”‚   â”‚                                                                                                                                                                                                                â”‚
           â”‚   1052 â”‚   â”‚   return proto                                                                                                                                                                                                 â”‚
           â”‚   1053                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1394 in _create_direct_connection                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1391 â”‚   â”‚   â”‚   return transp, proto                                                                                                                                                                                     â”‚
           â”‚   1392 â”‚   â”‚   else:                                                                                                                                                                                                        â”‚
           â”‚   1393 â”‚   â”‚   â”‚   assert last_exc is not None                                                                                                                                                                              â”‚
           â”‚ â± 1394 â”‚   â”‚   â”‚   raise last_exc                                                                                                                                                                                           â”‚
           â”‚   1395 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   1396 â”‚   async def _create_proxy_connection(                                                                                                                                                                              â”‚
           â”‚   1397 â”‚   â”‚   self, req: ClientRequest, traces: List["Trace"], timeout: "ClientTimeout"                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1363 in _create_direct_connection                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1360 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚   1361 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚   1362 â”‚   â”‚   â”‚   try:                                                                                                                                                                                                     â”‚
           â”‚ â± 1363 â”‚   â”‚   â”‚   â”‚   transp, proto = await self._wrap_create_connection(                                                                                                                                                  â”‚
           â”‚   1364 â”‚   â”‚   â”‚   â”‚   â”‚   self._factory,                                                                                                                                                                                   â”‚
           â”‚   1365 â”‚   â”‚   â”‚   â”‚   â”‚   timeout=timeout,                                                                                                                                                                                 â”‚
           â”‚   1366 â”‚   â”‚   â”‚   â”‚   â”‚   ssl=sslcontext,                                                                                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1124 in _wrap_create_connection                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1121 â”‚   â”‚   except OSError as exc:                                                                                                                                                                                       â”‚
           â”‚   1122 â”‚   â”‚   â”‚   if exc.errno is None and isinstance(exc, asyncio.TimeoutError):                                                                                                                                          â”‚
           â”‚   1123 â”‚   â”‚   â”‚   â”‚   raise                                                                                                                                                                                                â”‚
           â”‚ â± 1124 â”‚   â”‚   â”‚   raise client_error(req.connection_key, exc) from exc                                                                                                                                                     â”‚
           â”‚   1125 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   1126 â”‚   async def _wrap_existing_connection(                                                                                                                                                                             â”‚
           â”‚   1127 â”‚   â”‚   self,                                                                                                                                                                                                        â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           ClientConnectorError: Cannot connect to host localhost:11434 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11434)]                     
                                                                                                                                                                                                                                          
           During handling of the above exception, another exception occurred:                                                                                                                                                            
                                                                                                                                                                                                                                          
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:276 in _run_with_timeout_failure                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   273 ) -> tuple[PQASession, AgentStatus]:                                                                                                                                                                                  â”‚
           â”‚   274 â”‚   try:                                                                                                                                                                                                              â”‚
           â”‚   275 â”‚   â”‚   async with asyncio.timeout(query.settings.agent.timeout):                                                                                                                                                     â”‚
           â”‚ â± 276 â”‚   â”‚   â”‚   status = await rollout()                                                                                                                                                                                  â”‚
           â”‚   277 â”‚   except TimeoutError:                                                                                                                                                                                              â”‚
           â”‚   278 â”‚   â”‚   logger.warning(                                                                                                                                                                                               â”‚
           â”‚   279 â”‚   â”‚   â”‚   f"Agent timeout after {query.settings.agent.timeout}-sec, just answering."                                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:410 in rollout                                                                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   407 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                     â”‚
           â”‚   408 â”‚   â”‚   â”‚   â”‚   return AgentStatus.TRUNCATED                                                                                                                                                                          â”‚
           â”‚   409 â”‚   â”‚   â”‚   agent_state.messages += obs                                                                                                                                                                               â”‚
           â”‚ â± 410 â”‚   â”‚   â”‚   for attempt in Retrying(                                                                                                                                                                                  â”‚
           â”‚   411 â”‚   â”‚   â”‚   â”‚   stop=stop_after_attempt(5),                                                                                                                                                                           â”‚
           â”‚   412 â”‚   â”‚   â”‚   â”‚   retry=retry_if_exception_type(MalformedMessageError),                                                                                                                                                 â”‚
           â”‚   413 â”‚   â”‚   â”‚   â”‚   before_sleep=before_sleep_log(logger, logging.WARNING),                                                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:443 in __iter__                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   440 â”‚   â”‚                                                                                                                                                                                                                 â”‚
           â”‚   441 â”‚   â”‚   retry_state = RetryCallState(self, fn=None, args=(), kwargs={})                                                                                                                                               â”‚
           â”‚   442 â”‚   â”‚   while True:                                                                                                                                                                                                   â”‚
           â”‚ â± 443 â”‚   â”‚   â”‚   do = self.iter(retry_state=retry_state)                                                                                                                                                                   â”‚
           â”‚   444 â”‚   â”‚   â”‚   if isinstance(do, DoAttempt):                                                                                                                                                                             â”‚
           â”‚   445 â”‚   â”‚   â”‚   â”‚   yield AttemptManager(retry_state=retry_state)                                                                                                                                                         â”‚
           â”‚   446 â”‚   â”‚   â”‚   elif isinstance(do, DoSleep):                                                                                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:376 in iter                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   373 â”‚   â”‚   self._begin_iter(retry_state)                                                                                                                                                                                 â”‚
           â”‚   374 â”‚   â”‚   result = None                                                                                                                                                                                                 â”‚
           â”‚   375 â”‚   â”‚   for action in self.iter_state.actions:                                                                                                                                                                        â”‚
           â”‚ â± 376 â”‚   â”‚   â”‚   result = action(retry_state)                                                                                                                                                                              â”‚
           â”‚   377 â”‚   â”‚   return result                                                                                                                                                                                                 â”‚
           â”‚   378 â”‚                                                                                                                                                                                                                     â”‚
           â”‚   379 â”‚   def _begin_iter(self, retry_state: "RetryCallState") -> None:  # noqa                                                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:398 in <lambda>                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   395 â”‚                                                                                                                                                                                                                     â”‚
           â”‚   396 â”‚   def _post_retry_check_actions(self, retry_state: "RetryCallState") -> None:                                                                                                                                       â”‚
           â”‚   397 â”‚   â”‚   if not (self.iter_state.is_explicit_retry or self.iter_state.retry_run_result):                                                                                                                               â”‚
           â”‚ â± 398 â”‚   â”‚   â”‚   self._add_action_func(lambda rs: rs.outcome.result())                                                                                                                                                     â”‚
           â”‚   399 â”‚   â”‚   â”‚   return                                                                                                                                                                                                    â”‚
           â”‚   400 â”‚   â”‚                                                                                                                                                                                                                 â”‚
           â”‚   401 â”‚   â”‚   if self.after is not None:                                                                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/concurrent/futures/_base.py:449 in result                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   446 â”‚   â”‚   â”‚   â”‚   if self._state in [CANCELLED, CANCELLED_AND_NOTIFIED]:                                                                                                                                                â”‚
           â”‚   447 â”‚   â”‚   â”‚   â”‚   â”‚   raise CancelledError()                                                                                                                                                                            â”‚
           â”‚   448 â”‚   â”‚   â”‚   â”‚   elif self._state == FINISHED:                                                                                                                                                                         â”‚
           â”‚ â± 449 â”‚   â”‚   â”‚   â”‚   â”‚   return self.__get_result()                                                                                                                                                                        â”‚
           â”‚   450 â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                         â”‚
           â”‚   451 â”‚   â”‚   â”‚   â”‚   self._condition.wait(timeout)                                                                                                                                                                         â”‚
           â”‚   452                                                                                                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/concurrent/futures/_base.py:401 in __get_result                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   398 â”‚   def __get_result(self):                                                                                                                                                                                           â”‚
           â”‚   399 â”‚   â”‚   if self._exception:                                                                                                                                                                                           â”‚
           â”‚   400 â”‚   â”‚   â”‚   try:                                                                                                                                                                                                      â”‚
           â”‚ â± 401 â”‚   â”‚   â”‚   â”‚   raise self._exception                                                                                                                                                                                 â”‚
           â”‚   402 â”‚   â”‚   â”‚   finally:                                                                                                                                                                                                  â”‚
           â”‚   403 â”‚   â”‚   â”‚   â”‚   # Break a reference cycle with the exception in self._exception                                                                                                                                       â”‚
           â”‚   404 â”‚   â”‚   â”‚   â”‚   self = None                                                                                                                                                                                           â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:417 in rollout                                                                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   414 â”‚   â”‚   â”‚   â”‚   reraise=True,                                                                                                                                                                                         â”‚
           â”‚   415 â”‚   â”‚   â”‚   ):                                                                                                                                                                                                        â”‚
           â”‚   416 â”‚   â”‚   â”‚   â”‚   with attempt:  # Retrying if ToolSelector fails to select a tool                                                                                                                                      â”‚
           â”‚ â± 417 â”‚   â”‚   â”‚   â”‚   â”‚   action = await agent(agent_state.messages, tools)                                                                                                                                                 â”‚
           â”‚   418 â”‚   â”‚   â”‚   agent_state.messages = [*agent_state.messages, action]                                                                                                                                                    â”‚
           â”‚   419 â”‚   â”‚   â”‚   if on_agent_action_callback:                                                                                                                                                                              â”‚
           â”‚   420 â”‚   â”‚   â”‚   â”‚   await on_agent_action_callback(action, agent_state)                                                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aviary/tools/utils.py:182 in __call__                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   179 â”‚   â”‚   â”‚   self._ledger.messages.extend(messages)                                                                                                                                                                    â”‚
           â”‚   180 â”‚   â”‚   â”‚   messages = self._ledger.messages                                                                                                                                                                          â”‚
           â”‚   181 â”‚   â”‚                                                                                                                                                                                                                 â”‚
           â”‚ â± 182 â”‚   â”‚   model_response = await self._bound_acompletion(                                                                                                                                                               â”‚
           â”‚   183 â”‚   â”‚   â”‚   messages=MessagesAdapter.dump_python(                                                                                                                                                                     â”‚
           â”‚   184 â”‚   â”‚   â”‚   â”‚   messages, exclude_none=True, by_alias=True                                                                                                                                                            â”‚
           â”‚   185 â”‚   â”‚   â”‚   ),                                                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:819 in acompletion                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    816 â”‚   â”‚   â”‚   â”‚   â”‚   original_exception=e,                                                                                                                                                                            â”‚
           â”‚    817 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                    â”‚
           â”‚    818 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚ â±  819 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚    820 â”‚                                                                                                                                                                                                                    â”‚
           â”‚    821 â”‚   async def _acompletion(                                                                                                                                                                                          â”‚
           â”‚    822 â”‚   â”‚   self, model: str, messages: List[Dict[str, str]], **kwargs                                                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:795 in acompletion                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    792 â”‚   â”‚   â”‚   if request_priority is not None and isinstance(request_priority, int):                                                                                                                                   â”‚
           â”‚    793 â”‚   â”‚   â”‚   â”‚   response = await self.schedule_acompletion(**kwargs)                                                                                                                                                 â”‚
           â”‚    794 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                    â”‚
           â”‚ â±  795 â”‚   â”‚   â”‚   â”‚   response = await self.async_function_with_fallbacks(**kwargs)                                                                                                                                        â”‚
           â”‚    796 â”‚   â”‚   â”‚   end_time = time.time()                                                                                                                                                                                   â”‚
           â”‚    797 â”‚   â”‚   â”‚   _duration = end_time - start_time                                                                                                                                                                        â”‚
           â”‚    798 â”‚   â”‚   â”‚   asyncio.create_task(                                                                                                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2792 in async_function_with_fallbacks                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2789 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                            â”‚
           â”‚   2790 â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                â”‚
           â”‚   2791 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚ â± 2792 â”‚   â”‚   â”‚   raise original_exception                                                                                                                                                                                 â”‚
           â”‚   2793 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   2794 â”‚   def _handle_mock_testing_fallbacks(                                                                                                                                                                              â”‚
           â”‚   2795 â”‚   â”‚   self,                                                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2628 in async_function_with_fallbacks                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2625 â”‚   â”‚   â”‚   â”‚   content_policy_fallbacks=content_policy_fallbacks,                                                                                                                                                   â”‚
           â”‚   2626 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚   2627 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚ â± 2628 â”‚   â”‚   â”‚   response = await self.async_function_with_retries(*args, **kwargs)                                                                                                                                       â”‚
           â”‚   2629 â”‚   â”‚   â”‚   verbose_router_logger.debug(f"Async Response: {response}")                                                                                                                                               â”‚
           â”‚   2630 â”‚   â”‚   â”‚   return response                                                                                                                                                                                          â”‚
           â”‚   2631 â”‚   â”‚   except Exception as e:                                                                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2964 in async_function_with_retries                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2961 â”‚   â”‚   â”‚   â”‚   setattr(original_exception, "max_retries", num_retries)                                                                                                                                              â”‚
           â”‚   2962 â”‚   â”‚   â”‚   â”‚   setattr(original_exception, "num_retries", current_attempt)                                                                                                                                          â”‚
           â”‚   2963 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚ â± 2964 â”‚   â”‚   â”‚   raise original_exception                                                                                                                                                                                 â”‚
           â”‚   2965 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   2966 â”‚   async def make_call(self, original_function: Any, *args, **kwargs):                                                                                                                                              â”‚
           â”‚   2967 â”‚   â”‚   """                                                                                                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2876 in async_function_with_retries                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2873 â”‚   â”‚   â”‚   â”‚   model_group=model_group, kwargs=kwargs                                                                                                                                                               â”‚
           â”‚   2874 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚   2875 â”‚   â”‚   â”‚   # if the function call is successful, no exception will be raised and we'll                                                                                                                              â”‚
           â”‚        break out of the loop                                                                                                                                                                                                â”‚
           â”‚ â± 2876 â”‚   â”‚   â”‚   response = await self.make_call(original_function, *args, **kwargs)                                                                                                                                      â”‚
           â”‚   2877 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚   2878 â”‚   â”‚   â”‚   return response                                                                                                                                                                                          â”‚
           â”‚   2879 â”‚   â”‚   except Exception as e:                                                                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2973 in make_call                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2970 â”‚   â”‚   model_group = kwargs.get("model")                                                                                                                                                                            â”‚
           â”‚   2971 â”‚   â”‚   response = original_function(*args, **kwargs)                                                                                                                                                                â”‚
           â”‚   2972 â”‚   â”‚   if inspect.iscoroutinefunction(response) or inspect.isawaitable(response):                                                                                                                                   â”‚
           â”‚ â± 2973 â”‚   â”‚   â”‚   response = await response                                                                                                                                                                                â”‚
           â”‚   2974 â”‚   â”‚   ## PROCESS RESPONSE HEADERS                                                                                                                                                                                  â”‚
           â”‚   2975 â”‚   â”‚   await self.set_response_headers(response=response, model_group=model_group)                                                                                                                                  â”‚
           â”‚   2976                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:949 in _acompletion                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    946 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚    947 â”‚   â”‚   â”‚   if model_name is not None:                                                                                                                                                                               â”‚
           â”‚    948 â”‚   â”‚   â”‚   â”‚   self.fail_calls[model_name] += 1                                                                                                                                                                     â”‚
           â”‚ â±  949 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚    950 â”‚                                                                                                                                                                                                                    â”‚
           â”‚    951 â”‚   def _update_kwargs_with_default_litellm_params(self, kwargs: dict) -> None:                                                                                                                                      â”‚
           â”‚    952 â”‚   â”‚   """                                                                                                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:917 in _acompletion                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    914 â”‚   â”‚   â”‚   â”‚   â”‚   parent_otel_span=parent_otel_span,                                                                                                                                                               â”‚
           â”‚    915 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                    â”‚
           â”‚    916 â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                        â”‚
           â”‚ â±  917 â”‚   â”‚   â”‚   â”‚   response = await _response                                                                                                                                                                           â”‚
           â”‚    918 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚    919 â”‚   â”‚   â”‚   ## CHECK CONTENT FILTER ERROR ##                                                                                                                                                                         â”‚
           â”‚    920 â”‚   â”‚   â”‚   if isinstance(response, ModelResponse):                                                                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/utils.py:1174 in wrapper_async                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1171 â”‚   â”‚   â”‚   â”‚   â”‚   else:                                                                                                                                                                                            â”‚
           â”‚   1172 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   kwargs["model"] = context_window_fallback_dict[model]                                                                                                                                        â”‚
           â”‚   1173 â”‚   â”‚   â”‚   â”‚   â”‚   return await original_function(*args, **kwargs)                                                                                                                                                  â”‚
           â”‚ â± 1174 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚   1175 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   1176 â”‚   is_coroutine = inspect.iscoroutinefunction(original_function)                                                                                                                                                    â”‚
           â”‚   1177                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/utils.py:1030 in wrapper_async                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1027 â”‚   â”‚   â”‚   â”‚   return _caching_handler_response.final_embedding_cached_response                                                                                                                                     â”‚
           â”‚   1028 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚   1029 â”‚   â”‚   â”‚   # MODEL CALL                                                                                                                                                                                             â”‚
           â”‚ â± 1030 â”‚   â”‚   â”‚   result = await original_function(*args, **kwargs)                                                                                                                                                        â”‚
           â”‚   1031 â”‚   â”‚   â”‚   end_time = datetime.datetime.now()                                                                                                                                                                       â”‚
           â”‚   1032 â”‚   â”‚   â”‚   if "stream" in kwargs and kwargs["stream"] is True:                                                                                                                                                      â”‚
           â”‚   1033 â”‚   â”‚   â”‚   â”‚   if (                                                                                                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py:499 in acompletion                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    496 â”‚   â”‚   return response                                                                                                                                                                                              â”‚
           â”‚    497 â”‚   except Exception as e:                                                                                                                                                                                           â”‚
           â”‚    498 â”‚   â”‚   custom_llm_provider = custom_llm_provider or "openai"                                                                                                                                                        â”‚
           â”‚ â±  499 â”‚   â”‚   raise exception_type(                                                                                                                                                                                        â”‚
           â”‚    500 â”‚   â”‚   â”‚   model=model,                                                                                                                                                                                             â”‚
           â”‚    501 â”‚   â”‚   â”‚   custom_llm_provider=custom_llm_provider,                                                                                                                                                                 â”‚
           â”‚    502 â”‚   â”‚   â”‚   original_exception=e,                                                                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/litellm_core_utils/exception_mapping_utils.py:2122 in exception_type                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2119 â”‚   â”‚   # don't let an error with mapping interrupt the user from receiving an error                                                                                                                                 â”‚
           â”‚        from the llm api calls                                                                                                                                                                                               â”‚
           â”‚   2120 â”‚   â”‚   if exception_mapping_worked:                                                                                                                                                                                 â”‚
           â”‚   2121 â”‚   â”‚   â”‚   setattr(e, "litellm_response_headers", litellm_response_headers)                                                                                                                                         â”‚
           â”‚ â± 2122 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚   2123 â”‚   â”‚   else:                                                                                                                                                                                                        â”‚
           â”‚   2124 â”‚   â”‚   â”‚   for error_type in litellm.LITELLM_EXCEPTION_TYPES:                                                                                                                                                       â”‚
           â”‚   2125 â”‚   â”‚   â”‚   â”‚   if isinstance(e, error_type):                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/litellm_core_utils/exception_mapping_utils.py:2098 in exception_type                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2095 â”‚   â”‚   â”‚   â”‚   â”‚   request=original_exception.request,                                                                                                                                                              â”‚
           â”‚   2096 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                    â”‚
           â”‚   2097 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                    â”‚
           â”‚ â± 2098 â”‚   â”‚   â”‚   â”‚   raise APIConnectionError(                                                                                                                                                                            â”‚
           â”‚   2099 â”‚   â”‚   â”‚   â”‚   â”‚   message="{}\n{}".format(                                                                                                                                                                         â”‚
           â”‚   2100 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   str(original_exception), traceback.format_exc()                                                                                                                                              â”‚
           â”‚   2101 â”‚   â”‚   â”‚   â”‚   â”‚   ),                                                                                                                                                                                               â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           APIConnectionError: litellm.APIConnectionError: Cannot connect to host localhost:11434 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1',   
           11434)]                                                                                                                                                                                                                        
           Traceback (most recent call last):                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1109, in _wrap_create_connection                                                                                  
               sock = await aiohappyeyeballs.start_connection(                                                                                                                                                                            
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                            
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohappyeyeballs/impl.py", line 123, in start_connection                                                                                      
               raise OSError(first_errno, msg)                                                                                                                                                                                            
           ConnectionRefusedError: [Errno 111] Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11434)                                                            
                                                                                                                                                                                                                                          
           The above exception was the direct cause of the following exception:                                                                                                                                                           
                                                                                                                                                                                                                                          
           Traceback (most recent call last):                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py", line 477, in acompletion                                                                                                    
               response = await init_response                                                                                                                                                                                             
                          ^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py", line 564, in ollama_acompletion                                                                                      
               raise e  # don't use verbose_logger.exception, if exception is raised                                                                                                                                                      
               ^^^^^^^                                                                                                                                                                                                                    
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py", line 505, in ollama_acompletion                                                                                      
               resp = await session.post(url, json=data)                                                                                                                                                                                  
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                  
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/client.py", line 696, in _request                                                                                                     
               conn = await self._connector.connect(                                                                                                                                                                                      
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                      
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 544, in connect                                                                                                   
               proto = await self._create_connection(req, traces, timeout)                                                                                                                                                                
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1050, in _create_connection                                                                                       
               _, proto = await self._create_direct_connection(req, traces, timeout)                                                                                                                                                      
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                      
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1394, in _create_direct_connection                                                                                
               raise last_exc                                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1363, in _create_direct_connection                                                                                
               transp, proto = await self._wrap_create_connection(                                                                                                                                                                        
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                        
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1124, in _wrap_create_connection                                                                                  
               raise client_error(req.connection_key, exc) from exc                                                                                                                                                                       
           aiohttp.client_exceptions.ClientConnectorError: Cannot connect to host localhost:11434 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1',   
           11434)]                                                                                                                                                                                                                        
                                                                                                                                                                                                                                          
           Received Model Group=ollama/llama3.3                                                                                                                                                                                           
           Available Model Group Fallbacks=None LiteLLM Retried: 2 times, LiteLLM Max Retries: 3                                                                                                                                          
[07:06:13] Answer:                                                                                                                                                                                                                        

[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.

[07:06:33] Trajectory failed.                                                                                                                                                                                                             
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1109 in _wrap_create_connection                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1106 â”‚   â”‚   â”‚   async with ceil_timeout(                                                                                                                                                                                 â”‚
           â”‚   1107 â”‚   â”‚   â”‚   â”‚   timeout.sock_connect, ceil_threshold=timeout.ceil_threshold                                                                                                                                          â”‚
           â”‚   1108 â”‚   â”‚   â”‚   ):                                                                                                                                                                                                       â”‚
           â”‚ â± 1109 â”‚   â”‚   â”‚   â”‚   sock = await aiohappyeyeballs.start_connection(                                                                                                                                                      â”‚
           â”‚   1110 â”‚   â”‚   â”‚   â”‚   â”‚   addr_infos=addr_infos,                                                                                                                                                                           â”‚
           â”‚   1111 â”‚   â”‚   â”‚   â”‚   â”‚   local_addr_infos=self._local_addr_infos,                                                                                                                                                         â”‚
           â”‚   1112 â”‚   â”‚   â”‚   â”‚   â”‚   happy_eyeballs_delay=self._happy_eyeballs_delay,                                                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohappyeyeballs/impl.py:123 in start_connection                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   120 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   isinstance(exc, OSError) and exc.errno == first_errno                                                                                                                                         â”‚
           â”‚   121 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   for exc in all_exceptions                                                                                                                                                                     â”‚
           â”‚   122 â”‚   â”‚   â”‚   â”‚   â”‚   ):                                                                                                                                                                                                â”‚
           â”‚ â± 123 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   raise OSError(first_errno, msg)                                                                                                                                                               â”‚
           â”‚   124 â”‚   â”‚   â”‚   â”‚   elif isinstance(first_exception, RuntimeError) and all(                                                                                                                                               â”‚
           â”‚   125 â”‚   â”‚   â”‚   â”‚   â”‚   isinstance(exc, RuntimeError) for exc in all_exceptions                                                                                                                                           â”‚
           â”‚   126 â”‚   â”‚   â”‚   â”‚   ):                                                                                                                                                                                                    â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           ConnectionRefusedError: [Errno 111] Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11434)                                                            
                                                                                                                                                                                                                                          
           The above exception was the direct cause of the following exception:                                                                                                                                                           
                                                                                                                                                                                                                                          
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py:477 in acompletion                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    474 â”‚   â”‚   â”‚   â”‚   â”‚   response = ModelResponse(**init_response)                                                                                                                                                        â”‚
           â”‚    475 â”‚   â”‚   â”‚   â”‚   response = init_response                                                                                                                                                                             â”‚
           â”‚    476 â”‚   â”‚   â”‚   elif asyncio.iscoroutine(init_response):                                                                                                                                                                 â”‚
           â”‚ â±  477 â”‚   â”‚   â”‚   â”‚   response = await init_response                                                                                                                                                                       â”‚
           â”‚    478 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                    â”‚
           â”‚    479 â”‚   â”‚   â”‚   â”‚   response = init_response  # type: ignore                                                                                                                                                             â”‚
           â”‚    480                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py:564 in ollama_acompletion                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   561 â”‚   â”‚   â”‚   )                                                                                                                                                                                                         â”‚
           â”‚   562 â”‚   â”‚   â”‚   return model_response                                                                                                                                                                                     â”‚
           â”‚   563 â”‚   except Exception as e:                                                                                                                                                                                            â”‚
           â”‚ â± 564 â”‚   â”‚   raise e  # don't use verbose_logger.exception, if exception is raised                                                                                                                                         â”‚
           â”‚   565                                                                                                                                                                                                                       â”‚
           â”‚   566                                                                                                                                                                                                                       â”‚
           â”‚   567 async def ollama_aembeddings(                                                                                                                                                                                         â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py:505 in ollama_acompletion                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   502 â”‚   try:                                                                                                                                                                                                              â”‚
           â”‚   503 â”‚   â”‚   timeout = aiohttp.ClientTimeout(total=litellm.request_timeout)  # 10 minutes                                                                                                                                  â”‚
           â”‚   504 â”‚   â”‚   async with aiohttp.ClientSession(timeout=timeout) as session:                                                                                                                                                 â”‚
           â”‚ â± 505 â”‚   â”‚   â”‚   resp = await session.post(url, json=data)                                                                                                                                                                 â”‚
           â”‚   506 â”‚   â”‚   â”‚                                                                                                                                                                                                             â”‚
           â”‚   507 â”‚   â”‚   â”‚   if resp.status != 200:                                                                                                                                                                                    â”‚
           â”‚   508 â”‚   â”‚   â”‚   â”‚   text = await resp.text()                                                                                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/client.py:696 in _request                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    693 â”‚   â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                    â”‚
           â”‚    694 â”‚   â”‚   â”‚   â”‚   â”‚   # connection timeout                                                                                                                                                                             â”‚
           â”‚    695 â”‚   â”‚   â”‚   â”‚   â”‚   try:                                                                                                                                                                                             â”‚
           â”‚ â±  696 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   conn = await self._connector.connect(                                                                                                                                                        â”‚
           â”‚    697 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   req, traces=traces, timeout=real_timeout                                                                                                                                                 â”‚
           â”‚    698 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                            â”‚
           â”‚    699 â”‚   â”‚   â”‚   â”‚   â”‚   except asyncio.TimeoutError as exc:                                                                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:544 in connect                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    541 â”‚   â”‚   â”‚   â”‚   if traces:                                                                                                                                                                                           â”‚
           â”‚    542 â”‚   â”‚   â”‚   â”‚   â”‚   for trace in traces:                                                                                                                                                                             â”‚
           â”‚    543 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   await trace.send_connection_create_start()                                                                                                                                                   â”‚
           â”‚ â±  544 â”‚   â”‚   â”‚   â”‚   proto = await self._create_connection(req, traces, timeout)                                                                                                                                          â”‚
           â”‚    545 â”‚   â”‚   â”‚   â”‚   if traces:                                                                                                                                                                                           â”‚
           â”‚    546 â”‚   â”‚   â”‚   â”‚   â”‚   for trace in traces:                                                                                                                                                                             â”‚
           â”‚    547 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   await trace.send_connection_create_end()                                                                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1050 in _create_connection                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1047 â”‚   â”‚   if req.proxy:                                                                                                                                                                                                â”‚
           â”‚   1048 â”‚   â”‚   â”‚   _, proto = await self._create_proxy_connection(req, traces, timeout)                                                                                                                                     â”‚
           â”‚   1049 â”‚   â”‚   else:                                                                                                                                                                                                        â”‚
           â”‚ â± 1050 â”‚   â”‚   â”‚   _, proto = await self._create_direct_connection(req, traces, timeout)                                                                                                                                    â”‚
           â”‚   1051 â”‚   â”‚                                                                                                                                                                                                                â”‚
           â”‚   1052 â”‚   â”‚   return proto                                                                                                                                                                                                 â”‚
           â”‚   1053                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1394 in _create_direct_connection                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1391 â”‚   â”‚   â”‚   return transp, proto                                                                                                                                                                                     â”‚
           â”‚   1392 â”‚   â”‚   else:                                                                                                                                                                                                        â”‚
           â”‚   1393 â”‚   â”‚   â”‚   assert last_exc is not None                                                                                                                                                                              â”‚
           â”‚ â± 1394 â”‚   â”‚   â”‚   raise last_exc                                                                                                                                                                                           â”‚
           â”‚   1395 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   1396 â”‚   async def _create_proxy_connection(                                                                                                                                                                              â”‚
           â”‚   1397 â”‚   â”‚   self, req: ClientRequest, traces: List["Trace"], timeout: "ClientTimeout"                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1363 in _create_direct_connection                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1360 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚   1361 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚   1362 â”‚   â”‚   â”‚   try:                                                                                                                                                                                                     â”‚
           â”‚ â± 1363 â”‚   â”‚   â”‚   â”‚   transp, proto = await self._wrap_create_connection(                                                                                                                                                  â”‚
           â”‚   1364 â”‚   â”‚   â”‚   â”‚   â”‚   self._factory,                                                                                                                                                                                   â”‚
           â”‚   1365 â”‚   â”‚   â”‚   â”‚   â”‚   timeout=timeout,                                                                                                                                                                                 â”‚
           â”‚   1366 â”‚   â”‚   â”‚   â”‚   â”‚   ssl=sslcontext,                                                                                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1124 in _wrap_create_connection                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1121 â”‚   â”‚   except OSError as exc:                                                                                                                                                                                       â”‚
           â”‚   1122 â”‚   â”‚   â”‚   if exc.errno is None and isinstance(exc, asyncio.TimeoutError):                                                                                                                                          â”‚
           â”‚   1123 â”‚   â”‚   â”‚   â”‚   raise                                                                                                                                                                                                â”‚
           â”‚ â± 1124 â”‚   â”‚   â”‚   raise client_error(req.connection_key, exc) from exc                                                                                                                                                     â”‚
           â”‚   1125 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   1126 â”‚   async def _wrap_existing_connection(                                                                                                                                                                             â”‚
           â”‚   1127 â”‚   â”‚   self,                                                                                                                                                                                                        â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           ClientConnectorError: Cannot connect to host localhost:11434 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11434)]                     
                                                                                                                                                                                                                                          
           During handling of the above exception, another exception occurred:                                                                                                                                                            
                                                                                                                                                                                                                                          
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:276 in _run_with_timeout_failure                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   273 ) -> tuple[PQASession, AgentStatus]:                                                                                                                                                                                  â”‚
           â”‚   274 â”‚   try:                                                                                                                                                                                                              â”‚
           â”‚   275 â”‚   â”‚   async with asyncio.timeout(query.settings.agent.timeout):                                                                                                                                                     â”‚
           â”‚ â± 276 â”‚   â”‚   â”‚   status = await rollout()                                                                                                                                                                                  â”‚
           â”‚   277 â”‚   except TimeoutError:                                                                                                                                                                                              â”‚
           â”‚   278 â”‚   â”‚   logger.warning(                                                                                                                                                                                               â”‚
           â”‚   279 â”‚   â”‚   â”‚   f"Agent timeout after {query.settings.agent.timeout}-sec, just answering."                                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:410 in rollout                                                                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   407 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                     â”‚
           â”‚   408 â”‚   â”‚   â”‚   â”‚   return AgentStatus.TRUNCATED                                                                                                                                                                          â”‚
           â”‚   409 â”‚   â”‚   â”‚   agent_state.messages += obs                                                                                                                                                                               â”‚
           â”‚ â± 410 â”‚   â”‚   â”‚   for attempt in Retrying(                                                                                                                                                                                  â”‚
           â”‚   411 â”‚   â”‚   â”‚   â”‚   stop=stop_after_attempt(5),                                                                                                                                                                           â”‚
           â”‚   412 â”‚   â”‚   â”‚   â”‚   retry=retry_if_exception_type(MalformedMessageError),                                                                                                                                                 â”‚
           â”‚   413 â”‚   â”‚   â”‚   â”‚   before_sleep=before_sleep_log(logger, logging.WARNING),                                                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:443 in __iter__                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   440 â”‚   â”‚                                                                                                                                                                                                                 â”‚
           â”‚   441 â”‚   â”‚   retry_state = RetryCallState(self, fn=None, args=(), kwargs={})                                                                                                                                               â”‚
           â”‚   442 â”‚   â”‚   while True:                                                                                                                                                                                                   â”‚
           â”‚ â± 443 â”‚   â”‚   â”‚   do = self.iter(retry_state=retry_state)                                                                                                                                                                   â”‚
           â”‚   444 â”‚   â”‚   â”‚   if isinstance(do, DoAttempt):                                                                                                                                                                             â”‚
           â”‚   445 â”‚   â”‚   â”‚   â”‚   yield AttemptManager(retry_state=retry_state)                                                                                                                                                         â”‚
           â”‚   446 â”‚   â”‚   â”‚   elif isinstance(do, DoSleep):                                                                                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:376 in iter                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   373 â”‚   â”‚   self._begin_iter(retry_state)                                                                                                                                                                                 â”‚
           â”‚   374 â”‚   â”‚   result = None                                                                                                                                                                                                 â”‚
           â”‚   375 â”‚   â”‚   for action in self.iter_state.actions:                                                                                                                                                                        â”‚
           â”‚ â± 376 â”‚   â”‚   â”‚   result = action(retry_state)                                                                                                                                                                              â”‚
           â”‚   377 â”‚   â”‚   return result                                                                                                                                                                                                 â”‚
           â”‚   378 â”‚                                                                                                                                                                                                                     â”‚
           â”‚   379 â”‚   def _begin_iter(self, retry_state: "RetryCallState") -> None:  # noqa                                                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:398 in <lambda>                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   395 â”‚                                                                                                                                                                                                                     â”‚
           â”‚   396 â”‚   def _post_retry_check_actions(self, retry_state: "RetryCallState") -> None:                                                                                                                                       â”‚
           â”‚   397 â”‚   â”‚   if not (self.iter_state.is_explicit_retry or self.iter_state.retry_run_result):                                                                                                                               â”‚
           â”‚ â± 398 â”‚   â”‚   â”‚   self._add_action_func(lambda rs: rs.outcome.result())                                                                                                                                                     â”‚
           â”‚   399 â”‚   â”‚   â”‚   return                                                                                                                                                                                                    â”‚
           â”‚   400 â”‚   â”‚                                                                                                                                                                                                                 â”‚
           â”‚   401 â”‚   â”‚   if self.after is not None:                                                                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/concurrent/futures/_base.py:449 in result                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   446 â”‚   â”‚   â”‚   â”‚   if self._state in [CANCELLED, CANCELLED_AND_NOTIFIED]:                                                                                                                                                â”‚
           â”‚   447 â”‚   â”‚   â”‚   â”‚   â”‚   raise CancelledError()                                                                                                                                                                            â”‚
           â”‚   448 â”‚   â”‚   â”‚   â”‚   elif self._state == FINISHED:                                                                                                                                                                         â”‚
           â”‚ â± 449 â”‚   â”‚   â”‚   â”‚   â”‚   return self.__get_result()                                                                                                                                                                        â”‚
           â”‚   450 â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                         â”‚
           â”‚   451 â”‚   â”‚   â”‚   â”‚   self._condition.wait(timeout)                                                                                                                                                                         â”‚
           â”‚   452                                                                                                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/concurrent/futures/_base.py:401 in __get_result                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   398 â”‚   def __get_result(self):                                                                                                                                                                                           â”‚
           â”‚   399 â”‚   â”‚   if self._exception:                                                                                                                                                                                           â”‚
           â”‚   400 â”‚   â”‚   â”‚   try:                                                                                                                                                                                                      â”‚
           â”‚ â± 401 â”‚   â”‚   â”‚   â”‚   raise self._exception                                                                                                                                                                                 â”‚
           â”‚   402 â”‚   â”‚   â”‚   finally:                                                                                                                                                                                                  â”‚
           â”‚   403 â”‚   â”‚   â”‚   â”‚   # Break a reference cycle with the exception in self._exception                                                                                                                                       â”‚
           â”‚   404 â”‚   â”‚   â”‚   â”‚   self = None                                                                                                                                                                                           â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:417 in rollout                                                                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   414 â”‚   â”‚   â”‚   â”‚   reraise=True,                                                                                                                                                                                         â”‚
           â”‚   415 â”‚   â”‚   â”‚   ):                                                                                                                                                                                                        â”‚
           â”‚   416 â”‚   â”‚   â”‚   â”‚   with attempt:  # Retrying if ToolSelector fails to select a tool                                                                                                                                      â”‚
           â”‚ â± 417 â”‚   â”‚   â”‚   â”‚   â”‚   action = await agent(agent_state.messages, tools)                                                                                                                                                 â”‚
           â”‚   418 â”‚   â”‚   â”‚   agent_state.messages = [*agent_state.messages, action]                                                                                                                                                    â”‚
           â”‚   419 â”‚   â”‚   â”‚   if on_agent_action_callback:                                                                                                                                                                              â”‚
           â”‚   420 â”‚   â”‚   â”‚   â”‚   await on_agent_action_callback(action, agent_state)                                                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aviary/tools/utils.py:182 in __call__                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   179 â”‚   â”‚   â”‚   self._ledger.messages.extend(messages)                                                                                                                                                                    â”‚
           â”‚   180 â”‚   â”‚   â”‚   messages = self._ledger.messages                                                                                                                                                                          â”‚
           â”‚   181 â”‚   â”‚                                                                                                                                                                                                                 â”‚
           â”‚ â± 182 â”‚   â”‚   model_response = await self._bound_acompletion(                                                                                                                                                               â”‚
           â”‚   183 â”‚   â”‚   â”‚   messages=MessagesAdapter.dump_python(                                                                                                                                                                     â”‚
           â”‚   184 â”‚   â”‚   â”‚   â”‚   messages, exclude_none=True, by_alias=True                                                                                                                                                            â”‚
           â”‚   185 â”‚   â”‚   â”‚   ),                                                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:819 in acompletion                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    816 â”‚   â”‚   â”‚   â”‚   â”‚   original_exception=e,                                                                                                                                                                            â”‚
           â”‚    817 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                    â”‚
           â”‚    818 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚ â±  819 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚    820 â”‚                                                                                                                                                                                                                    â”‚
           â”‚    821 â”‚   async def _acompletion(                                                                                                                                                                                          â”‚
           â”‚    822 â”‚   â”‚   self, model: str, messages: List[Dict[str, str]], **kwargs                                                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:795 in acompletion                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    792 â”‚   â”‚   â”‚   if request_priority is not None and isinstance(request_priority, int):                                                                                                                                   â”‚
           â”‚    793 â”‚   â”‚   â”‚   â”‚   response = await self.schedule_acompletion(**kwargs)                                                                                                                                                 â”‚
           â”‚    794 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                    â”‚
           â”‚ â±  795 â”‚   â”‚   â”‚   â”‚   response = await self.async_function_with_fallbacks(**kwargs)                                                                                                                                        â”‚
           â”‚    796 â”‚   â”‚   â”‚   end_time = time.time()                                                                                                                                                                                   â”‚
           â”‚    797 â”‚   â”‚   â”‚   _duration = end_time - start_time                                                                                                                                                                        â”‚
           â”‚    798 â”‚   â”‚   â”‚   asyncio.create_task(                                                                                                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2792 in async_function_with_fallbacks                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2789 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                            â”‚
           â”‚   2790 â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                â”‚
           â”‚   2791 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚ â± 2792 â”‚   â”‚   â”‚   raise original_exception                                                                                                                                                                                 â”‚
           â”‚   2793 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   2794 â”‚   def _handle_mock_testing_fallbacks(                                                                                                                                                                              â”‚
           â”‚   2795 â”‚   â”‚   self,                                                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2628 in async_function_with_fallbacks                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2625 â”‚   â”‚   â”‚   â”‚   content_policy_fallbacks=content_policy_fallbacks,                                                                                                                                                   â”‚
           â”‚   2626 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚   2627 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚ â± 2628 â”‚   â”‚   â”‚   response = await self.async_function_with_retries(*args, **kwargs)                                                                                                                                       â”‚
           â”‚   2629 â”‚   â”‚   â”‚   verbose_router_logger.debug(f"Async Response: {response}")                                                                                                                                               â”‚
           â”‚   2630 â”‚   â”‚   â”‚   return response                                                                                                                                                                                          â”‚
           â”‚   2631 â”‚   â”‚   except Exception as e:                                                                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2964 in async_function_with_retries                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2961 â”‚   â”‚   â”‚   â”‚   setattr(original_exception, "max_retries", num_retries)                                                                                                                                              â”‚
           â”‚   2962 â”‚   â”‚   â”‚   â”‚   setattr(original_exception, "num_retries", current_attempt)                                                                                                                                          â”‚
           â”‚   2963 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚ â± 2964 â”‚   â”‚   â”‚   raise original_exception                                                                                                                                                                                 â”‚
           â”‚   2965 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   2966 â”‚   async def make_call(self, original_function: Any, *args, **kwargs):                                                                                                                                              â”‚
           â”‚   2967 â”‚   â”‚   """                                                                                                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2876 in async_function_with_retries                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2873 â”‚   â”‚   â”‚   â”‚   model_group=model_group, kwargs=kwargs                                                                                                                                                               â”‚
           â”‚   2874 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚   2875 â”‚   â”‚   â”‚   # if the function call is successful, no exception will be raised and we'll                                                                                                                              â”‚
           â”‚        break out of the loop                                                                                                                                                                                                â”‚
           â”‚ â± 2876 â”‚   â”‚   â”‚   response = await self.make_call(original_function, *args, **kwargs)                                                                                                                                      â”‚
           â”‚   2877 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚   2878 â”‚   â”‚   â”‚   return response                                                                                                                                                                                          â”‚
           â”‚   2879 â”‚   â”‚   except Exception as e:                                                                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2973 in make_call                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2970 â”‚   â”‚   model_group = kwargs.get("model")                                                                                                                                                                            â”‚
           â”‚   2971 â”‚   â”‚   response = original_function(*args, **kwargs)                                                                                                                                                                â”‚
           â”‚   2972 â”‚   â”‚   if inspect.iscoroutinefunction(response) or inspect.isawaitable(response):                                                                                                                                   â”‚
           â”‚ â± 2973 â”‚   â”‚   â”‚   response = await response                                                                                                                                                                                â”‚
           â”‚   2974 â”‚   â”‚   ## PROCESS RESPONSE HEADERS                                                                                                                                                                                  â”‚
           â”‚   2975 â”‚   â”‚   await self.set_response_headers(response=response, model_group=model_group)                                                                                                                                  â”‚
           â”‚   2976                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:949 in _acompletion                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    946 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚    947 â”‚   â”‚   â”‚   if model_name is not None:                                                                                                                                                                               â”‚
           â”‚    948 â”‚   â”‚   â”‚   â”‚   self.fail_calls[model_name] += 1                                                                                                                                                                     â”‚
           â”‚ â±  949 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚    950 â”‚                                                                                                                                                                                                                    â”‚
           â”‚    951 â”‚   def _update_kwargs_with_default_litellm_params(self, kwargs: dict) -> None:                                                                                                                                      â”‚
           â”‚    952 â”‚   â”‚   """                                                                                                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:917 in _acompletion                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    914 â”‚   â”‚   â”‚   â”‚   â”‚   parent_otel_span=parent_otel_span,                                                                                                                                                               â”‚
           â”‚    915 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                    â”‚
           â”‚    916 â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                        â”‚
           â”‚ â±  917 â”‚   â”‚   â”‚   â”‚   response = await _response                                                                                                                                                                           â”‚
           â”‚    918 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚    919 â”‚   â”‚   â”‚   ## CHECK CONTENT FILTER ERROR ##                                                                                                                                                                         â”‚
           â”‚    920 â”‚   â”‚   â”‚   if isinstance(response, ModelResponse):                                                                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/utils.py:1174 in wrapper_async                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1171 â”‚   â”‚   â”‚   â”‚   â”‚   else:                                                                                                                                                                                            â”‚
           â”‚   1172 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   kwargs["model"] = context_window_fallback_dict[model]                                                                                                                                        â”‚
           â”‚   1173 â”‚   â”‚   â”‚   â”‚   â”‚   return await original_function(*args, **kwargs)                                                                                                                                                  â”‚
           â”‚ â± 1174 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚   1175 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   1176 â”‚   is_coroutine = inspect.iscoroutinefunction(original_function)                                                                                                                                                    â”‚
           â”‚   1177                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/utils.py:1030 in wrapper_async                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1027 â”‚   â”‚   â”‚   â”‚   return _caching_handler_response.final_embedding_cached_response                                                                                                                                     â”‚
           â”‚   1028 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚   1029 â”‚   â”‚   â”‚   # MODEL CALL                                                                                                                                                                                             â”‚
           â”‚ â± 1030 â”‚   â”‚   â”‚   result = await original_function(*args, **kwargs)                                                                                                                                                        â”‚
           â”‚   1031 â”‚   â”‚   â”‚   end_time = datetime.datetime.now()                                                                                                                                                                       â”‚
           â”‚   1032 â”‚   â”‚   â”‚   if "stream" in kwargs and kwargs["stream"] is True:                                                                                                                                                      â”‚
           â”‚   1033 â”‚   â”‚   â”‚   â”‚   if (                                                                                                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py:499 in acompletion                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    496 â”‚   â”‚   return response                                                                                                                                                                                              â”‚
           â”‚    497 â”‚   except Exception as e:                                                                                                                                                                                           â”‚
           â”‚    498 â”‚   â”‚   custom_llm_provider = custom_llm_provider or "openai"                                                                                                                                                        â”‚
           â”‚ â±  499 â”‚   â”‚   raise exception_type(                                                                                                                                                                                        â”‚
           â”‚    500 â”‚   â”‚   â”‚   model=model,                                                                                                                                                                                             â”‚
           â”‚    501 â”‚   â”‚   â”‚   custom_llm_provider=custom_llm_provider,                                                                                                                                                                 â”‚
           â”‚    502 â”‚   â”‚   â”‚   original_exception=e,                                                                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/litellm_core_utils/exception_mapping_utils.py:2122 in exception_type                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2119 â”‚   â”‚   # don't let an error with mapping interrupt the user from receiving an error                                                                                                                                 â”‚
           â”‚        from the llm api calls                                                                                                                                                                                               â”‚
           â”‚   2120 â”‚   â”‚   if exception_mapping_worked:                                                                                                                                                                                 â”‚
           â”‚   2121 â”‚   â”‚   â”‚   setattr(e, "litellm_response_headers", litellm_response_headers)                                                                                                                                         â”‚
           â”‚ â± 2122 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚   2123 â”‚   â”‚   else:                                                                                                                                                                                                        â”‚
           â”‚   2124 â”‚   â”‚   â”‚   for error_type in litellm.LITELLM_EXCEPTION_TYPES:                                                                                                                                                       â”‚
           â”‚   2125 â”‚   â”‚   â”‚   â”‚   if isinstance(e, error_type):                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/litellm_core_utils/exception_mapping_utils.py:2098 in exception_type                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2095 â”‚   â”‚   â”‚   â”‚   â”‚   request=original_exception.request,                                                                                                                                                              â”‚
           â”‚   2096 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                    â”‚
           â”‚   2097 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                    â”‚
           â”‚ â± 2098 â”‚   â”‚   â”‚   â”‚   raise APIConnectionError(                                                                                                                                                                            â”‚
           â”‚   2099 â”‚   â”‚   â”‚   â”‚   â”‚   message="{}\n{}".format(                                                                                                                                                                         â”‚
           â”‚   2100 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   str(original_exception), traceback.format_exc()                                                                                                                                              â”‚
           â”‚   2101 â”‚   â”‚   â”‚   â”‚   â”‚   ),                                                                                                                                                                                               â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           APIConnectionError: litellm.APIConnectionError: Cannot connect to host localhost:11434 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1',   
           11434)]                                                                                                                                                                                                                        
           Traceback (most recent call last):                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1109, in _wrap_create_connection                                                                                  
               sock = await aiohappyeyeballs.start_connection(                                                                                                                                                                            
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                            
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohappyeyeballs/impl.py", line 123, in start_connection                                                                                      
               raise OSError(first_errno, msg)                                                                                                                                                                                            
           ConnectionRefusedError: [Errno 111] Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11434)                                                            
                                                                                                                                                                                                                                          
           The above exception was the direct cause of the following exception:                                                                                                                                                           
                                                                                                                                                                                                                                          
           Traceback (most recent call last):                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py", line 477, in acompletion                                                                                                    
               response = await init_response                                                                                                                                                                                             
                          ^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py", line 564, in ollama_acompletion                                                                                      
               raise e  # don't use verbose_logger.exception, if exception is raised                                                                                                                                                      
               ^^^^^^^                                                                                                                                                                                                                    
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py", line 505, in ollama_acompletion                                                                                      
               resp = await session.post(url, json=data)                                                                                                                                                                                  
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                  
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/client.py", line 696, in _request                                                                                                     
               conn = await self._connector.connect(                                                                                                                                                                                      
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                      
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 544, in connect                                                                                                   
               proto = await self._create_connection(req, traces, timeout)                                                                                                                                                                
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1050, in _create_connection                                                                                       
               _, proto = await self._create_direct_connection(req, traces, timeout)                                                                                                                                                      
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                      
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1394, in _create_direct_connection                                                                                
               raise last_exc                                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1363, in _create_direct_connection                                                                                
               transp, proto = await self._wrap_create_connection(                                                                                                                                                                        
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                        
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1124, in _wrap_create_connection                                                                                  
               raise client_error(req.connection_key, exc) from exc                                                                                                                                                                       
           aiohttp.client_exceptions.ClientConnectorError: Cannot connect to host localhost:11434 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1',   
           11434)]                                                                                                                                                                                                                        
                                                                                                                                                                                                                                          
           Received Model Group=ollama/llama3.3                                                                                                                                                                                           
           Available Model Group Fallbacks=None LiteLLM Retried: 2 times, LiteLLM Max Retries: 3                                                                                                                                          
[07:06:35] Answer:                                                                                                                                                                                                                        

[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.

[07:06:55] Trajectory failed.                                                                                                                                                                                                             
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1109 in _wrap_create_connection                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1106 â”‚   â”‚   â”‚   async with ceil_timeout(                                                                                                                                                                                 â”‚
           â”‚   1107 â”‚   â”‚   â”‚   â”‚   timeout.sock_connect, ceil_threshold=timeout.ceil_threshold                                                                                                                                          â”‚
           â”‚   1108 â”‚   â”‚   â”‚   ):                                                                                                                                                                                                       â”‚
           â”‚ â± 1109 â”‚   â”‚   â”‚   â”‚   sock = await aiohappyeyeballs.start_connection(                                                                                                                                                      â”‚
           â”‚   1110 â”‚   â”‚   â”‚   â”‚   â”‚   addr_infos=addr_infos,                                                                                                                                                                           â”‚
           â”‚   1111 â”‚   â”‚   â”‚   â”‚   â”‚   local_addr_infos=self._local_addr_infos,                                                                                                                                                         â”‚
           â”‚   1112 â”‚   â”‚   â”‚   â”‚   â”‚   happy_eyeballs_delay=self._happy_eyeballs_delay,                                                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohappyeyeballs/impl.py:123 in start_connection                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   120 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   isinstance(exc, OSError) and exc.errno == first_errno                                                                                                                                         â”‚
           â”‚   121 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   for exc in all_exceptions                                                                                                                                                                     â”‚
           â”‚   122 â”‚   â”‚   â”‚   â”‚   â”‚   ):                                                                                                                                                                                                â”‚
           â”‚ â± 123 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   raise OSError(first_errno, msg)                                                                                                                                                               â”‚
           â”‚   124 â”‚   â”‚   â”‚   â”‚   elif isinstance(first_exception, RuntimeError) and all(                                                                                                                                               â”‚
           â”‚   125 â”‚   â”‚   â”‚   â”‚   â”‚   isinstance(exc, RuntimeError) for exc in all_exceptions                                                                                                                                           â”‚
           â”‚   126 â”‚   â”‚   â”‚   â”‚   ):                                                                                                                                                                                                    â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           ConnectionRefusedError: [Errno 111] Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11434)                                                            
                                                                                                                                                                                                                                          
           The above exception was the direct cause of the following exception:                                                                                                                                                           
                                                                                                                                                                                                                                          
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py:477 in acompletion                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    474 â”‚   â”‚   â”‚   â”‚   â”‚   response = ModelResponse(**init_response)                                                                                                                                                        â”‚
           â”‚    475 â”‚   â”‚   â”‚   â”‚   response = init_response                                                                                                                                                                             â”‚
           â”‚    476 â”‚   â”‚   â”‚   elif asyncio.iscoroutine(init_response):                                                                                                                                                                 â”‚
           â”‚ â±  477 â”‚   â”‚   â”‚   â”‚   response = await init_response                                                                                                                                                                       â”‚
           â”‚    478 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                    â”‚
           â”‚    479 â”‚   â”‚   â”‚   â”‚   response = init_response  # type: ignore                                                                                                                                                             â”‚
           â”‚    480                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py:564 in ollama_acompletion                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   561 â”‚   â”‚   â”‚   )                                                                                                                                                                                                         â”‚
           â”‚   562 â”‚   â”‚   â”‚   return model_response                                                                                                                                                                                     â”‚
           â”‚   563 â”‚   except Exception as e:                                                                                                                                                                                            â”‚
           â”‚ â± 564 â”‚   â”‚   raise e  # don't use verbose_logger.exception, if exception is raised                                                                                                                                         â”‚
           â”‚   565                                                                                                                                                                                                                       â”‚
           â”‚   566                                                                                                                                                                                                                       â”‚
           â”‚   567 async def ollama_aembeddings(                                                                                                                                                                                         â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py:505 in ollama_acompletion                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   502 â”‚   try:                                                                                                                                                                                                              â”‚
           â”‚   503 â”‚   â”‚   timeout = aiohttp.ClientTimeout(total=litellm.request_timeout)  # 10 minutes                                                                                                                                  â”‚
           â”‚   504 â”‚   â”‚   async with aiohttp.ClientSession(timeout=timeout) as session:                                                                                                                                                 â”‚
           â”‚ â± 505 â”‚   â”‚   â”‚   resp = await session.post(url, json=data)                                                                                                                                                                 â”‚
           â”‚   506 â”‚   â”‚   â”‚                                                                                                                                                                                                             â”‚
           â”‚   507 â”‚   â”‚   â”‚   if resp.status != 200:                                                                                                                                                                                    â”‚
           â”‚   508 â”‚   â”‚   â”‚   â”‚   text = await resp.text()                                                                                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/client.py:696 in _request                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    693 â”‚   â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                    â”‚
           â”‚    694 â”‚   â”‚   â”‚   â”‚   â”‚   # connection timeout                                                                                                                                                                             â”‚
           â”‚    695 â”‚   â”‚   â”‚   â”‚   â”‚   try:                                                                                                                                                                                             â”‚
           â”‚ â±  696 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   conn = await self._connector.connect(                                                                                                                                                        â”‚
           â”‚    697 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   req, traces=traces, timeout=real_timeout                                                                                                                                                 â”‚
           â”‚    698 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                            â”‚
           â”‚    699 â”‚   â”‚   â”‚   â”‚   â”‚   except asyncio.TimeoutError as exc:                                                                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:544 in connect                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    541 â”‚   â”‚   â”‚   â”‚   if traces:                                                                                                                                                                                           â”‚
           â”‚    542 â”‚   â”‚   â”‚   â”‚   â”‚   for trace in traces:                                                                                                                                                                             â”‚
           â”‚    543 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   await trace.send_connection_create_start()                                                                                                                                                   â”‚
           â”‚ â±  544 â”‚   â”‚   â”‚   â”‚   proto = await self._create_connection(req, traces, timeout)                                                                                                                                          â”‚
           â”‚    545 â”‚   â”‚   â”‚   â”‚   if traces:                                                                                                                                                                                           â”‚
           â”‚    546 â”‚   â”‚   â”‚   â”‚   â”‚   for trace in traces:                                                                                                                                                                             â”‚
           â”‚    547 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   await trace.send_connection_create_end()                                                                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1050 in _create_connection                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1047 â”‚   â”‚   if req.proxy:                                                                                                                                                                                                â”‚
           â”‚   1048 â”‚   â”‚   â”‚   _, proto = await self._create_proxy_connection(req, traces, timeout)                                                                                                                                     â”‚
           â”‚   1049 â”‚   â”‚   else:                                                                                                                                                                                                        â”‚
           â”‚ â± 1050 â”‚   â”‚   â”‚   _, proto = await self._create_direct_connection(req, traces, timeout)                                                                                                                                    â”‚
           â”‚   1051 â”‚   â”‚                                                                                                                                                                                                                â”‚
           â”‚   1052 â”‚   â”‚   return proto                                                                                                                                                                                                 â”‚
           â”‚   1053                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1394 in _create_direct_connection                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1391 â”‚   â”‚   â”‚   return transp, proto                                                                                                                                                                                     â”‚
           â”‚   1392 â”‚   â”‚   else:                                                                                                                                                                                                        â”‚
           â”‚   1393 â”‚   â”‚   â”‚   assert last_exc is not None                                                                                                                                                                              â”‚
           â”‚ â± 1394 â”‚   â”‚   â”‚   raise last_exc                                                                                                                                                                                           â”‚
           â”‚   1395 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   1396 â”‚   async def _create_proxy_connection(                                                                                                                                                                              â”‚
           â”‚   1397 â”‚   â”‚   self, req: ClientRequest, traces: List["Trace"], timeout: "ClientTimeout"                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1363 in _create_direct_connection                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1360 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚   1361 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚   1362 â”‚   â”‚   â”‚   try:                                                                                                                                                                                                     â”‚
           â”‚ â± 1363 â”‚   â”‚   â”‚   â”‚   transp, proto = await self._wrap_create_connection(                                                                                                                                                  â”‚
           â”‚   1364 â”‚   â”‚   â”‚   â”‚   â”‚   self._factory,                                                                                                                                                                                   â”‚
           â”‚   1365 â”‚   â”‚   â”‚   â”‚   â”‚   timeout=timeout,                                                                                                                                                                                 â”‚
           â”‚   1366 â”‚   â”‚   â”‚   â”‚   â”‚   ssl=sslcontext,                                                                                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1124 in _wrap_create_connection                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1121 â”‚   â”‚   except OSError as exc:                                                                                                                                                                                       â”‚
           â”‚   1122 â”‚   â”‚   â”‚   if exc.errno is None and isinstance(exc, asyncio.TimeoutError):                                                                                                                                          â”‚
           â”‚   1123 â”‚   â”‚   â”‚   â”‚   raise                                                                                                                                                                                                â”‚
           â”‚ â± 1124 â”‚   â”‚   â”‚   raise client_error(req.connection_key, exc) from exc                                                                                                                                                     â”‚
           â”‚   1125 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   1126 â”‚   async def _wrap_existing_connection(                                                                                                                                                                             â”‚
           â”‚   1127 â”‚   â”‚   self,                                                                                                                                                                                                        â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           ClientConnectorError: Cannot connect to host localhost:11434 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11434)]                     
                                                                                                                                                                                                                                          
           During handling of the above exception, another exception occurred:                                                                                                                                                            
                                                                                                                                                                                                                                          
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:276 in _run_with_timeout_failure                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   273 ) -> tuple[PQASession, AgentStatus]:                                                                                                                                                                                  â”‚
           â”‚   274 â”‚   try:                                                                                                                                                                                                              â”‚
           â”‚   275 â”‚   â”‚   async with asyncio.timeout(query.settings.agent.timeout):                                                                                                                                                     â”‚
           â”‚ â± 276 â”‚   â”‚   â”‚   status = await rollout()                                                                                                                                                                                  â”‚
           â”‚   277 â”‚   except TimeoutError:                                                                                                                                                                                              â”‚
           â”‚   278 â”‚   â”‚   logger.warning(                                                                                                                                                                                               â”‚
           â”‚   279 â”‚   â”‚   â”‚   f"Agent timeout after {query.settings.agent.timeout}-sec, just answering."                                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:410 in rollout                                                                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   407 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                     â”‚
           â”‚   408 â”‚   â”‚   â”‚   â”‚   return AgentStatus.TRUNCATED                                                                                                                                                                          â”‚
           â”‚   409 â”‚   â”‚   â”‚   agent_state.messages += obs                                                                                                                                                                               â”‚
           â”‚ â± 410 â”‚   â”‚   â”‚   for attempt in Retrying(                                                                                                                                                                                  â”‚
           â”‚   411 â”‚   â”‚   â”‚   â”‚   stop=stop_after_attempt(5),                                                                                                                                                                           â”‚
           â”‚   412 â”‚   â”‚   â”‚   â”‚   retry=retry_if_exception_type(MalformedMessageError),                                                                                                                                                 â”‚
           â”‚   413 â”‚   â”‚   â”‚   â”‚   before_sleep=before_sleep_log(logger, logging.WARNING),                                                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:443 in __iter__                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   440 â”‚   â”‚                                                                                                                                                                                                                 â”‚
           â”‚   441 â”‚   â”‚   retry_state = RetryCallState(self, fn=None, args=(), kwargs={})                                                                                                                                               â”‚
           â”‚   442 â”‚   â”‚   while True:                                                                                                                                                                                                   â”‚
           â”‚ â± 443 â”‚   â”‚   â”‚   do = self.iter(retry_state=retry_state)                                                                                                                                                                   â”‚
           â”‚   444 â”‚   â”‚   â”‚   if isinstance(do, DoAttempt):                                                                                                                                                                             â”‚
           â”‚   445 â”‚   â”‚   â”‚   â”‚   yield AttemptManager(retry_state=retry_state)                                                                                                                                                         â”‚
           â”‚   446 â”‚   â”‚   â”‚   elif isinstance(do, DoSleep):                                                                                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:376 in iter                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   373 â”‚   â”‚   self._begin_iter(retry_state)                                                                                                                                                                                 â”‚
           â”‚   374 â”‚   â”‚   result = None                                                                                                                                                                                                 â”‚
           â”‚   375 â”‚   â”‚   for action in self.iter_state.actions:                                                                                                                                                                        â”‚
           â”‚ â± 376 â”‚   â”‚   â”‚   result = action(retry_state)                                                                                                                                                                              â”‚
           â”‚   377 â”‚   â”‚   return result                                                                                                                                                                                                 â”‚
           â”‚   378 â”‚                                                                                                                                                                                                                     â”‚
           â”‚   379 â”‚   def _begin_iter(self, retry_state: "RetryCallState") -> None:  # noqa                                                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:398 in <lambda>                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   395 â”‚                                                                                                                                                                                                                     â”‚
           â”‚   396 â”‚   def _post_retry_check_actions(self, retry_state: "RetryCallState") -> None:                                                                                                                                       â”‚
           â”‚   397 â”‚   â”‚   if not (self.iter_state.is_explicit_retry or self.iter_state.retry_run_result):                                                                                                                               â”‚
           â”‚ â± 398 â”‚   â”‚   â”‚   self._add_action_func(lambda rs: rs.outcome.result())                                                                                                                                                     â”‚
           â”‚   399 â”‚   â”‚   â”‚   return                                                                                                                                                                                                    â”‚
           â”‚   400 â”‚   â”‚                                                                                                                                                                                                                 â”‚
           â”‚   401 â”‚   â”‚   if self.after is not None:                                                                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/concurrent/futures/_base.py:449 in result                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   446 â”‚   â”‚   â”‚   â”‚   if self._state in [CANCELLED, CANCELLED_AND_NOTIFIED]:                                                                                                                                                â”‚
           â”‚   447 â”‚   â”‚   â”‚   â”‚   â”‚   raise CancelledError()                                                                                                                                                                            â”‚
           â”‚   448 â”‚   â”‚   â”‚   â”‚   elif self._state == FINISHED:                                                                                                                                                                         â”‚
           â”‚ â± 449 â”‚   â”‚   â”‚   â”‚   â”‚   return self.__get_result()                                                                                                                                                                        â”‚
           â”‚   450 â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                         â”‚
           â”‚   451 â”‚   â”‚   â”‚   â”‚   self._condition.wait(timeout)                                                                                                                                                                         â”‚
           â”‚   452                                                                                                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/concurrent/futures/_base.py:401 in __get_result                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   398 â”‚   def __get_result(self):                                                                                                                                                                                           â”‚
           â”‚   399 â”‚   â”‚   if self._exception:                                                                                                                                                                                           â”‚
           â”‚   400 â”‚   â”‚   â”‚   try:                                                                                                                                                                                                      â”‚
           â”‚ â± 401 â”‚   â”‚   â”‚   â”‚   raise self._exception                                                                                                                                                                                 â”‚
           â”‚   402 â”‚   â”‚   â”‚   finally:                                                                                                                                                                                                  â”‚
           â”‚   403 â”‚   â”‚   â”‚   â”‚   # Break a reference cycle with the exception in self._exception                                                                                                                                       â”‚
           â”‚   404 â”‚   â”‚   â”‚   â”‚   self = None                                                                                                                                                                                           â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:417 in rollout                                                                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   414 â”‚   â”‚   â”‚   â”‚   reraise=True,                                                                                                                                                                                         â”‚
           â”‚   415 â”‚   â”‚   â”‚   ):                                                                                                                                                                                                        â”‚
           â”‚   416 â”‚   â”‚   â”‚   â”‚   with attempt:  # Retrying if ToolSelector fails to select a tool                                                                                                                                      â”‚
           â”‚ â± 417 â”‚   â”‚   â”‚   â”‚   â”‚   action = await agent(agent_state.messages, tools)                                                                                                                                                 â”‚
           â”‚   418 â”‚   â”‚   â”‚   agent_state.messages = [*agent_state.messages, action]                                                                                                                                                    â”‚
           â”‚   419 â”‚   â”‚   â”‚   if on_agent_action_callback:                                                                                                                                                                              â”‚
           â”‚   420 â”‚   â”‚   â”‚   â”‚   await on_agent_action_callback(action, agent_state)                                                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aviary/tools/utils.py:182 in __call__                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   179 â”‚   â”‚   â”‚   self._ledger.messages.extend(messages)                                                                                                                                                                    â”‚
           â”‚   180 â”‚   â”‚   â”‚   messages = self._ledger.messages                                                                                                                                                                          â”‚
           â”‚   181 â”‚   â”‚                                                                                                                                                                                                                 â”‚
           â”‚ â± 182 â”‚   â”‚   model_response = await self._bound_acompletion(                                                                                                                                                               â”‚
           â”‚   183 â”‚   â”‚   â”‚   messages=MessagesAdapter.dump_python(                                                                                                                                                                     â”‚
           â”‚   184 â”‚   â”‚   â”‚   â”‚   messages, exclude_none=True, by_alias=True                                                                                                                                                            â”‚
           â”‚   185 â”‚   â”‚   â”‚   ),                                                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:819 in acompletion                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    816 â”‚   â”‚   â”‚   â”‚   â”‚   original_exception=e,                                                                                                                                                                            â”‚
           â”‚    817 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                    â”‚
           â”‚    818 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚ â±  819 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚    820 â”‚                                                                                                                                                                                                                    â”‚
           â”‚    821 â”‚   async def _acompletion(                                                                                                                                                                                          â”‚
           â”‚    822 â”‚   â”‚   self, model: str, messages: List[Dict[str, str]], **kwargs                                                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:795 in acompletion                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    792 â”‚   â”‚   â”‚   if request_priority is not None and isinstance(request_priority, int):                                                                                                                                   â”‚
           â”‚    793 â”‚   â”‚   â”‚   â”‚   response = await self.schedule_acompletion(**kwargs)                                                                                                                                                 â”‚
           â”‚    794 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                    â”‚
           â”‚ â±  795 â”‚   â”‚   â”‚   â”‚   response = await self.async_function_with_fallbacks(**kwargs)                                                                                                                                        â”‚
           â”‚    796 â”‚   â”‚   â”‚   end_time = time.time()                                                                                                                                                                                   â”‚
           â”‚    797 â”‚   â”‚   â”‚   _duration = end_time - start_time                                                                                                                                                                        â”‚
           â”‚    798 â”‚   â”‚   â”‚   asyncio.create_task(                                                                                                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2792 in async_function_with_fallbacks                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2789 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                            â”‚
           â”‚   2790 â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                â”‚
           â”‚   2791 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚ â± 2792 â”‚   â”‚   â”‚   raise original_exception                                                                                                                                                                                 â”‚
           â”‚   2793 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   2794 â”‚   def _handle_mock_testing_fallbacks(                                                                                                                                                                              â”‚
           â”‚   2795 â”‚   â”‚   self,                                                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2628 in async_function_with_fallbacks                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2625 â”‚   â”‚   â”‚   â”‚   content_policy_fallbacks=content_policy_fallbacks,                                                                                                                                                   â”‚
           â”‚   2626 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚   2627 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚ â± 2628 â”‚   â”‚   â”‚   response = await self.async_function_with_retries(*args, **kwargs)                                                                                                                                       â”‚
           â”‚   2629 â”‚   â”‚   â”‚   verbose_router_logger.debug(f"Async Response: {response}")                                                                                                                                               â”‚
           â”‚   2630 â”‚   â”‚   â”‚   return response                                                                                                                                                                                          â”‚
           â”‚   2631 â”‚   â”‚   except Exception as e:                                                                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2964 in async_function_with_retries                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2961 â”‚   â”‚   â”‚   â”‚   setattr(original_exception, "max_retries", num_retries)                                                                                                                                              â”‚
           â”‚   2962 â”‚   â”‚   â”‚   â”‚   setattr(original_exception, "num_retries", current_attempt)                                                                                                                                          â”‚
           â”‚   2963 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚ â± 2964 â”‚   â”‚   â”‚   raise original_exception                                                                                                                                                                                 â”‚
           â”‚   2965 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   2966 â”‚   async def make_call(self, original_function: Any, *args, **kwargs):                                                                                                                                              â”‚
           â”‚   2967 â”‚   â”‚   """                                                                                                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2876 in async_function_with_retries                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2873 â”‚   â”‚   â”‚   â”‚   model_group=model_group, kwargs=kwargs                                                                                                                                                               â”‚
           â”‚   2874 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚   2875 â”‚   â”‚   â”‚   # if the function call is successful, no exception will be raised and we'll                                                                                                                              â”‚
           â”‚        break out of the loop                                                                                                                                                                                                â”‚
           â”‚ â± 2876 â”‚   â”‚   â”‚   response = await self.make_call(original_function, *args, **kwargs)                                                                                                                                      â”‚
           â”‚   2877 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚   2878 â”‚   â”‚   â”‚   return response                                                                                                                                                                                          â”‚
           â”‚   2879 â”‚   â”‚   except Exception as e:                                                                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2973 in make_call                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2970 â”‚   â”‚   model_group = kwargs.get("model")                                                                                                                                                                            â”‚
           â”‚   2971 â”‚   â”‚   response = original_function(*args, **kwargs)                                                                                                                                                                â”‚
           â”‚   2972 â”‚   â”‚   if inspect.iscoroutinefunction(response) or inspect.isawaitable(response):                                                                                                                                   â”‚
           â”‚ â± 2973 â”‚   â”‚   â”‚   response = await response                                                                                                                                                                                â”‚
           â”‚   2974 â”‚   â”‚   ## PROCESS RESPONSE HEADERS                                                                                                                                                                                  â”‚
           â”‚   2975 â”‚   â”‚   await self.set_response_headers(response=response, model_group=model_group)                                                                                                                                  â”‚
           â”‚   2976                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:949 in _acompletion                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    946 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚    947 â”‚   â”‚   â”‚   if model_name is not None:                                                                                                                                                                               â”‚
           â”‚    948 â”‚   â”‚   â”‚   â”‚   self.fail_calls[model_name] += 1                                                                                                                                                                     â”‚
           â”‚ â±  949 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚    950 â”‚                                                                                                                                                                                                                    â”‚
           â”‚    951 â”‚   def _update_kwargs_with_default_litellm_params(self, kwargs: dict) -> None:                                                                                                                                      â”‚
           â”‚    952 â”‚   â”‚   """                                                                                                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:917 in _acompletion                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    914 â”‚   â”‚   â”‚   â”‚   â”‚   parent_otel_span=parent_otel_span,                                                                                                                                                               â”‚
           â”‚    915 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                    â”‚
           â”‚    916 â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                        â”‚
           â”‚ â±  917 â”‚   â”‚   â”‚   â”‚   response = await _response                                                                                                                                                                           â”‚
           â”‚    918 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚    919 â”‚   â”‚   â”‚   ## CHECK CONTENT FILTER ERROR ##                                                                                                                                                                         â”‚
           â”‚    920 â”‚   â”‚   â”‚   if isinstance(response, ModelResponse):                                                                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/utils.py:1174 in wrapper_async                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1171 â”‚   â”‚   â”‚   â”‚   â”‚   else:                                                                                                                                                                                            â”‚
           â”‚   1172 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   kwargs["model"] = context_window_fallback_dict[model]                                                                                                                                        â”‚
           â”‚   1173 â”‚   â”‚   â”‚   â”‚   â”‚   return await original_function(*args, **kwargs)                                                                                                                                                  â”‚
           â”‚ â± 1174 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚   1175 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   1176 â”‚   is_coroutine = inspect.iscoroutinefunction(original_function)                                                                                                                                                    â”‚
           â”‚   1177                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/utils.py:1030 in wrapper_async                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1027 â”‚   â”‚   â”‚   â”‚   return _caching_handler_response.final_embedding_cached_response                                                                                                                                     â”‚
           â”‚   1028 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚   1029 â”‚   â”‚   â”‚   # MODEL CALL                                                                                                                                                                                             â”‚
           â”‚ â± 1030 â”‚   â”‚   â”‚   result = await original_function(*args, **kwargs)                                                                                                                                                        â”‚
           â”‚   1031 â”‚   â”‚   â”‚   end_time = datetime.datetime.now()                                                                                                                                                                       â”‚
           â”‚   1032 â”‚   â”‚   â”‚   if "stream" in kwargs and kwargs["stream"] is True:                                                                                                                                                      â”‚
           â”‚   1033 â”‚   â”‚   â”‚   â”‚   if (                                                                                                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py:499 in acompletion                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    496 â”‚   â”‚   return response                                                                                                                                                                                              â”‚
           â”‚    497 â”‚   except Exception as e:                                                                                                                                                                                           â”‚
           â”‚    498 â”‚   â”‚   custom_llm_provider = custom_llm_provider or "openai"                                                                                                                                                        â”‚
           â”‚ â±  499 â”‚   â”‚   raise exception_type(                                                                                                                                                                                        â”‚
           â”‚    500 â”‚   â”‚   â”‚   model=model,                                                                                                                                                                                             â”‚
           â”‚    501 â”‚   â”‚   â”‚   custom_llm_provider=custom_llm_provider,                                                                                                                                                                 â”‚
           â”‚    502 â”‚   â”‚   â”‚   original_exception=e,                                                                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/litellm_core_utils/exception_mapping_utils.py:2122 in exception_type                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2119 â”‚   â”‚   # don't let an error with mapping interrupt the user from receiving an error                                                                                                                                 â”‚
           â”‚        from the llm api calls                                                                                                                                                                                               â”‚
           â”‚   2120 â”‚   â”‚   if exception_mapping_worked:                                                                                                                                                                                 â”‚
           â”‚   2121 â”‚   â”‚   â”‚   setattr(e, "litellm_response_headers", litellm_response_headers)                                                                                                                                         â”‚
           â”‚ â± 2122 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚   2123 â”‚   â”‚   else:                                                                                                                                                                                                        â”‚
           â”‚   2124 â”‚   â”‚   â”‚   for error_type in litellm.LITELLM_EXCEPTION_TYPES:                                                                                                                                                       â”‚
           â”‚   2125 â”‚   â”‚   â”‚   â”‚   if isinstance(e, error_type):                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/litellm_core_utils/exception_mapping_utils.py:2098 in exception_type                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2095 â”‚   â”‚   â”‚   â”‚   â”‚   request=original_exception.request,                                                                                                                                                              â”‚
           â”‚   2096 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                    â”‚
           â”‚   2097 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                    â”‚
           â”‚ â± 2098 â”‚   â”‚   â”‚   â”‚   raise APIConnectionError(                                                                                                                                                                            â”‚
           â”‚   2099 â”‚   â”‚   â”‚   â”‚   â”‚   message="{}\n{}".format(                                                                                                                                                                         â”‚
           â”‚   2100 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   str(original_exception), traceback.format_exc()                                                                                                                                              â”‚
           â”‚   2101 â”‚   â”‚   â”‚   â”‚   â”‚   ),                                                                                                                                                                                               â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           APIConnectionError: litellm.APIConnectionError: Cannot connect to host localhost:11434 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1',   
           11434)]                                                                                                                                                                                                                        
           Traceback (most recent call last):                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1109, in _wrap_create_connection                                                                                  
               sock = await aiohappyeyeballs.start_connection(                                                                                                                                                                            
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                            
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohappyeyeballs/impl.py", line 123, in start_connection                                                                                      
               raise OSError(first_errno, msg)                                                                                                                                                                                            
           ConnectionRefusedError: [Errno 111] Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11434)                                                            
                                                                                                                                                                                                                                          
           The above exception was the direct cause of the following exception:                                                                                                                                                           
                                                                                                                                                                                                                                          
           Traceback (most recent call last):                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py", line 477, in acompletion                                                                                                    
               response = await init_response                                                                                                                                                                                             
                          ^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py", line 564, in ollama_acompletion                                                                                      
               raise e  # don't use verbose_logger.exception, if exception is raised                                                                                                                                                      
               ^^^^^^^                                                                                                                                                                                                                    
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py", line 505, in ollama_acompletion                                                                                      
               resp = await session.post(url, json=data)                                                                                                                                                                                  
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                  
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/client.py", line 696, in _request                                                                                                     
               conn = await self._connector.connect(                                                                                                                                                                                      
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                      
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 544, in connect                                                                                                   
               proto = await self._create_connection(req, traces, timeout)                                                                                                                                                                
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1050, in _create_connection                                                                                       
               _, proto = await self._create_direct_connection(req, traces, timeout)                                                                                                                                                      
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                      
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1394, in _create_direct_connection                                                                                
               raise last_exc                                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1363, in _create_direct_connection                                                                                
               transp, proto = await self._wrap_create_connection(                                                                                                                                                                        
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                        
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1124, in _wrap_create_connection                                                                                  
               raise client_error(req.connection_key, exc) from exc                                                                                                                                                                       
           aiohttp.client_exceptions.ClientConnectorError: Cannot connect to host localhost:11434 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1',   
           11434)]                                                                                                                                                                                                                        
                                                                                                                                                                                                                                          
           Received Model Group=ollama/llama3.3                                                                                                                                                                                           
           Available Model Group Fallbacks=None LiteLLM Retried: 2 times, LiteLLM Max Retries: 3                                                                                                                                          
[07:06:57] Answer:                                                                                                                                                                                                                        

[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.

[07:07:18] Trajectory failed.                                                                                                                                                                                                             
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1109 in _wrap_create_connection                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1106 â”‚   â”‚   â”‚   async with ceil_timeout(                                                                                                                                                                                 â”‚
           â”‚   1107 â”‚   â”‚   â”‚   â”‚   timeout.sock_connect, ceil_threshold=timeout.ceil_threshold                                                                                                                                          â”‚
           â”‚   1108 â”‚   â”‚   â”‚   ):                                                                                                                                                                                                       â”‚
           â”‚ â± 1109 â”‚   â”‚   â”‚   â”‚   sock = await aiohappyeyeballs.start_connection(                                                                                                                                                      â”‚
           â”‚   1110 â”‚   â”‚   â”‚   â”‚   â”‚   addr_infos=addr_infos,                                                                                                                                                                           â”‚
           â”‚   1111 â”‚   â”‚   â”‚   â”‚   â”‚   local_addr_infos=self._local_addr_infos,                                                                                                                                                         â”‚
           â”‚   1112 â”‚   â”‚   â”‚   â”‚   â”‚   happy_eyeballs_delay=self._happy_eyeballs_delay,                                                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohappyeyeballs/impl.py:123 in start_connection                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   120 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   isinstance(exc, OSError) and exc.errno == first_errno                                                                                                                                         â”‚
           â”‚   121 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   for exc in all_exceptions                                                                                                                                                                     â”‚
           â”‚   122 â”‚   â”‚   â”‚   â”‚   â”‚   ):                                                                                                                                                                                                â”‚
           â”‚ â± 123 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   raise OSError(first_errno, msg)                                                                                                                                                               â”‚
           â”‚   124 â”‚   â”‚   â”‚   â”‚   elif isinstance(first_exception, RuntimeError) and all(                                                                                                                                               â”‚
           â”‚   125 â”‚   â”‚   â”‚   â”‚   â”‚   isinstance(exc, RuntimeError) for exc in all_exceptions                                                                                                                                           â”‚
           â”‚   126 â”‚   â”‚   â”‚   â”‚   ):                                                                                                                                                                                                    â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           ConnectionRefusedError: [Errno 111] Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11434)                                                            
                                                                                                                                                                                                                                          
           The above exception was the direct cause of the following exception:                                                                                                                                                           
                                                                                                                                                                                                                                          
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py:477 in acompletion                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    474 â”‚   â”‚   â”‚   â”‚   â”‚   response = ModelResponse(**init_response)                                                                                                                                                        â”‚
           â”‚    475 â”‚   â”‚   â”‚   â”‚   response = init_response                                                                                                                                                                             â”‚
           â”‚    476 â”‚   â”‚   â”‚   elif asyncio.iscoroutine(init_response):                                                                                                                                                                 â”‚
           â”‚ â±  477 â”‚   â”‚   â”‚   â”‚   response = await init_response                                                                                                                                                                       â”‚
           â”‚    478 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                    â”‚
           â”‚    479 â”‚   â”‚   â”‚   â”‚   response = init_response  # type: ignore                                                                                                                                                             â”‚
           â”‚    480                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py:564 in ollama_acompletion                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   561 â”‚   â”‚   â”‚   )                                                                                                                                                                                                         â”‚
           â”‚   562 â”‚   â”‚   â”‚   return model_response                                                                                                                                                                                     â”‚
           â”‚   563 â”‚   except Exception as e:                                                                                                                                                                                            â”‚
           â”‚ â± 564 â”‚   â”‚   raise e  # don't use verbose_logger.exception, if exception is raised                                                                                                                                         â”‚
           â”‚   565                                                                                                                                                                                                                       â”‚
           â”‚   566                                                                                                                                                                                                                       â”‚
           â”‚   567 async def ollama_aembeddings(                                                                                                                                                                                         â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py:505 in ollama_acompletion                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   502 â”‚   try:                                                                                                                                                                                                              â”‚
           â”‚   503 â”‚   â”‚   timeout = aiohttp.ClientTimeout(total=litellm.request_timeout)  # 10 minutes                                                                                                                                  â”‚
           â”‚   504 â”‚   â”‚   async with aiohttp.ClientSession(timeout=timeout) as session:                                                                                                                                                 â”‚
           â”‚ â± 505 â”‚   â”‚   â”‚   resp = await session.post(url, json=data)                                                                                                                                                                 â”‚
           â”‚   506 â”‚   â”‚   â”‚                                                                                                                                                                                                             â”‚
           â”‚   507 â”‚   â”‚   â”‚   if resp.status != 200:                                                                                                                                                                                    â”‚
           â”‚   508 â”‚   â”‚   â”‚   â”‚   text = await resp.text()                                                                                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/client.py:696 in _request                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    693 â”‚   â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                    â”‚
           â”‚    694 â”‚   â”‚   â”‚   â”‚   â”‚   # connection timeout                                                                                                                                                                             â”‚
           â”‚    695 â”‚   â”‚   â”‚   â”‚   â”‚   try:                                                                                                                                                                                             â”‚
           â”‚ â±  696 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   conn = await self._connector.connect(                                                                                                                                                        â”‚
           â”‚    697 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   req, traces=traces, timeout=real_timeout                                                                                                                                                 â”‚
           â”‚    698 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                            â”‚
           â”‚    699 â”‚   â”‚   â”‚   â”‚   â”‚   except asyncio.TimeoutError as exc:                                                                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:544 in connect                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    541 â”‚   â”‚   â”‚   â”‚   if traces:                                                                                                                                                                                           â”‚
           â”‚    542 â”‚   â”‚   â”‚   â”‚   â”‚   for trace in traces:                                                                                                                                                                             â”‚
           â”‚    543 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   await trace.send_connection_create_start()                                                                                                                                                   â”‚
           â”‚ â±  544 â”‚   â”‚   â”‚   â”‚   proto = await self._create_connection(req, traces, timeout)                                                                                                                                          â”‚
           â”‚    545 â”‚   â”‚   â”‚   â”‚   if traces:                                                                                                                                                                                           â”‚
           â”‚    546 â”‚   â”‚   â”‚   â”‚   â”‚   for trace in traces:                                                                                                                                                                             â”‚
           â”‚    547 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   await trace.send_connection_create_end()                                                                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1050 in _create_connection                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1047 â”‚   â”‚   if req.proxy:                                                                                                                                                                                                â”‚
           â”‚   1048 â”‚   â”‚   â”‚   _, proto = await self._create_proxy_connection(req, traces, timeout)                                                                                                                                     â”‚
           â”‚   1049 â”‚   â”‚   else:                                                                                                                                                                                                        â”‚
           â”‚ â± 1050 â”‚   â”‚   â”‚   _, proto = await self._create_direct_connection(req, traces, timeout)                                                                                                                                    â”‚
           â”‚   1051 â”‚   â”‚                                                                                                                                                                                                                â”‚
           â”‚   1052 â”‚   â”‚   return proto                                                                                                                                                                                                 â”‚
           â”‚   1053                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1394 in _create_direct_connection                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1391 â”‚   â”‚   â”‚   return transp, proto                                                                                                                                                                                     â”‚
           â”‚   1392 â”‚   â”‚   else:                                                                                                                                                                                                        â”‚
           â”‚   1393 â”‚   â”‚   â”‚   assert last_exc is not None                                                                                                                                                                              â”‚
           â”‚ â± 1394 â”‚   â”‚   â”‚   raise last_exc                                                                                                                                                                                           â”‚
           â”‚   1395 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   1396 â”‚   async def _create_proxy_connection(                                                                                                                                                                              â”‚
           â”‚   1397 â”‚   â”‚   self, req: ClientRequest, traces: List["Trace"], timeout: "ClientTimeout"                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1363 in _create_direct_connection                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1360 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚   1361 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚   1362 â”‚   â”‚   â”‚   try:                                                                                                                                                                                                     â”‚
           â”‚ â± 1363 â”‚   â”‚   â”‚   â”‚   transp, proto = await self._wrap_create_connection(                                                                                                                                                  â”‚
           â”‚   1364 â”‚   â”‚   â”‚   â”‚   â”‚   self._factory,                                                                                                                                                                                   â”‚
           â”‚   1365 â”‚   â”‚   â”‚   â”‚   â”‚   timeout=timeout,                                                                                                                                                                                 â”‚
           â”‚   1366 â”‚   â”‚   â”‚   â”‚   â”‚   ssl=sslcontext,                                                                                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1124 in _wrap_create_connection                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1121 â”‚   â”‚   except OSError as exc:                                                                                                                                                                                       â”‚
           â”‚   1122 â”‚   â”‚   â”‚   if exc.errno is None and isinstance(exc, asyncio.TimeoutError):                                                                                                                                          â”‚
           â”‚   1123 â”‚   â”‚   â”‚   â”‚   raise                                                                                                                                                                                                â”‚
           â”‚ â± 1124 â”‚   â”‚   â”‚   raise client_error(req.connection_key, exc) from exc                                                                                                                                                     â”‚
           â”‚   1125 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   1126 â”‚   async def _wrap_existing_connection(                                                                                                                                                                             â”‚
           â”‚   1127 â”‚   â”‚   self,                                                                                                                                                                                                        â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           ClientConnectorError: Cannot connect to host localhost:11434 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11434)]                     
                                                                                                                                                                                                                                          
           During handling of the above exception, another exception occurred:                                                                                                                                                            
                                                                                                                                                                                                                                          
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:276 in _run_with_timeout_failure                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   273 ) -> tuple[PQASession, AgentStatus]:                                                                                                                                                                                  â”‚
           â”‚   274 â”‚   try:                                                                                                                                                                                                              â”‚
           â”‚   275 â”‚   â”‚   async with asyncio.timeout(query.settings.agent.timeout):                                                                                                                                                     â”‚
           â”‚ â± 276 â”‚   â”‚   â”‚   status = await rollout()                                                                                                                                                                                  â”‚
           â”‚   277 â”‚   except TimeoutError:                                                                                                                                                                                              â”‚
           â”‚   278 â”‚   â”‚   logger.warning(                                                                                                                                                                                               â”‚
           â”‚   279 â”‚   â”‚   â”‚   f"Agent timeout after {query.settings.agent.timeout}-sec, just answering."                                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:410 in rollout                                                                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   407 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                     â”‚
           â”‚   408 â”‚   â”‚   â”‚   â”‚   return AgentStatus.TRUNCATED                                                                                                                                                                          â”‚
           â”‚   409 â”‚   â”‚   â”‚   agent_state.messages += obs                                                                                                                                                                               â”‚
           â”‚ â± 410 â”‚   â”‚   â”‚   for attempt in Retrying(                                                                                                                                                                                  â”‚
           â”‚   411 â”‚   â”‚   â”‚   â”‚   stop=stop_after_attempt(5),                                                                                                                                                                           â”‚
           â”‚   412 â”‚   â”‚   â”‚   â”‚   retry=retry_if_exception_type(MalformedMessageError),                                                                                                                                                 â”‚
           â”‚   413 â”‚   â”‚   â”‚   â”‚   before_sleep=before_sleep_log(logger, logging.WARNING),                                                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:443 in __iter__                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   440 â”‚   â”‚                                                                                                                                                                                                                 â”‚
           â”‚   441 â”‚   â”‚   retry_state = RetryCallState(self, fn=None, args=(), kwargs={})                                                                                                                                               â”‚
           â”‚   442 â”‚   â”‚   while True:                                                                                                                                                                                                   â”‚
           â”‚ â± 443 â”‚   â”‚   â”‚   do = self.iter(retry_state=retry_state)                                                                                                                                                                   â”‚
           â”‚   444 â”‚   â”‚   â”‚   if isinstance(do, DoAttempt):                                                                                                                                                                             â”‚
           â”‚   445 â”‚   â”‚   â”‚   â”‚   yield AttemptManager(retry_state=retry_state)                                                                                                                                                         â”‚
           â”‚   446 â”‚   â”‚   â”‚   elif isinstance(do, DoSleep):                                                                                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:376 in iter                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   373 â”‚   â”‚   self._begin_iter(retry_state)                                                                                                                                                                                 â”‚
           â”‚   374 â”‚   â”‚   result = None                                                                                                                                                                                                 â”‚
           â”‚   375 â”‚   â”‚   for action in self.iter_state.actions:                                                                                                                                                                        â”‚
           â”‚ â± 376 â”‚   â”‚   â”‚   result = action(retry_state)                                                                                                                                                                              â”‚
           â”‚   377 â”‚   â”‚   return result                                                                                                                                                                                                 â”‚
           â”‚   378 â”‚                                                                                                                                                                                                                     â”‚
           â”‚   379 â”‚   def _begin_iter(self, retry_state: "RetryCallState") -> None:  # noqa                                                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:398 in <lambda>                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   395 â”‚                                                                                                                                                                                                                     â”‚
           â”‚   396 â”‚   def _post_retry_check_actions(self, retry_state: "RetryCallState") -> None:                                                                                                                                       â”‚
           â”‚   397 â”‚   â”‚   if not (self.iter_state.is_explicit_retry or self.iter_state.retry_run_result):                                                                                                                               â”‚
           â”‚ â± 398 â”‚   â”‚   â”‚   self._add_action_func(lambda rs: rs.outcome.result())                                                                                                                                                     â”‚
           â”‚   399 â”‚   â”‚   â”‚   return                                                                                                                                                                                                    â”‚
           â”‚   400 â”‚   â”‚                                                                                                                                                                                                                 â”‚
           â”‚   401 â”‚   â”‚   if self.after is not None:                                                                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/concurrent/futures/_base.py:449 in result                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   446 â”‚   â”‚   â”‚   â”‚   if self._state in [CANCELLED, CANCELLED_AND_NOTIFIED]:                                                                                                                                                â”‚
           â”‚   447 â”‚   â”‚   â”‚   â”‚   â”‚   raise CancelledError()                                                                                                                                                                            â”‚
           â”‚   448 â”‚   â”‚   â”‚   â”‚   elif self._state == FINISHED:                                                                                                                                                                         â”‚
           â”‚ â± 449 â”‚   â”‚   â”‚   â”‚   â”‚   return self.__get_result()                                                                                                                                                                        â”‚
           â”‚   450 â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                         â”‚
           â”‚   451 â”‚   â”‚   â”‚   â”‚   self._condition.wait(timeout)                                                                                                                                                                         â”‚
           â”‚   452                                                                                                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/concurrent/futures/_base.py:401 in __get_result                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   398 â”‚   def __get_result(self):                                                                                                                                                                                           â”‚
           â”‚   399 â”‚   â”‚   if self._exception:                                                                                                                                                                                           â”‚
           â”‚   400 â”‚   â”‚   â”‚   try:                                                                                                                                                                                                      â”‚
           â”‚ â± 401 â”‚   â”‚   â”‚   â”‚   raise self._exception                                                                                                                                                                                 â”‚
           â”‚   402 â”‚   â”‚   â”‚   finally:                                                                                                                                                                                                  â”‚
           â”‚   403 â”‚   â”‚   â”‚   â”‚   # Break a reference cycle with the exception in self._exception                                                                                                                                       â”‚
           â”‚   404 â”‚   â”‚   â”‚   â”‚   self = None                                                                                                                                                                                           â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:417 in rollout                                                                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   414 â”‚   â”‚   â”‚   â”‚   reraise=True,                                                                                                                                                                                         â”‚
           â”‚   415 â”‚   â”‚   â”‚   ):                                                                                                                                                                                                        â”‚
           â”‚   416 â”‚   â”‚   â”‚   â”‚   with attempt:  # Retrying if ToolSelector fails to select a tool                                                                                                                                      â”‚
           â”‚ â± 417 â”‚   â”‚   â”‚   â”‚   â”‚   action = await agent(agent_state.messages, tools)                                                                                                                                                 â”‚
           â”‚   418 â”‚   â”‚   â”‚   agent_state.messages = [*agent_state.messages, action]                                                                                                                                                    â”‚
           â”‚   419 â”‚   â”‚   â”‚   if on_agent_action_callback:                                                                                                                                                                              â”‚
           â”‚   420 â”‚   â”‚   â”‚   â”‚   await on_agent_action_callback(action, agent_state)                                                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aviary/tools/utils.py:182 in __call__                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   179 â”‚   â”‚   â”‚   self._ledger.messages.extend(messages)                                                                                                                                                                    â”‚
           â”‚   180 â”‚   â”‚   â”‚   messages = self._ledger.messages                                                                                                                                                                          â”‚
           â”‚   181 â”‚   â”‚                                                                                                                                                                                                                 â”‚
           â”‚ â± 182 â”‚   â”‚   model_response = await self._bound_acompletion(                                                                                                                                                               â”‚
           â”‚   183 â”‚   â”‚   â”‚   messages=MessagesAdapter.dump_python(                                                                                                                                                                     â”‚
           â”‚   184 â”‚   â”‚   â”‚   â”‚   messages, exclude_none=True, by_alias=True                                                                                                                                                            â”‚
           â”‚   185 â”‚   â”‚   â”‚   ),                                                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:819 in acompletion                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    816 â”‚   â”‚   â”‚   â”‚   â”‚   original_exception=e,                                                                                                                                                                            â”‚
           â”‚    817 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                    â”‚
           â”‚    818 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚ â±  819 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚    820 â”‚                                                                                                                                                                                                                    â”‚
           â”‚    821 â”‚   async def _acompletion(                                                                                                                                                                                          â”‚
           â”‚    822 â”‚   â”‚   self, model: str, messages: List[Dict[str, str]], **kwargs                                                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:795 in acompletion                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    792 â”‚   â”‚   â”‚   if request_priority is not None and isinstance(request_priority, int):                                                                                                                                   â”‚
           â”‚    793 â”‚   â”‚   â”‚   â”‚   response = await self.schedule_acompletion(**kwargs)                                                                                                                                                 â”‚
           â”‚    794 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                    â”‚
           â”‚ â±  795 â”‚   â”‚   â”‚   â”‚   response = await self.async_function_with_fallbacks(**kwargs)                                                                                                                                        â”‚
           â”‚    796 â”‚   â”‚   â”‚   end_time = time.time()                                                                                                                                                                                   â”‚
           â”‚    797 â”‚   â”‚   â”‚   _duration = end_time - start_time                                                                                                                                                                        â”‚
           â”‚    798 â”‚   â”‚   â”‚   asyncio.create_task(                                                                                                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2792 in async_function_with_fallbacks                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2789 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                            â”‚
           â”‚   2790 â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                â”‚
           â”‚   2791 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚ â± 2792 â”‚   â”‚   â”‚   raise original_exception                                                                                                                                                                                 â”‚
           â”‚   2793 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   2794 â”‚   def _handle_mock_testing_fallbacks(                                                                                                                                                                              â”‚
           â”‚   2795 â”‚   â”‚   self,                                                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2628 in async_function_with_fallbacks                                                                                            â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2625 â”‚   â”‚   â”‚   â”‚   content_policy_fallbacks=content_policy_fallbacks,                                                                                                                                                   â”‚
           â”‚   2626 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚   2627 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚ â± 2628 â”‚   â”‚   â”‚   response = await self.async_function_with_retries(*args, **kwargs)                                                                                                                                       â”‚
           â”‚   2629 â”‚   â”‚   â”‚   verbose_router_logger.debug(f"Async Response: {response}")                                                                                                                                               â”‚
           â”‚   2630 â”‚   â”‚   â”‚   return response                                                                                                                                                                                          â”‚
           â”‚   2631 â”‚   â”‚   except Exception as e:                                                                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2964 in async_function_with_retries                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2961 â”‚   â”‚   â”‚   â”‚   setattr(original_exception, "max_retries", num_retries)                                                                                                                                              â”‚
           â”‚   2962 â”‚   â”‚   â”‚   â”‚   setattr(original_exception, "num_retries", current_attempt)                                                                                                                                          â”‚
           â”‚   2963 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚ â± 2964 â”‚   â”‚   â”‚   raise original_exception                                                                                                                                                                                 â”‚
           â”‚   2965 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   2966 â”‚   async def make_call(self, original_function: Any, *args, **kwargs):                                                                                                                                              â”‚
           â”‚   2967 â”‚   â”‚   """                                                                                                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2876 in async_function_with_retries                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2873 â”‚   â”‚   â”‚   â”‚   model_group=model_group, kwargs=kwargs                                                                                                                                                               â”‚
           â”‚   2874 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚   2875 â”‚   â”‚   â”‚   # if the function call is successful, no exception will be raised and we'll                                                                                                                              â”‚
           â”‚        break out of the loop                                                                                                                                                                                                â”‚
           â”‚ â± 2876 â”‚   â”‚   â”‚   response = await self.make_call(original_function, *args, **kwargs)                                                                                                                                      â”‚
           â”‚   2877 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚   2878 â”‚   â”‚   â”‚   return response                                                                                                                                                                                          â”‚
           â”‚   2879 â”‚   â”‚   except Exception as e:                                                                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2973 in make_call                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2970 â”‚   â”‚   model_group = kwargs.get("model")                                                                                                                                                                            â”‚
           â”‚   2971 â”‚   â”‚   response = original_function(*args, **kwargs)                                                                                                                                                                â”‚
           â”‚   2972 â”‚   â”‚   if inspect.iscoroutinefunction(response) or inspect.isawaitable(response):                                                                                                                                   â”‚
           â”‚ â± 2973 â”‚   â”‚   â”‚   response = await response                                                                                                                                                                                â”‚
           â”‚   2974 â”‚   â”‚   ## PROCESS RESPONSE HEADERS                                                                                                                                                                                  â”‚
           â”‚   2975 â”‚   â”‚   await self.set_response_headers(response=response, model_group=model_group)                                                                                                                                  â”‚
           â”‚   2976                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:949 in _acompletion                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    946 â”‚   â”‚   â”‚   )                                                                                                                                                                                                        â”‚
           â”‚    947 â”‚   â”‚   â”‚   if model_name is not None:                                                                                                                                                                               â”‚
           â”‚    948 â”‚   â”‚   â”‚   â”‚   self.fail_calls[model_name] += 1                                                                                                                                                                     â”‚
           â”‚ â±  949 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚    950 â”‚                                                                                                                                                                                                                    â”‚
           â”‚    951 â”‚   def _update_kwargs_with_default_litellm_params(self, kwargs: dict) -> None:                                                                                                                                      â”‚
           â”‚    952 â”‚   â”‚   """                                                                                                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:917 in _acompletion                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    914 â”‚   â”‚   â”‚   â”‚   â”‚   parent_otel_span=parent_otel_span,                                                                                                                                                               â”‚
           â”‚    915 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                    â”‚
           â”‚    916 â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                        â”‚
           â”‚ â±  917 â”‚   â”‚   â”‚   â”‚   response = await _response                                                                                                                                                                           â”‚
           â”‚    918 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚    919 â”‚   â”‚   â”‚   ## CHECK CONTENT FILTER ERROR ##                                                                                                                                                                         â”‚
           â”‚    920 â”‚   â”‚   â”‚   if isinstance(response, ModelResponse):                                                                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/utils.py:1174 in wrapper_async                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1171 â”‚   â”‚   â”‚   â”‚   â”‚   else:                                                                                                                                                                                            â”‚
           â”‚   1172 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   kwargs["model"] = context_window_fallback_dict[model]                                                                                                                                        â”‚
           â”‚   1173 â”‚   â”‚   â”‚   â”‚   â”‚   return await original_function(*args, **kwargs)                                                                                                                                                  â”‚
           â”‚ â± 1174 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚   1175 â”‚                                                                                                                                                                                                                    â”‚
           â”‚   1176 â”‚   is_coroutine = inspect.iscoroutinefunction(original_function)                                                                                                                                                    â”‚
           â”‚   1177                                                                                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/utils.py:1030 in wrapper_async                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   1027 â”‚   â”‚   â”‚   â”‚   return _caching_handler_response.final_embedding_cached_response                                                                                                                                     â”‚
           â”‚   1028 â”‚   â”‚   â”‚                                                                                                                                                                                                            â”‚
           â”‚   1029 â”‚   â”‚   â”‚   # MODEL CALL                                                                                                                                                                                             â”‚
           â”‚ â± 1030 â”‚   â”‚   â”‚   result = await original_function(*args, **kwargs)                                                                                                                                                        â”‚
           â”‚   1031 â”‚   â”‚   â”‚   end_time = datetime.datetime.now()                                                                                                                                                                       â”‚
           â”‚   1032 â”‚   â”‚   â”‚   if "stream" in kwargs and kwargs["stream"] is True:                                                                                                                                                      â”‚
           â”‚   1033 â”‚   â”‚   â”‚   â”‚   if (                                                                                                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py:499 in acompletion                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚    496 â”‚   â”‚   return response                                                                                                                                                                                              â”‚
           â”‚    497 â”‚   except Exception as e:                                                                                                                                                                                           â”‚
           â”‚    498 â”‚   â”‚   custom_llm_provider = custom_llm_provider or "openai"                                                                                                                                                        â”‚
           â”‚ â±  499 â”‚   â”‚   raise exception_type(                                                                                                                                                                                        â”‚
           â”‚    500 â”‚   â”‚   â”‚   model=model,                                                                                                                                                                                             â”‚
           â”‚    501 â”‚   â”‚   â”‚   custom_llm_provider=custom_llm_provider,                                                                                                                                                                 â”‚
           â”‚    502 â”‚   â”‚   â”‚   original_exception=e,                                                                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/litellm_core_utils/exception_mapping_utils.py:2122 in exception_type                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2119 â”‚   â”‚   # don't let an error with mapping interrupt the user from receiving an error                                                                                                                                 â”‚
           â”‚        from the llm api calls                                                                                                                                                                                               â”‚
           â”‚   2120 â”‚   â”‚   if exception_mapping_worked:                                                                                                                                                                                 â”‚
           â”‚   2121 â”‚   â”‚   â”‚   setattr(e, "litellm_response_headers", litellm_response_headers)                                                                                                                                         â”‚
           â”‚ â± 2122 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                  â”‚
           â”‚   2123 â”‚   â”‚   else:                                                                                                                                                                                                        â”‚
           â”‚   2124 â”‚   â”‚   â”‚   for error_type in litellm.LITELLM_EXCEPTION_TYPES:                                                                                                                                                       â”‚
           â”‚   2125 â”‚   â”‚   â”‚   â”‚   if isinstance(e, error_type):                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/litellm_core_utils/exception_mapping_utils.py:2098 in exception_type                                                                       â”‚
           â”‚                                                                                                                                                                                                                             â”‚
           â”‚   2095 â”‚   â”‚   â”‚   â”‚   â”‚   request=original_exception.request,                                                                                                                                                              â”‚
           â”‚   2096 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                    â”‚
           â”‚   2097 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                    â”‚
           â”‚ â± 2098 â”‚   â”‚   â”‚   â”‚   raise APIConnectionError(                                                                                                                                                                            â”‚
           â”‚   2099 â”‚   â”‚   â”‚   â”‚   â”‚   message="{}\n{}".format(                                                                                                                                                                         â”‚
           â”‚   2100 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   str(original_exception), traceback.format_exc()                                                                                                                                              â”‚
           â”‚   2101 â”‚   â”‚   â”‚   â”‚   â”‚   ),                                                                                                                                                                                               â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           APIConnectionError: litellm.APIConnectionError: Cannot connect to host localhost:11434 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1',   
           11434)]                                                                                                                                                                                                                        
           Traceback (most recent call last):                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1109, in _wrap_create_connection                                                                                  
               sock = await aiohappyeyeballs.start_connection(                                                                                                                                                                            
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                            
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohappyeyeballs/impl.py", line 123, in start_connection                                                                                      
               raise OSError(first_errno, msg)                                                                                                                                                                                            
           ConnectionRefusedError: [Errno 111] Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11434)                                                            
                                                                                                                                                                                                                                          
           The above exception was the direct cause of the following exception:                                                                                                                                                           
                                                                                                                                                                                                                                          
           Traceback (most recent call last):                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py", line 477, in acompletion                                                                                                    
               response = await init_response                                                                                                                                                                                             
                          ^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py", line 564, in ollama_acompletion                                                                                      
               raise e  # don't use verbose_logger.exception, if exception is raised                                                                                                                                                      
               ^^^^^^^                                                                                                                                                                                                                    
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py", line 505, in ollama_acompletion                                                                                      
               resp = await session.post(url, json=data)                                                                                                                                                                                  
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                  
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/client.py", line 696, in _request                                                                                                     
               conn = await self._connector.connect(                                                                                                                                                                                      
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                      
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 544, in connect                                                                                                   
               proto = await self._create_connection(req, traces, timeout)                                                                                                                                                                
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1050, in _create_connection                                                                                       
               _, proto = await self._create_direct_connection(req, traces, timeout)                                                                                                                                                      
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                      
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1394, in _create_direct_connection                                                                                
               raise last_exc                                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1363, in _create_direct_connection                                                                                
               transp, proto = await self._wrap_create_connection(                                                                                                                                                                        
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                        
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1124, in _wrap_create_connection                                                                                  
               raise client_error(req.connection_key, exc) from exc                                                                                                                                                                       
           aiohttp.client_exceptions.ClientConnectorError: Cannot connect to host localhost:11434 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11434, 0, 0), [Errno 111] Connect call failed ('127.0.0.1',   
           11434)]                                                                                                                                                                                                                        
                                                                                                                                                                                                                                          
           Received Model Group=ollama/llama3.3                                                                                                                                                                                           
           Available Model Group Fallbacks=None LiteLLM Retried: 2 times, LiteLLM Max Retries: 3                                                                                                                                          
[07:07:20] Answer:                                                                                                                                                                                                                        
