Running experiment: liqa2_paperqa_llama3.1
saving results to: litqa_single_agent_output/paperqa_llama3.1 


Processing question 1


 ANSWERING QUESTION: 1
 ----------------------------- 


[22:49:20] Starting paper search for 'Active olfactory receptor genes increase their contacts with greek island regions by what factor in mouse olfactory neurons'.                                                                              
           paper_search for query 'Active olfactory receptor genes increase their contacts with greek island regions by what factor in mouse olfactory neurons' and offset 0 returned 8 papers.                                                  
           Status: Paper Count=8 | Relevant Papers=0 | Current Evidence=0 | Current Cost=$0.0000                                                                                                                                                 
           Generating answer for 'Active olfactory receptor genes increase their contacts with greek island regions by what factor in mouse olfactory neurons?'.                                                                                 
[22:49:31] Status: Paper Count=8 | Relevant Papers=1 | Current Evidence=6 | Current Cost=$0.0000                                                                                                                                                 
           Answer: Based on the provided context, the correct answer can be determined by looking at the specific pages that mention the factor by which active olfactory receptor genes increase their contacts with Greek Island regions.      
                                                                                                                                                                                                                                                 
           Ariel7928 page 4-4 mentions: "Active olfactory receptor genes increase their contacts with GIs (Greek Islands) by a factor of 2.7-fold in mouse olfactory neurons, as inferred from the results of Dip-C, liquid Hi-C and H3K27ac     
           HiChIP experiments."                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                 
           Therefore, the correct answer is:                                                                                                                                                                                                     
                                                                                                                                                                                                                                                 
           D) 2.7 fold                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                 
           This answer can be derived by directly reading the relevant information from Ariel7928 page 4-4, which explicitly states that active olfactory receptor genes increase their contacts with Greek Island regions by a factor of        
           2.7-fold.                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                 
           ANSWER SUMMARY: The correct answer is D) 2.7 fold, as it is directly stated in Ariel7928 page 4-4 that active olfactory receptor genes increase their contacts with GIs by a factor of 2.7-fold in mouse olfactory neurons.           
Evaluator LLM:  The correct answer is D) 2.7 fold.
Q: Active olfactory receptor genes increase their contacts with greek island regions by what factor in mouse olfactory neurons?

Options:
A) 2.0 fold
B) 27 fold
C) 3.0 fold
D) 2.7 fold
E) 1.7 fold
F) Insufficient information to answer this question
LLM Response:  T 1
Error processing question 1: 'tuple' object has no attribute 'session'
Processing question 3


 ANSWERING QUESTION: 3
 ----------------------------- 


[22:49:32] Starting paper search for 'transposable element insertion loci in citrus reticulata genome'.                                                                                                                                          
           paper_search for query 'transposable element insertion loci in citrus reticulata genome' and offset 0 returned 8 papers.                                                                                                              
           Status: Paper Count=8 | Relevant Papers=0 | Current Evidence=0 | Current Cost=$0.0000                                                                                                                                                 
[22:49:33] Generating answer for 'Approximately how many unique transposable element insertion loci are there in the mandarin (Citrus reticulata) genome?'.                                                                                      
[22:49:42] Status: Paper Count=8 | Relevant Papers=1 | Current Evidence=3 | Current Cost=$0.0000                                                                                                                                                 
           Answer: According to Wu2022 pages 8-11, there are 12,309 mandarin-specific ILs (insertion loci) in the mandarin accessions. However, this number refers to insertion loci detected from RNA-seq datasets of mandarin, not necessarily 
           unique transposable element insertion loci.                                                                                                                                                                                           
                                                                                                                                                                                                                                                 
           On Wu2022 pages 17-18, it is mentioned that there are 39 unique transposon insertion loci for mandarin among the analyzed transcriptomes.                                                                                             
                                                                                                                                                                                                                                                 
           Therefore, based on these two pieces of information, I conclude that the exact number of unique transposable element insertion loci in the mandarin genome is not explicitly stated and may not be as high as 12,309 since it refers  
           to "mandarin-specific ILs". The closest answer related to the provided options would be 39.                                                                                                                                           
                                                                                                                                                                                                                                                 
           ANSWER SUMMARY: Based on Wu2022 pages 17-18, there are 39 unique transposon insertion loci in mandarin among analyzed transcriptomes.                                                                                                 
Evaluator LLM:  C) 39
Q: Approximately how many unique transposable element insertion loci are there in the mandarin (Citrus reticulata) genome?

Options:
A) 850
B) 400
C) 39
D) 12,300
E) 750
F) 2
G) Insufficient information to answer this question
H) 2
I) 4
J) 900
LLM Response:  C 1
Error processing question 3: 'tuple' object has no attribute 'session'
Processing question 7


 ANSWERING QUESTION: 7
 ----------------------------- 


[22:49:43] Generating answer for 'At which amino acid position is a large oligosaccharide density observed in the cryo-EM map of Nav1.6?'.                                                                                                       
[22:49:44] Status: Paper Count=0 | Relevant Papers=0 | Current Evidence=0 | Current Cost=$0.0000                                                                                                                                                 
[22:49:46] Starting paper search for 'a large oligosaccharide density observed in the cryo-EM map of Nav1.6'.                                                                                                                                    
           paper_search for query 'a large oligosaccharide density observed in the cryo-EM map of Nav1.6' and offset 0 returned 6 papers.                                                                                                        
           Status: Paper Count=6 | Relevant Papers=0 | Current Evidence=0 | Current Cost=$0.0000                                                                                                                                                 
           Starting paper search for 'a large oligosaccharide density observed in the cryo-EM map of Nav1.6'.                                                                                                                                    
           paper_search for query 'a large oligosaccharide density observed in the cryo-EM map of Nav1.6' and offset 8 returned 0 papers.                                                                                                        
           Status: Paper Count=6 | Relevant Papers=0 | Current Evidence=0 | Current Cost=$0.0000                                                                                                                                                 
[22:49:47] Starting paper search for 'a large oligosaccharide density observed in the cryo-EM map of Nav1.6'.                                                                                                                                    
           paper_search for query 'a large oligosaccharide density observed in the cryo-EM map of Nav1.6' and offset 16 returned 0 papers.                                                                                                       
           Status: Paper Count=6 | Relevant Papers=0 | Current Evidence=0 | Current Cost=$0.0000                                                                                                                                                 
got papers
           gather_evidence starting for question 'At which amino acid position is a large oligosaccharide density observed in the cryo-EM map of Nav1.6?'.                                                                                       
[22:49:55] Generating answer for 'At which amino acid position is a large oligosaccharide density observed in the cryo-EM map of Nav1.6?'.                                                                                                       
[22:50:04] Status: Paper Count=6 | Relevant Papers=1 | Current Evidence=5 | Current Cost=$0.0000                                                                                                                                                 
           Answer: Based on the provided excerpts from Xiao2024, a large oligosaccharide density is observed at position Asn326 in the cryo-EM map of Nav1.6.                                                                                    
                                                                                                                                                                                                                                                 
           My reasoning process involved scanning each excerpt for mentions of Asn326 or other amino acid positions in relation to oligosaccharide densities. In Xiao2024 pages 2-3, it states that "a large oligosaccharide density was observed
           in the cryo-EM map at position Asn326." This direct statement provides clear evidence that Asn326 is indeed the location where a large oligosaccharide density is observed.                                                           
                                                                                                                                                                                                                                                 
           ANSWER SUMMARY: A) Asn326 because of direct mention in Xiao2024 pages 2-3.                                                                                                                                                            
Evaluator LLM:  A) Asn326
Q: At which amino acid position is a large oligosaccharide density observed in the cryo-EM map of Nav1.6?

Options:
A) Asn326
B) Phe302
C) Trp324
D) Insufficient information to answer this question
E) Leu288
LLM Response:  A 0
Error processing question 7: 'tuple' object has no attribute 'session'
Processing question 18


 ANSWERING QUESTION: 18
 ----------------------------- 


[22:50:05] Starting paper search for 'Disruption MTF1 expression Chlamydomonas photosynthetic machinery'.                                                                                                                                        
           paper_search for query 'Disruption MTF1 expression Chlamydomonas photosynthetic machinery' and offset 0 returned 8 papers.                                                                                                            
           Status: Paper Count=8 | Relevant Papers=0 | Current Evidence=0 | Current Cost=$0.0000                                                                                                                                                 
[22:50:06] Generating answer for 'Disruption of MTF1 expression in Chlamydomonas has what effect on the photosynthetic machinery?'.                                                                                                              
[22:50:15] Status: Paper Count=8 | Relevant Papers=1 | Current Evidence=9 | Current Cost=$0.0000                                                                                                                                                 
           Answer: The disruption of MTF1 expression in Chlamydomonas has a severe effect on the photosynthetic machinery, leading to its depletion. Specifically, it results in reduced growth under high-light conditions and a decrease in the
           expression of chloroplast-expressed proteins (Kafri2023 pages 14-14). Furthermore, this disruption affects specific subsets of chloroplast-expressed proteins, particularly the expression of photosynthetic machinery (Kafri2023     
           pages 16-16). Additionally, it leads to the loss of ribosomal large subunits and reduces the expression of photosynthetic proteins (Kafri2023 pages 16-16).                                                                           
                                                                                                                                                                                                                                                 
           ANSWER SUMMARY: Disruption of MTF1 expression in Chlamydomonas results in depletion of the entire photosynthetic apparatus.                                                                                                           
Evaluator LLM:  A.

The disruption of MTF1 expression in Chlamydomonas results in depletion of the photosynthetic machinery.
Q: Disruption of MTF1 expression in Chlamydomonas has what effect on the photosynthetic machinery?

Options:
A) Depletion of photosynthetic machinery
B) Upregulation of chloroplast-expressed proteins
C) No effect
D) Insufficient information to answer this question
E) Upregulation of photosynthetic machinery
LLM Response:  A 0
Error processing question 18: 'tuple' object has no attribute 'session'
Processing question 28


 ANSWERING QUESTION: 28
 ----------------------------- 


[22:50:17] Starting paper search for 'A3AR efficacy with ECL3 region from A2AAR grafted onto A3AR CF101 antagonist'.                                                                                                                             
           paper_search for query 'A3AR efficacy with ECL3 region from A2AAR grafted onto A3AR CF101 antagonist' and offset 0 returned 8 papers.                                                                                                 
           Status: Paper Count=8 | Relevant Papers=0 | Current Evidence=0 | Current Cost=$0.0000                                                                                                                                                 
[22:50:18] Generating answer for 'Grafting ECL3 region from adenosine A3 receptor A3AR onto A2AAR does what to the efficacy of binding to the A3AR antagonist CF101 ?'.                                                                          

[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.

[22:50:46] Answer:                                                                                                                                                                                                                               

[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.

Error processing question 28: litellm.APIConnectionError: Cannot connect to host localhost:11444 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11444, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11444)]
Traceback (most recent call last):
  File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1109, in _wrap_create_connection
    sock = await aiohappyeyeballs.start_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohappyeyeballs/impl.py", line 123, in start_connection
    raise OSError(first_errno, msg)
ConnectionRefusedError: [Errno 111] Multiple exceptions: [Errno 111] Connect call failed ('::1', 11444, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11444)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py", line 477, in acompletion
    response = await init_response
               ^^^^^^^^^^^^^^^^^^^
  File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py", line 564, in ollama_acompletion
    raise e  # don't use verbose_logger.exception, if exception is raised
    ^^^^^^^
  File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py", line 505, in ollama_acompletion
    resp = await session.post(url, json=data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/client.py", line 696, in _request
    conn = await self._connector.connect(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 544, in connect
    proto = await self._create_connection(req, traces, timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1050, in _create_connection
    _, proto = await self._create_direct_connection(req, traces, timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1394, in _create_direct_connection
    raise last_exc
  File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1363, in _create_direct_connection
    transp, proto = await self._wrap_create_connection(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1124, in _wrap_create_connection
    raise client_error(req.connection_key, exc) from exc
aiohttp.client_exceptions.ClientConnectorError: Cannot connect to host localhost:11444 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11444, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11444)]

Received Model Group=ollama/llama3.1
Available Model Group Fallbacks=None LiteLLM Retried: 2 times, LiteLLM Max Retries: 3
Processing question 34


 ANSWERING QUESTION: 34
 ----------------------------- 



[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.

[22:51:26] Trajectory failed.                                                                                                                                                                                                                    
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1109 in _wrap_create_connection                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   1106 â”‚   â”‚   â”‚   async with ceil_timeout(                                                                                                                                                                                        â”‚
           â”‚   1107 â”‚   â”‚   â”‚   â”‚   timeout.sock_connect, ceil_threshold=timeout.ceil_threshold                                                                                                                                                 â”‚
           â”‚   1108 â”‚   â”‚   â”‚   ):                                                                                                                                                                                                              â”‚
           â”‚ â± 1109 â”‚   â”‚   â”‚   â”‚   sock = await aiohappyeyeballs.start_connection(                                                                                                                                                             â”‚
           â”‚   1110 â”‚   â”‚   â”‚   â”‚   â”‚   addr_infos=addr_infos,                                                                                                                                                                                  â”‚
           â”‚   1111 â”‚   â”‚   â”‚   â”‚   â”‚   local_addr_infos=self._local_addr_infos,                                                                                                                                                                â”‚
           â”‚   1112 â”‚   â”‚   â”‚   â”‚   â”‚   happy_eyeballs_delay=self._happy_eyeballs_delay,                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohappyeyeballs/impl.py:123 in start_connection                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   120 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   isinstance(exc, OSError) and exc.errno == first_errno                                                                                                                                                â”‚
           â”‚   121 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   for exc in all_exceptions                                                                                                                                                                            â”‚
           â”‚   122 â”‚   â”‚   â”‚   â”‚   â”‚   ):                                                                                                                                                                                                       â”‚
           â”‚ â± 123 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   raise OSError(first_errno, msg)                                                                                                                                                                      â”‚
           â”‚   124 â”‚   â”‚   â”‚   â”‚   elif isinstance(first_exception, RuntimeError) and all(                                                                                                                                                      â”‚
           â”‚   125 â”‚   â”‚   â”‚   â”‚   â”‚   isinstance(exc, RuntimeError) for exc in all_exceptions                                                                                                                                                  â”‚
           â”‚   126 â”‚   â”‚   â”‚   â”‚   ):                                                                                                                                                                                                           â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           ConnectionRefusedError: [Errno 111] Multiple exceptions: [Errno 111] Connect call failed ('::1', 11444, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11444)                                                                   
                                                                                                                                                                                                                                                 
           The above exception was the direct cause of the following exception:                                                                                                                                                                  
                                                                                                                                                                                                                                                 
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py:477 in acompletion                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚    474 â”‚   â”‚   â”‚   â”‚   â”‚   response = ModelResponse(**init_response)                                                                                                                                                               â”‚
           â”‚    475 â”‚   â”‚   â”‚   â”‚   response = init_response                                                                                                                                                                                    â”‚
           â”‚    476 â”‚   â”‚   â”‚   elif asyncio.iscoroutine(init_response):                                                                                                                                                                        â”‚
           â”‚ â±  477 â”‚   â”‚   â”‚   â”‚   response = await init_response                                                                                                                                                                              â”‚
           â”‚    478 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                           â”‚
           â”‚    479 â”‚   â”‚   â”‚   â”‚   response = init_response  # type: ignore                                                                                                                                                                    â”‚
           â”‚    480                                                                                                                                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py:564 in ollama_acompletion                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   561 â”‚   â”‚   â”‚   )                                                                                                                                                                                                                â”‚
           â”‚   562 â”‚   â”‚   â”‚   return model_response                                                                                                                                                                                            â”‚
           â”‚   563 â”‚   except Exception as e:                                                                                                                                                                                                   â”‚
           â”‚ â± 564 â”‚   â”‚   raise e  # don't use verbose_logger.exception, if exception is raised                                                                                                                                                â”‚
           â”‚   565                                                                                                                                                                                                                              â”‚
           â”‚   566                                                                                                                                                                                                                              â”‚
           â”‚   567 async def ollama_aembeddings(                                                                                                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py:505 in ollama_acompletion                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   502 â”‚   try:                                                                                                                                                                                                                     â”‚
           â”‚   503 â”‚   â”‚   timeout = aiohttp.ClientTimeout(total=litellm.request_timeout)  # 10 minutes                                                                                                                                         â”‚
           â”‚   504 â”‚   â”‚   async with aiohttp.ClientSession(timeout=timeout) as session:                                                                                                                                                        â”‚
           â”‚ â± 505 â”‚   â”‚   â”‚   resp = await session.post(url, json=data)                                                                                                                                                                        â”‚
           â”‚   506 â”‚   â”‚   â”‚                                                                                                                                                                                                                    â”‚
           â”‚   507 â”‚   â”‚   â”‚   if resp.status != 200:                                                                                                                                                                                           â”‚
           â”‚   508 â”‚   â”‚   â”‚   â”‚   text = await resp.text()                                                                                                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/client.py:696 in _request                                                                                                                         â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚    693 â”‚   â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                           â”‚
           â”‚    694 â”‚   â”‚   â”‚   â”‚   â”‚   # connection timeout                                                                                                                                                                                    â”‚
           â”‚    695 â”‚   â”‚   â”‚   â”‚   â”‚   try:                                                                                                                                                                                                    â”‚
           â”‚ â±  696 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   conn = await self._connector.connect(                                                                                                                                                               â”‚
           â”‚    697 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   req, traces=traces, timeout=real_timeout                                                                                                                                                        â”‚
           â”‚    698 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                   â”‚
           â”‚    699 â”‚   â”‚   â”‚   â”‚   â”‚   except asyncio.TimeoutError as exc:                                                                                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:544 in connect                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚    541 â”‚   â”‚   â”‚   â”‚   if traces:                                                                                                                                                                                                  â”‚
           â”‚    542 â”‚   â”‚   â”‚   â”‚   â”‚   for trace in traces:                                                                                                                                                                                    â”‚
           â”‚    543 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   await trace.send_connection_create_start()                                                                                                                                                          â”‚
           â”‚ â±  544 â”‚   â”‚   â”‚   â”‚   proto = await self._create_connection(req, traces, timeout)                                                                                                                                                 â”‚
           â”‚    545 â”‚   â”‚   â”‚   â”‚   if traces:                                                                                                                                                                                                  â”‚
           â”‚    546 â”‚   â”‚   â”‚   â”‚   â”‚   for trace in traces:                                                                                                                                                                                    â”‚
           â”‚    547 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   await trace.send_connection_create_end()                                                                                                                                                            â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1050 in _create_connection                                                                                                           â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   1047 â”‚   â”‚   if req.proxy:                                                                                                                                                                                                       â”‚
           â”‚   1048 â”‚   â”‚   â”‚   _, proto = await self._create_proxy_connection(req, traces, timeout)                                                                                                                                            â”‚
           â”‚   1049 â”‚   â”‚   else:                                                                                                                                                                                                               â”‚
           â”‚ â± 1050 â”‚   â”‚   â”‚   _, proto = await self._create_direct_connection(req, traces, timeout)                                                                                                                                           â”‚
           â”‚   1051 â”‚   â”‚                                                                                                                                                                                                                       â”‚
           â”‚   1052 â”‚   â”‚   return proto                                                                                                                                                                                                        â”‚
           â”‚   1053                                                                                                                                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1394 in _create_direct_connection                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   1391 â”‚   â”‚   â”‚   return transp, proto                                                                                                                                                                                            â”‚
           â”‚   1392 â”‚   â”‚   else:                                                                                                                                                                                                               â”‚
           â”‚   1393 â”‚   â”‚   â”‚   assert last_exc is not None                                                                                                                                                                                     â”‚
           â”‚ â± 1394 â”‚   â”‚   â”‚   raise last_exc                                                                                                                                                                                                  â”‚
           â”‚   1395 â”‚                                                                                                                                                                                                                           â”‚
           â”‚   1396 â”‚   async def _create_proxy_connection(                                                                                                                                                                                     â”‚
           â”‚   1397 â”‚   â”‚   self, req: ClientRequest, traces: List["Trace"], timeout: "ClientTimeout"                                                                                                                                           â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1363 in _create_direct_connection                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   1360 â”‚   â”‚   â”‚   )                                                                                                                                                                                                               â”‚
           â”‚   1361 â”‚   â”‚   â”‚                                                                                                                                                                                                                   â”‚
           â”‚   1362 â”‚   â”‚   â”‚   try:                                                                                                                                                                                                            â”‚
           â”‚ â± 1363 â”‚   â”‚   â”‚   â”‚   transp, proto = await self._wrap_create_connection(                                                                                                                                                         â”‚
           â”‚   1364 â”‚   â”‚   â”‚   â”‚   â”‚   self._factory,                                                                                                                                                                                          â”‚
           â”‚   1365 â”‚   â”‚   â”‚   â”‚   â”‚   timeout=timeout,                                                                                                                                                                                        â”‚
           â”‚   1366 â”‚   â”‚   â”‚   â”‚   â”‚   ssl=sslcontext,                                                                                                                                                                                         â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1124 in _wrap_create_connection                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   1121 â”‚   â”‚   except OSError as exc:                                                                                                                                                                                              â”‚
           â”‚   1122 â”‚   â”‚   â”‚   if exc.errno is None and isinstance(exc, asyncio.TimeoutError):                                                                                                                                                 â”‚
           â”‚   1123 â”‚   â”‚   â”‚   â”‚   raise                                                                                                                                                                                                       â”‚
           â”‚ â± 1124 â”‚   â”‚   â”‚   raise client_error(req.connection_key, exc) from exc                                                                                                                                                            â”‚
           â”‚   1125 â”‚                                                                                                                                                                                                                           â”‚
           â”‚   1126 â”‚   async def _wrap_existing_connection(                                                                                                                                                                                    â”‚
           â”‚   1127 â”‚   â”‚   self,                                                                                                                                                                                                               â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           ClientConnectorError: Cannot connect to host localhost:11444 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11444, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11444)]                            
                                                                                                                                                                                                                                                 
           During handling of the above exception, another exception occurred:                                                                                                                                                                   
                                                                                                                                                                                                                                                 
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:276 in _run_with_timeout_failure                                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   273 ) -> tuple[PQASession, AgentStatus]:                                                                                                                                                                                         â”‚
           â”‚   274 â”‚   try:                                                                                                                                                                                                                     â”‚
           â”‚   275 â”‚   â”‚   async with asyncio.timeout(query.settings.agent.timeout):                                                                                                                                                            â”‚
           â”‚ â± 276 â”‚   â”‚   â”‚   status = await rollout()                                                                                                                                                                                         â”‚
           â”‚   277 â”‚   except TimeoutError:                                                                                                                                                                                                     â”‚
           â”‚   278 â”‚   â”‚   logger.warning(                                                                                                                                                                                                      â”‚
           â”‚   279 â”‚   â”‚   â”‚   f"Agent timeout after {query.settings.agent.timeout}-sec, just answering."                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:410 in rollout                                                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   407 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                            â”‚
           â”‚   408 â”‚   â”‚   â”‚   â”‚   return AgentStatus.TRUNCATED                                                                                                                                                                                 â”‚
           â”‚   409 â”‚   â”‚   â”‚   agent_state.messages += obs                                                                                                                                                                                      â”‚
           â”‚ â± 410 â”‚   â”‚   â”‚   for attempt in Retrying(                                                                                                                                                                                         â”‚
           â”‚   411 â”‚   â”‚   â”‚   â”‚   stop=stop_after_attempt(5),                                                                                                                                                                                  â”‚
           â”‚   412 â”‚   â”‚   â”‚   â”‚   retry=retry_if_exception_type(MalformedMessageError),                                                                                                                                                        â”‚
           â”‚   413 â”‚   â”‚   â”‚   â”‚   before_sleep=before_sleep_log(logger, logging.WARNING),                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:443 in __iter__                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   440 â”‚   â”‚                                                                                                                                                                                                                        â”‚
           â”‚   441 â”‚   â”‚   retry_state = RetryCallState(self, fn=None, args=(), kwargs={})                                                                                                                                                      â”‚
           â”‚   442 â”‚   â”‚   while True:                                                                                                                                                                                                          â”‚
           â”‚ â± 443 â”‚   â”‚   â”‚   do = self.iter(retry_state=retry_state)                                                                                                                                                                          â”‚
           â”‚   444 â”‚   â”‚   â”‚   if isinstance(do, DoAttempt):                                                                                                                                                                                    â”‚
           â”‚   445 â”‚   â”‚   â”‚   â”‚   yield AttemptManager(retry_state=retry_state)                                                                                                                                                                â”‚
           â”‚   446 â”‚   â”‚   â”‚   elif isinstance(do, DoSleep):                                                                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:376 in iter                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   373 â”‚   â”‚   self._begin_iter(retry_state)                                                                                                                                                                                        â”‚
           â”‚   374 â”‚   â”‚   result = None                                                                                                                                                                                                        â”‚
           â”‚   375 â”‚   â”‚   for action in self.iter_state.actions:                                                                                                                                                                               â”‚
           â”‚ â± 376 â”‚   â”‚   â”‚   result = action(retry_state)                                                                                                                                                                                     â”‚
           â”‚   377 â”‚   â”‚   return result                                                                                                                                                                                                        â”‚
           â”‚   378 â”‚                                                                                                                                                                                                                            â”‚
           â”‚   379 â”‚   def _begin_iter(self, retry_state: "RetryCallState") -> None:  # noqa                                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:398 in <lambda>                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   395 â”‚                                                                                                                                                                                                                            â”‚
           â”‚   396 â”‚   def _post_retry_check_actions(self, retry_state: "RetryCallState") -> None:                                                                                                                                              â”‚
           â”‚   397 â”‚   â”‚   if not (self.iter_state.is_explicit_retry or self.iter_state.retry_run_result):                                                                                                                                      â”‚
           â”‚ â± 398 â”‚   â”‚   â”‚   self._add_action_func(lambda rs: rs.outcome.result())                                                                                                                                                            â”‚
           â”‚   399 â”‚   â”‚   â”‚   return                                                                                                                                                                                                           â”‚
           â”‚   400 â”‚   â”‚                                                                                                                                                                                                                        â”‚
           â”‚   401 â”‚   â”‚   if self.after is not None:                                                                                                                                                                                           â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/concurrent/futures/_base.py:449 in result                                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   446 â”‚   â”‚   â”‚   â”‚   if self._state in [CANCELLED, CANCELLED_AND_NOTIFIED]:                                                                                                                                                       â”‚
           â”‚   447 â”‚   â”‚   â”‚   â”‚   â”‚   raise CancelledError()                                                                                                                                                                                   â”‚
           â”‚   448 â”‚   â”‚   â”‚   â”‚   elif self._state == FINISHED:                                                                                                                                                                                â”‚
           â”‚ â± 449 â”‚   â”‚   â”‚   â”‚   â”‚   return self.__get_result()                                                                                                                                                                               â”‚
           â”‚   450 â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                                â”‚
           â”‚   451 â”‚   â”‚   â”‚   â”‚   self._condition.wait(timeout)                                                                                                                                                                                â”‚
           â”‚   452                                                                                                                                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/concurrent/futures/_base.py:401 in __get_result                                                                                                                         â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   398 â”‚   def __get_result(self):                                                                                                                                                                                                  â”‚
           â”‚   399 â”‚   â”‚   if self._exception:                                                                                                                                                                                                  â”‚
           â”‚   400 â”‚   â”‚   â”‚   try:                                                                                                                                                                                                             â”‚
           â”‚ â± 401 â”‚   â”‚   â”‚   â”‚   raise self._exception                                                                                                                                                                                        â”‚
           â”‚   402 â”‚   â”‚   â”‚   finally:                                                                                                                                                                                                         â”‚
           â”‚   403 â”‚   â”‚   â”‚   â”‚   # Break a reference cycle with the exception in self._exception                                                                                                                                              â”‚
           â”‚   404 â”‚   â”‚   â”‚   â”‚   self = None                                                                                                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:417 in rollout                                                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   414 â”‚   â”‚   â”‚   â”‚   reraise=True,                                                                                                                                                                                                â”‚
           â”‚   415 â”‚   â”‚   â”‚   ):                                                                                                                                                                                                               â”‚
           â”‚   416 â”‚   â”‚   â”‚   â”‚   with attempt:  # Retrying if ToolSelector fails to select a tool                                                                                                                                             â”‚
           â”‚ â± 417 â”‚   â”‚   â”‚   â”‚   â”‚   action = await agent(agent_state.messages, tools)                                                                                                                                                        â”‚
           â”‚   418 â”‚   â”‚   â”‚   agent_state.messages = [*agent_state.messages, action]                                                                                                                                                           â”‚
           â”‚   419 â”‚   â”‚   â”‚   if on_agent_action_callback:                                                                                                                                                                                     â”‚
           â”‚   420 â”‚   â”‚   â”‚   â”‚   await on_agent_action_callback(action, agent_state)                                                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aviary/tools/utils.py:182 in __call__                                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   179 â”‚   â”‚   â”‚   self._ledger.messages.extend(messages)                                                                                                                                                                           â”‚
           â”‚   180 â”‚   â”‚   â”‚   messages = self._ledger.messages                                                                                                                                                                                 â”‚
           â”‚   181 â”‚   â”‚                                                                                                                                                                                                                        â”‚
           â”‚ â± 182 â”‚   â”‚   model_response = await self._bound_acompletion(                                                                                                                                                                      â”‚
           â”‚   183 â”‚   â”‚   â”‚   messages=MessagesAdapter.dump_python(                                                                                                                                                                            â”‚
           â”‚   184 â”‚   â”‚   â”‚   â”‚   messages, exclude_none=True, by_alias=True                                                                                                                                                                   â”‚
           â”‚   185 â”‚   â”‚   â”‚   ),                                                                                                                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:819 in acompletion                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚    816 â”‚   â”‚   â”‚   â”‚   â”‚   original_exception=e,                                                                                                                                                                                   â”‚
           â”‚    817 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                           â”‚
           â”‚    818 â”‚   â”‚   â”‚   )                                                                                                                                                                                                               â”‚
           â”‚ â±  819 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                         â”‚
           â”‚    820 â”‚                                                                                                                                                                                                                           â”‚
           â”‚    821 â”‚   async def _acompletion(                                                                                                                                                                                                 â”‚
           â”‚    822 â”‚   â”‚   self, model: str, messages: List[Dict[str, str]], **kwargs                                                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:795 in acompletion                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚    792 â”‚   â”‚   â”‚   if request_priority is not None and isinstance(request_priority, int):                                                                                                                                          â”‚
           â”‚    793 â”‚   â”‚   â”‚   â”‚   response = await self.schedule_acompletion(**kwargs)                                                                                                                                                        â”‚
           â”‚    794 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                           â”‚
           â”‚ â±  795 â”‚   â”‚   â”‚   â”‚   response = await self.async_function_with_fallbacks(**kwargs)                                                                                                                                               â”‚
           â”‚    796 â”‚   â”‚   â”‚   end_time = time.time()                                                                                                                                                                                          â”‚
           â”‚    797 â”‚   â”‚   â”‚   _duration = end_time - start_time                                                                                                                                                                               â”‚
           â”‚    798 â”‚   â”‚   â”‚   asyncio.create_task(                                                                                                                                                                                            â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2792 in async_function_with_fallbacks                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   2789 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                   â”‚
           â”‚   2790 â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                       â”‚
           â”‚   2791 â”‚   â”‚   â”‚                                                                                                                                                                                                                   â”‚
           â”‚ â± 2792 â”‚   â”‚   â”‚   raise original_exception                                                                                                                                                                                        â”‚
           â”‚   2793 â”‚                                                                                                                                                                                                                           â”‚
           â”‚   2794 â”‚   def _handle_mock_testing_fallbacks(                                                                                                                                                                                     â”‚
           â”‚   2795 â”‚   â”‚   self,                                                                                                                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2628 in async_function_with_fallbacks                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   2625 â”‚   â”‚   â”‚   â”‚   content_policy_fallbacks=content_policy_fallbacks,                                                                                                                                                          â”‚
           â”‚   2626 â”‚   â”‚   â”‚   )                                                                                                                                                                                                               â”‚
           â”‚   2627 â”‚   â”‚   â”‚                                                                                                                                                                                                                   â”‚
           â”‚ â± 2628 â”‚   â”‚   â”‚   response = await self.async_function_with_retries(*args, **kwargs)                                                                                                                                              â”‚
           â”‚   2629 â”‚   â”‚   â”‚   verbose_router_logger.debug(f"Async Response: {response}")                                                                                                                                                      â”‚
           â”‚   2630 â”‚   â”‚   â”‚   return response                                                                                                                                                                                                 â”‚
           â”‚   2631 â”‚   â”‚   except Exception as e:                                                                                                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2964 in async_function_with_retries                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   2961 â”‚   â”‚   â”‚   â”‚   setattr(original_exception, "max_retries", num_retries)                                                                                                                                                     â”‚
           â”‚   2962 â”‚   â”‚   â”‚   â”‚   setattr(original_exception, "num_retries", current_attempt)                                                                                                                                                 â”‚
           â”‚   2963 â”‚   â”‚   â”‚                                                                                                                                                                                                                   â”‚
           â”‚ â± 2964 â”‚   â”‚   â”‚   raise original_exception                                                                                                                                                                                        â”‚
           â”‚   2965 â”‚                                                                                                                                                                                                                           â”‚
           â”‚   2966 â”‚   async def make_call(self, original_function: Any, *args, **kwargs):                                                                                                                                                     â”‚
           â”‚   2967 â”‚   â”‚   """                                                                                                                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2876 in async_function_with_retries                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   2873 â”‚   â”‚   â”‚   â”‚   model_group=model_group, kwargs=kwargs                                                                                                                                                                      â”‚
           â”‚   2874 â”‚   â”‚   â”‚   )                                                                                                                                                                                                               â”‚
           â”‚   2875 â”‚   â”‚   â”‚   # if the function call is successful, no exception will be raised and we'll                                                                                                                                     â”‚
           â”‚        break out of the loop                                                                                                                                                                                                       â”‚
           â”‚ â± 2876 â”‚   â”‚   â”‚   response = await self.make_call(original_function, *args, **kwargs)                                                                                                                                             â”‚
           â”‚   2877 â”‚   â”‚   â”‚                                                                                                                                                                                                                   â”‚
           â”‚   2878 â”‚   â”‚   â”‚   return response                                                                                                                                                                                                 â”‚
           â”‚   2879 â”‚   â”‚   except Exception as e:                                                                                                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2973 in make_call                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   2970 â”‚   â”‚   model_group = kwargs.get("model")                                                                                                                                                                                   â”‚
           â”‚   2971 â”‚   â”‚   response = original_function(*args, **kwargs)                                                                                                                                                                       â”‚
           â”‚   2972 â”‚   â”‚   if inspect.iscoroutinefunction(response) or inspect.isawaitable(response):                                                                                                                                          â”‚
           â”‚ â± 2973 â”‚   â”‚   â”‚   response = await response                                                                                                                                                                                       â”‚
           â”‚   2974 â”‚   â”‚   ## PROCESS RESPONSE HEADERS                                                                                                                                                                                         â”‚
           â”‚   2975 â”‚   â”‚   await self.set_response_headers(response=response, model_group=model_group)                                                                                                                                         â”‚
           â”‚   2976                                                                                                                                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:949 in _acompletion                                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚    946 â”‚   â”‚   â”‚   )                                                                                                                                                                                                               â”‚
           â”‚    947 â”‚   â”‚   â”‚   if model_name is not None:                                                                                                                                                                                      â”‚
           â”‚    948 â”‚   â”‚   â”‚   â”‚   self.fail_calls[model_name] += 1                                                                                                                                                                            â”‚
           â”‚ â±  949 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                         â”‚
           â”‚    950 â”‚                                                                                                                                                                                                                           â”‚
           â”‚    951 â”‚   def _update_kwargs_with_default_litellm_params(self, kwargs: dict) -> None:                                                                                                                                             â”‚
           â”‚    952 â”‚   â”‚   """                                                                                                                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:917 in _acompletion                                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚    914 â”‚   â”‚   â”‚   â”‚   â”‚   parent_otel_span=parent_otel_span,                                                                                                                                                                      â”‚
           â”‚    915 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                           â”‚
           â”‚    916 â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                               â”‚
           â”‚ â±  917 â”‚   â”‚   â”‚   â”‚   response = await _response                                                                                                                                                                                  â”‚
           â”‚    918 â”‚   â”‚   â”‚                                                                                                                                                                                                                   â”‚
           â”‚    919 â”‚   â”‚   â”‚   ## CHECK CONTENT FILTER ERROR ##                                                                                                                                                                                â”‚
           â”‚    920 â”‚   â”‚   â”‚   if isinstance(response, ModelResponse):                                                                                                                                                                         â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/utils.py:1174 in wrapper_async                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   1171 â”‚   â”‚   â”‚   â”‚   â”‚   else:                                                                                                                                                                                                   â”‚
           â”‚   1172 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   kwargs["model"] = context_window_fallback_dict[model]                                                                                                                                               â”‚
           â”‚   1173 â”‚   â”‚   â”‚   â”‚   â”‚   return await original_function(*args, **kwargs)                                                                                                                                                         â”‚
           â”‚ â± 1174 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                         â”‚
           â”‚   1175 â”‚                                                                                                                                                                                                                           â”‚
           â”‚   1176 â”‚   is_coroutine = inspect.iscoroutinefunction(original_function)                                                                                                                                                           â”‚
           â”‚   1177                                                                                                                                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/utils.py:1030 in wrapper_async                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   1027 â”‚   â”‚   â”‚   â”‚   return _caching_handler_response.final_embedding_cached_response                                                                                                                                            â”‚
           â”‚   1028 â”‚   â”‚   â”‚                                                                                                                                                                                                                   â”‚
           â”‚   1029 â”‚   â”‚   â”‚   # MODEL CALL                                                                                                                                                                                                    â”‚
           â”‚ â± 1030 â”‚   â”‚   â”‚   result = await original_function(*args, **kwargs)                                                                                                                                                               â”‚
           â”‚   1031 â”‚   â”‚   â”‚   end_time = datetime.datetime.now()                                                                                                                                                                              â”‚
           â”‚   1032 â”‚   â”‚   â”‚   if "stream" in kwargs and kwargs["stream"] is True:                                                                                                                                                             â”‚
           â”‚   1033 â”‚   â”‚   â”‚   â”‚   if (                                                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py:499 in acompletion                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚    496 â”‚   â”‚   return response                                                                                                                                                                                                     â”‚
           â”‚    497 â”‚   except Exception as e:                                                                                                                                                                                                  â”‚
           â”‚    498 â”‚   â”‚   custom_llm_provider = custom_llm_provider or "openai"                                                                                                                                                               â”‚
           â”‚ â±  499 â”‚   â”‚   raise exception_type(                                                                                                                                                                                               â”‚
           â”‚    500 â”‚   â”‚   â”‚   model=model,                                                                                                                                                                                                    â”‚
           â”‚    501 â”‚   â”‚   â”‚   custom_llm_provider=custom_llm_provider,                                                                                                                                                                        â”‚
           â”‚    502 â”‚   â”‚   â”‚   original_exception=e,                                                                                                                                                                                           â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/litellm_core_utils/exception_mapping_utils.py:2122 in exception_type                                                                              â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   2119 â”‚   â”‚   # don't let an error with mapping interrupt the user from receiving an error                                                                                                                                        â”‚
           â”‚        from the llm api calls                                                                                                                                                                                                      â”‚
           â”‚   2120 â”‚   â”‚   if exception_mapping_worked:                                                                                                                                                                                        â”‚
           â”‚   2121 â”‚   â”‚   â”‚   setattr(e, "litellm_response_headers", litellm_response_headers)                                                                                                                                                â”‚
           â”‚ â± 2122 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                         â”‚
           â”‚   2123 â”‚   â”‚   else:                                                                                                                                                                                                               â”‚
           â”‚   2124 â”‚   â”‚   â”‚   for error_type in litellm.LITELLM_EXCEPTION_TYPES:                                                                                                                                                              â”‚
           â”‚   2125 â”‚   â”‚   â”‚   â”‚   if isinstance(e, error_type):                                                                                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/litellm_core_utils/exception_mapping_utils.py:2098 in exception_type                                                                              â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   2095 â”‚   â”‚   â”‚   â”‚   â”‚   request=original_exception.request,                                                                                                                                                                     â”‚
           â”‚   2096 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                           â”‚
           â”‚   2097 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                           â”‚
           â”‚ â± 2098 â”‚   â”‚   â”‚   â”‚   raise APIConnectionError(                                                                                                                                                                                   â”‚
           â”‚   2099 â”‚   â”‚   â”‚   â”‚   â”‚   message="{}\n{}".format(                                                                                                                                                                                â”‚
           â”‚   2100 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   str(original_exception), traceback.format_exc()                                                                                                                                                     â”‚
           â”‚   2101 â”‚   â”‚   â”‚   â”‚   â”‚   ),                                                                                                                                                                                                      â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           APIConnectionError: litellm.APIConnectionError: Cannot connect to host localhost:11444 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11444, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11444)]  
           Traceback (most recent call last):                                                                                                                                                                                                    
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1109, in _wrap_create_connection                                                                                         
               sock = await aiohappyeyeballs.start_connection(                                                                                                                                                                                   
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                   
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohappyeyeballs/impl.py", line 123, in start_connection                                                                                             
               raise OSError(first_errno, msg)                                                                                                                                                                                                   
           ConnectionRefusedError: [Errno 111] Multiple exceptions: [Errno 111] Connect call failed ('::1', 11444, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11444)                                                                   
                                                                                                                                                                                                                                                 
           The above exception was the direct cause of the following exception:                                                                                                                                                                  
                                                                                                                                                                                                                                                 
           Traceback (most recent call last):                                                                                                                                                                                                    
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py", line 477, in acompletion                                                                                                           
               response = await init_response                                                                                                                                                                                                    
                          ^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                                    
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py", line 564, in ollama_acompletion                                                                                             
               raise e  # don't use verbose_logger.exception, if exception is raised                                                                                                                                                             
               ^^^^^^^                                                                                                                                                                                                                           
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py", line 505, in ollama_acompletion                                                                                             
               resp = await session.post(url, json=data)                                                                                                                                                                                         
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                         
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/client.py", line 696, in _request                                                                                                            
               conn = await self._connector.connect(                                                                                                                                                                                             
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 544, in connect                                                                                                          
               proto = await self._create_connection(req, traces, timeout)                                                                                                                                                                       
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                       
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1050, in _create_connection                                                                                              
               _, proto = await self._create_direct_connection(req, traces, timeout)                                                                                                                                                             
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1394, in _create_direct_connection                                                                                       
               raise last_exc                                                                                                                                                                                                                    
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1363, in _create_direct_connection                                                                                       
               transp, proto = await self._wrap_create_connection(                                                                                                                                                                               
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                               
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1124, in _wrap_create_connection                                                                                         
               raise client_error(req.connection_key, exc) from exc                                                                                                                                                                              
           aiohttp.client_exceptions.ClientConnectorError: Cannot connect to host localhost:11444 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11444, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11444)]  
                                                                                                                                                                                                                                                 
           Received Model Group=ollama/llama3.1                                                                                                                                                                                                  
           Available Model Group Fallbacks=None LiteLLM Retried: 2 times, LiteLLM Max Retries: 3                                                                                                                                                 
[22:51:28] Answer:                                                                                                                                                                                                                               

[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.

Error processing question 34: litellm.APIConnectionError: Cannot connect to host localhost:11444 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11444, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11444)]
Traceback (most recent call last):
  File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1109, in _wrap_create_connection
    sock = await aiohappyeyeballs.start_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohappyeyeballs/impl.py", line 123, in start_connection
    raise OSError(first_errno, msg)
ConnectionRefusedError: [Errno 111] Multiple exceptions: [Errno 111] Connect call failed ('::1', 11444, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11444)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py", line 477, in acompletion
    response = await init_response
               ^^^^^^^^^^^^^^^^^^^
  File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py", line 564, in ollama_acompletion
    raise e  # don't use verbose_logger.exception, if exception is raised
    ^^^^^^^
  File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py", line 505, in ollama_acompletion
    resp = await session.post(url, json=data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/client.py", line 696, in _request
    conn = await self._connector.connect(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 544, in connect
    proto = await self._create_connection(req, traces, timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1050, in _create_connection
    _, proto = await self._create_direct_connection(req, traces, timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1394, in _create_direct_connection
    raise last_exc
  File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1363, in _create_direct_connection
    transp, proto = await self._wrap_create_connection(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1124, in _wrap_create_connection
    raise client_error(req.connection_key, exc) from exc
aiohttp.client_exceptions.ClientConnectorError: Cannot connect to host localhost:11444 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11444, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11444)]

Received Model Group=ollama/llama3.1
Available Model Group Fallbacks=None LiteLLM Retried: 2 times, LiteLLM Max Retries: 3
Processing question 38


 ANSWERING QUESTION: 38
 ----------------------------- 



[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.

[22:52:08] Trajectory failed.                                                                                                                                                                                                                    
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1109 in _wrap_create_connection                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   1106 â”‚   â”‚   â”‚   async with ceil_timeout(                                                                                                                                                                                        â”‚
           â”‚   1107 â”‚   â”‚   â”‚   â”‚   timeout.sock_connect, ceil_threshold=timeout.ceil_threshold                                                                                                                                                 â”‚
           â”‚   1108 â”‚   â”‚   â”‚   ):                                                                                                                                                                                                              â”‚
           â”‚ â± 1109 â”‚   â”‚   â”‚   â”‚   sock = await aiohappyeyeballs.start_connection(                                                                                                                                                             â”‚
           â”‚   1110 â”‚   â”‚   â”‚   â”‚   â”‚   addr_infos=addr_infos,                                                                                                                                                                                  â”‚
           â”‚   1111 â”‚   â”‚   â”‚   â”‚   â”‚   local_addr_infos=self._local_addr_infos,                                                                                                                                                                â”‚
           â”‚   1112 â”‚   â”‚   â”‚   â”‚   â”‚   happy_eyeballs_delay=self._happy_eyeballs_delay,                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohappyeyeballs/impl.py:123 in start_connection                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   120 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   isinstance(exc, OSError) and exc.errno == first_errno                                                                                                                                                â”‚
           â”‚   121 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   for exc in all_exceptions                                                                                                                                                                            â”‚
           â”‚   122 â”‚   â”‚   â”‚   â”‚   â”‚   ):                                                                                                                                                                                                       â”‚
           â”‚ â± 123 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   raise OSError(first_errno, msg)                                                                                                                                                                      â”‚
           â”‚   124 â”‚   â”‚   â”‚   â”‚   elif isinstance(first_exception, RuntimeError) and all(                                                                                                                                                      â”‚
           â”‚   125 â”‚   â”‚   â”‚   â”‚   â”‚   isinstance(exc, RuntimeError) for exc in all_exceptions                                                                                                                                                  â”‚
           â”‚   126 â”‚   â”‚   â”‚   â”‚   ):                                                                                                                                                                                                           â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           ConnectionRefusedError: [Errno 111] Multiple exceptions: [Errno 111] Connect call failed ('::1', 11444, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11444)                                                                   
                                                                                                                                                                                                                                                 
           The above exception was the direct cause of the following exception:                                                                                                                                                                  
                                                                                                                                                                                                                                                 
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py:477 in acompletion                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚    474 â”‚   â”‚   â”‚   â”‚   â”‚   response = ModelResponse(**init_response)                                                                                                                                                               â”‚
           â”‚    475 â”‚   â”‚   â”‚   â”‚   response = init_response                                                                                                                                                                                    â”‚
           â”‚    476 â”‚   â”‚   â”‚   elif asyncio.iscoroutine(init_response):                                                                                                                                                                        â”‚
           â”‚ â±  477 â”‚   â”‚   â”‚   â”‚   response = await init_response                                                                                                                                                                              â”‚
           â”‚    478 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                           â”‚
           â”‚    479 â”‚   â”‚   â”‚   â”‚   response = init_response  # type: ignore                                                                                                                                                                    â”‚
           â”‚    480                                                                                                                                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py:564 in ollama_acompletion                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   561 â”‚   â”‚   â”‚   )                                                                                                                                                                                                                â”‚
           â”‚   562 â”‚   â”‚   â”‚   return model_response                                                                                                                                                                                            â”‚
           â”‚   563 â”‚   except Exception as e:                                                                                                                                                                                                   â”‚
           â”‚ â± 564 â”‚   â”‚   raise e  # don't use verbose_logger.exception, if exception is raised                                                                                                                                                â”‚
           â”‚   565                                                                                                                                                                                                                              â”‚
           â”‚   566                                                                                                                                                                                                                              â”‚
           â”‚   567 async def ollama_aembeddings(                                                                                                                                                                                                â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py:505 in ollama_acompletion                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   502 â”‚   try:                                                                                                                                                                                                                     â”‚
           â”‚   503 â”‚   â”‚   timeout = aiohttp.ClientTimeout(total=litellm.request_timeout)  # 10 minutes                                                                                                                                         â”‚
           â”‚   504 â”‚   â”‚   async with aiohttp.ClientSession(timeout=timeout) as session:                                                                                                                                                        â”‚
           â”‚ â± 505 â”‚   â”‚   â”‚   resp = await session.post(url, json=data)                                                                                                                                                                        â”‚
           â”‚   506 â”‚   â”‚   â”‚                                                                                                                                                                                                                    â”‚
           â”‚   507 â”‚   â”‚   â”‚   if resp.status != 200:                                                                                                                                                                                           â”‚
           â”‚   508 â”‚   â”‚   â”‚   â”‚   text = await resp.text()                                                                                                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/client.py:696 in _request                                                                                                                         â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚    693 â”‚   â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                           â”‚
           â”‚    694 â”‚   â”‚   â”‚   â”‚   â”‚   # connection timeout                                                                                                                                                                                    â”‚
           â”‚    695 â”‚   â”‚   â”‚   â”‚   â”‚   try:                                                                                                                                                                                                    â”‚
           â”‚ â±  696 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   conn = await self._connector.connect(                                                                                                                                                               â”‚
           â”‚    697 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   req, traces=traces, timeout=real_timeout                                                                                                                                                        â”‚
           â”‚    698 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                   â”‚
           â”‚    699 â”‚   â”‚   â”‚   â”‚   â”‚   except asyncio.TimeoutError as exc:                                                                                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:544 in connect                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚    541 â”‚   â”‚   â”‚   â”‚   if traces:                                                                                                                                                                                                  â”‚
           â”‚    542 â”‚   â”‚   â”‚   â”‚   â”‚   for trace in traces:                                                                                                                                                                                    â”‚
           â”‚    543 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   await trace.send_connection_create_start()                                                                                                                                                          â”‚
           â”‚ â±  544 â”‚   â”‚   â”‚   â”‚   proto = await self._create_connection(req, traces, timeout)                                                                                                                                                 â”‚
           â”‚    545 â”‚   â”‚   â”‚   â”‚   if traces:                                                                                                                                                                                                  â”‚
           â”‚    546 â”‚   â”‚   â”‚   â”‚   â”‚   for trace in traces:                                                                                                                                                                                    â”‚
           â”‚    547 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   await trace.send_connection_create_end()                                                                                                                                                            â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1050 in _create_connection                                                                                                           â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   1047 â”‚   â”‚   if req.proxy:                                                                                                                                                                                                       â”‚
           â”‚   1048 â”‚   â”‚   â”‚   _, proto = await self._create_proxy_connection(req, traces, timeout)                                                                                                                                            â”‚
           â”‚   1049 â”‚   â”‚   else:                                                                                                                                                                                                               â”‚
           â”‚ â± 1050 â”‚   â”‚   â”‚   _, proto = await self._create_direct_connection(req, traces, timeout)                                                                                                                                           â”‚
           â”‚   1051 â”‚   â”‚                                                                                                                                                                                                                       â”‚
           â”‚   1052 â”‚   â”‚   return proto                                                                                                                                                                                                        â”‚
           â”‚   1053                                                                                                                                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1394 in _create_direct_connection                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   1391 â”‚   â”‚   â”‚   return transp, proto                                                                                                                                                                                            â”‚
           â”‚   1392 â”‚   â”‚   else:                                                                                                                                                                                                               â”‚
           â”‚   1393 â”‚   â”‚   â”‚   assert last_exc is not None                                                                                                                                                                                     â”‚
           â”‚ â± 1394 â”‚   â”‚   â”‚   raise last_exc                                                                                                                                                                                                  â”‚
           â”‚   1395 â”‚                                                                                                                                                                                                                           â”‚
           â”‚   1396 â”‚   async def _create_proxy_connection(                                                                                                                                                                                     â”‚
           â”‚   1397 â”‚   â”‚   self, req: ClientRequest, traces: List["Trace"], timeout: "ClientTimeout"                                                                                                                                           â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1363 in _create_direct_connection                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   1360 â”‚   â”‚   â”‚   )                                                                                                                                                                                                               â”‚
           â”‚   1361 â”‚   â”‚   â”‚                                                                                                                                                                                                                   â”‚
           â”‚   1362 â”‚   â”‚   â”‚   try:                                                                                                                                                                                                            â”‚
           â”‚ â± 1363 â”‚   â”‚   â”‚   â”‚   transp, proto = await self._wrap_create_connection(                                                                                                                                                         â”‚
           â”‚   1364 â”‚   â”‚   â”‚   â”‚   â”‚   self._factory,                                                                                                                                                                                          â”‚
           â”‚   1365 â”‚   â”‚   â”‚   â”‚   â”‚   timeout=timeout,                                                                                                                                                                                        â”‚
           â”‚   1366 â”‚   â”‚   â”‚   â”‚   â”‚   ssl=sslcontext,                                                                                                                                                                                         â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py:1124 in _wrap_create_connection                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   1121 â”‚   â”‚   except OSError as exc:                                                                                                                                                                                              â”‚
           â”‚   1122 â”‚   â”‚   â”‚   if exc.errno is None and isinstance(exc, asyncio.TimeoutError):                                                                                                                                                 â”‚
           â”‚   1123 â”‚   â”‚   â”‚   â”‚   raise                                                                                                                                                                                                       â”‚
           â”‚ â± 1124 â”‚   â”‚   â”‚   raise client_error(req.connection_key, exc) from exc                                                                                                                                                            â”‚
           â”‚   1125 â”‚                                                                                                                                                                                                                           â”‚
           â”‚   1126 â”‚   async def _wrap_existing_connection(                                                                                                                                                                                    â”‚
           â”‚   1127 â”‚   â”‚   self,                                                                                                                                                                                                               â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           ClientConnectorError: Cannot connect to host localhost:11444 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11444, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11444)]                            
                                                                                                                                                                                                                                                 
           During handling of the above exception, another exception occurred:                                                                                                                                                                   
                                                                                                                                                                                                                                                 
           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:276 in _run_with_timeout_failure                                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   273 ) -> tuple[PQASession, AgentStatus]:                                                                                                                                                                                         â”‚
           â”‚   274 â”‚   try:                                                                                                                                                                                                                     â”‚
           â”‚   275 â”‚   â”‚   async with asyncio.timeout(query.settings.agent.timeout):                                                                                                                                                            â”‚
           â”‚ â± 276 â”‚   â”‚   â”‚   status = await rollout()                                                                                                                                                                                         â”‚
           â”‚   277 â”‚   except TimeoutError:                                                                                                                                                                                                     â”‚
           â”‚   278 â”‚   â”‚   logger.warning(                                                                                                                                                                                                      â”‚
           â”‚   279 â”‚   â”‚   â”‚   f"Agent timeout after {query.settings.agent.timeout}-sec, just answering."                                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:410 in rollout                                                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   407 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                            â”‚
           â”‚   408 â”‚   â”‚   â”‚   â”‚   return AgentStatus.TRUNCATED                                                                                                                                                                                 â”‚
           â”‚   409 â”‚   â”‚   â”‚   agent_state.messages += obs                                                                                                                                                                                      â”‚
           â”‚ â± 410 â”‚   â”‚   â”‚   for attempt in Retrying(                                                                                                                                                                                         â”‚
           â”‚   411 â”‚   â”‚   â”‚   â”‚   stop=stop_after_attempt(5),                                                                                                                                                                                  â”‚
           â”‚   412 â”‚   â”‚   â”‚   â”‚   retry=retry_if_exception_type(MalformedMessageError),                                                                                                                                                        â”‚
           â”‚   413 â”‚   â”‚   â”‚   â”‚   before_sleep=before_sleep_log(logger, logging.WARNING),                                                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:443 in __iter__                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   440 â”‚   â”‚                                                                                                                                                                                                                        â”‚
           â”‚   441 â”‚   â”‚   retry_state = RetryCallState(self, fn=None, args=(), kwargs={})                                                                                                                                                      â”‚
           â”‚   442 â”‚   â”‚   while True:                                                                                                                                                                                                          â”‚
           â”‚ â± 443 â”‚   â”‚   â”‚   do = self.iter(retry_state=retry_state)                                                                                                                                                                          â”‚
           â”‚   444 â”‚   â”‚   â”‚   if isinstance(do, DoAttempt):                                                                                                                                                                                    â”‚
           â”‚   445 â”‚   â”‚   â”‚   â”‚   yield AttemptManager(retry_state=retry_state)                                                                                                                                                                â”‚
           â”‚   446 â”‚   â”‚   â”‚   elif isinstance(do, DoSleep):                                                                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:376 in iter                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   373 â”‚   â”‚   self._begin_iter(retry_state)                                                                                                                                                                                        â”‚
           â”‚   374 â”‚   â”‚   result = None                                                                                                                                                                                                        â”‚
           â”‚   375 â”‚   â”‚   for action in self.iter_state.actions:                                                                                                                                                                               â”‚
           â”‚ â± 376 â”‚   â”‚   â”‚   result = action(retry_state)                                                                                                                                                                                     â”‚
           â”‚   377 â”‚   â”‚   return result                                                                                                                                                                                                        â”‚
           â”‚   378 â”‚                                                                                                                                                                                                                            â”‚
           â”‚   379 â”‚   def _begin_iter(self, retry_state: "RetryCallState") -> None:  # noqa                                                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/tenacity/__init__.py:398 in <lambda>                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   395 â”‚                                                                                                                                                                                                                            â”‚
           â”‚   396 â”‚   def _post_retry_check_actions(self, retry_state: "RetryCallState") -> None:                                                                                                                                              â”‚
           â”‚   397 â”‚   â”‚   if not (self.iter_state.is_explicit_retry or self.iter_state.retry_run_result):                                                                                                                                      â”‚
           â”‚ â± 398 â”‚   â”‚   â”‚   self._add_action_func(lambda rs: rs.outcome.result())                                                                                                                                                            â”‚
           â”‚   399 â”‚   â”‚   â”‚   return                                                                                                                                                                                                           â”‚
           â”‚   400 â”‚   â”‚                                                                                                                                                                                                                        â”‚
           â”‚   401 â”‚   â”‚   if self.after is not None:                                                                                                                                                                                           â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/concurrent/futures/_base.py:449 in result                                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   446 â”‚   â”‚   â”‚   â”‚   if self._state in [CANCELLED, CANCELLED_AND_NOTIFIED]:                                                                                                                                                       â”‚
           â”‚   447 â”‚   â”‚   â”‚   â”‚   â”‚   raise CancelledError()                                                                                                                                                                                   â”‚
           â”‚   448 â”‚   â”‚   â”‚   â”‚   elif self._state == FINISHED:                                                                                                                                                                                â”‚
           â”‚ â± 449 â”‚   â”‚   â”‚   â”‚   â”‚   return self.__get_result()                                                                                                                                                                               â”‚
           â”‚   450 â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                                â”‚
           â”‚   451 â”‚   â”‚   â”‚   â”‚   self._condition.wait(timeout)                                                                                                                                                                                â”‚
           â”‚   452                                                                                                                                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/concurrent/futures/_base.py:401 in __get_result                                                                                                                         â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   398 â”‚   def __get_result(self):                                                                                                                                                                                                  â”‚
           â”‚   399 â”‚   â”‚   if self._exception:                                                                                                                                                                                                  â”‚
           â”‚   400 â”‚   â”‚   â”‚   try:                                                                                                                                                                                                             â”‚
           â”‚ â± 401 â”‚   â”‚   â”‚   â”‚   raise self._exception                                                                                                                                                                                        â”‚
           â”‚   402 â”‚   â”‚   â”‚   finally:                                                                                                                                                                                                         â”‚
           â”‚   403 â”‚   â”‚   â”‚   â”‚   # Break a reference cycle with the exception in self._exception                                                                                                                                              â”‚
           â”‚   404 â”‚   â”‚   â”‚   â”‚   self = None                                                                                                                                                                                                  â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /storage/ice1/6/7/lpimentel3/cRAG/paper-qa/paperqa/agents/main.py:417 in rollout                                                                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   414 â”‚   â”‚   â”‚   â”‚   reraise=True,                                                                                                                                                                                                â”‚
           â”‚   415 â”‚   â”‚   â”‚   ):                                                                                                                                                                                                               â”‚
           â”‚   416 â”‚   â”‚   â”‚   â”‚   with attempt:  # Retrying if ToolSelector fails to select a tool                                                                                                                                             â”‚
           â”‚ â± 417 â”‚   â”‚   â”‚   â”‚   â”‚   action = await agent(agent_state.messages, tools)                                                                                                                                                        â”‚
           â”‚   418 â”‚   â”‚   â”‚   agent_state.messages = [*agent_state.messages, action]                                                                                                                                                           â”‚
           â”‚   419 â”‚   â”‚   â”‚   if on_agent_action_callback:                                                                                                                                                                                     â”‚
           â”‚   420 â”‚   â”‚   â”‚   â”‚   await on_agent_action_callback(action, agent_state)                                                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aviary/tools/utils.py:182 in __call__                                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   179 â”‚   â”‚   â”‚   self._ledger.messages.extend(messages)                                                                                                                                                                           â”‚
           â”‚   180 â”‚   â”‚   â”‚   messages = self._ledger.messages                                                                                                                                                                                 â”‚
           â”‚   181 â”‚   â”‚                                                                                                                                                                                                                        â”‚
           â”‚ â± 182 â”‚   â”‚   model_response = await self._bound_acompletion(                                                                                                                                                                      â”‚
           â”‚   183 â”‚   â”‚   â”‚   messages=MessagesAdapter.dump_python(                                                                                                                                                                            â”‚
           â”‚   184 â”‚   â”‚   â”‚   â”‚   messages, exclude_none=True, by_alias=True                                                                                                                                                                   â”‚
           â”‚   185 â”‚   â”‚   â”‚   ),                                                                                                                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:819 in acompletion                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚    816 â”‚   â”‚   â”‚   â”‚   â”‚   original_exception=e,                                                                                                                                                                                   â”‚
           â”‚    817 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                           â”‚
           â”‚    818 â”‚   â”‚   â”‚   )                                                                                                                                                                                                               â”‚
           â”‚ â±  819 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                         â”‚
           â”‚    820 â”‚                                                                                                                                                                                                                           â”‚
           â”‚    821 â”‚   async def _acompletion(                                                                                                                                                                                                 â”‚
           â”‚    822 â”‚   â”‚   self, model: str, messages: List[Dict[str, str]], **kwargs                                                                                                                                                          â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:795 in acompletion                                                                                                                      â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚    792 â”‚   â”‚   â”‚   if request_priority is not None and isinstance(request_priority, int):                                                                                                                                          â”‚
           â”‚    793 â”‚   â”‚   â”‚   â”‚   response = await self.schedule_acompletion(**kwargs)                                                                                                                                                        â”‚
           â”‚    794 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                           â”‚
           â”‚ â±  795 â”‚   â”‚   â”‚   â”‚   response = await self.async_function_with_fallbacks(**kwargs)                                                                                                                                               â”‚
           â”‚    796 â”‚   â”‚   â”‚   end_time = time.time()                                                                                                                                                                                          â”‚
           â”‚    797 â”‚   â”‚   â”‚   _duration = end_time - start_time                                                                                                                                                                               â”‚
           â”‚    798 â”‚   â”‚   â”‚   asyncio.create_task(                                                                                                                                                                                            â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2792 in async_function_with_fallbacks                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   2789 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                   â”‚
           â”‚   2790 â”‚   â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                       â”‚
           â”‚   2791 â”‚   â”‚   â”‚                                                                                                                                                                                                                   â”‚
           â”‚ â± 2792 â”‚   â”‚   â”‚   raise original_exception                                                                                                                                                                                        â”‚
           â”‚   2793 â”‚                                                                                                                                                                                                                           â”‚
           â”‚   2794 â”‚   def _handle_mock_testing_fallbacks(                                                                                                                                                                                     â”‚
           â”‚   2795 â”‚   â”‚   self,                                                                                                                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2628 in async_function_with_fallbacks                                                                                                   â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   2625 â”‚   â”‚   â”‚   â”‚   content_policy_fallbacks=content_policy_fallbacks,                                                                                                                                                          â”‚
           â”‚   2626 â”‚   â”‚   â”‚   )                                                                                                                                                                                                               â”‚
           â”‚   2627 â”‚   â”‚   â”‚                                                                                                                                                                                                                   â”‚
           â”‚ â± 2628 â”‚   â”‚   â”‚   response = await self.async_function_with_retries(*args, **kwargs)                                                                                                                                              â”‚
           â”‚   2629 â”‚   â”‚   â”‚   verbose_router_logger.debug(f"Async Response: {response}")                                                                                                                                                      â”‚
           â”‚   2630 â”‚   â”‚   â”‚   return response                                                                                                                                                                                                 â”‚
           â”‚   2631 â”‚   â”‚   except Exception as e:                                                                                                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2964 in async_function_with_retries                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   2961 â”‚   â”‚   â”‚   â”‚   setattr(original_exception, "max_retries", num_retries)                                                                                                                                                     â”‚
           â”‚   2962 â”‚   â”‚   â”‚   â”‚   setattr(original_exception, "num_retries", current_attempt)                                                                                                                                                 â”‚
           â”‚   2963 â”‚   â”‚   â”‚                                                                                                                                                                                                                   â”‚
           â”‚ â± 2964 â”‚   â”‚   â”‚   raise original_exception                                                                                                                                                                                        â”‚
           â”‚   2965 â”‚                                                                                                                                                                                                                           â”‚
           â”‚   2966 â”‚   async def make_call(self, original_function: Any, *args, **kwargs):                                                                                                                                                     â”‚
           â”‚   2967 â”‚   â”‚   """                                                                                                                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2876 in async_function_with_retries                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   2873 â”‚   â”‚   â”‚   â”‚   model_group=model_group, kwargs=kwargs                                                                                                                                                                      â”‚
           â”‚   2874 â”‚   â”‚   â”‚   )                                                                                                                                                                                                               â”‚
           â”‚   2875 â”‚   â”‚   â”‚   # if the function call is successful, no exception will be raised and we'll                                                                                                                                     â”‚
           â”‚        break out of the loop                                                                                                                                                                                                       â”‚
           â”‚ â± 2876 â”‚   â”‚   â”‚   response = await self.make_call(original_function, *args, **kwargs)                                                                                                                                             â”‚
           â”‚   2877 â”‚   â”‚   â”‚                                                                                                                                                                                                                   â”‚
           â”‚   2878 â”‚   â”‚   â”‚   return response                                                                                                                                                                                                 â”‚
           â”‚   2879 â”‚   â”‚   except Exception as e:                                                                                                                                                                                              â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:2973 in make_call                                                                                                                       â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   2970 â”‚   â”‚   model_group = kwargs.get("model")                                                                                                                                                                                   â”‚
           â”‚   2971 â”‚   â”‚   response = original_function(*args, **kwargs)                                                                                                                                                                       â”‚
           â”‚   2972 â”‚   â”‚   if inspect.iscoroutinefunction(response) or inspect.isawaitable(response):                                                                                                                                          â”‚
           â”‚ â± 2973 â”‚   â”‚   â”‚   response = await response                                                                                                                                                                                       â”‚
           â”‚   2974 â”‚   â”‚   ## PROCESS RESPONSE HEADERS                                                                                                                                                                                         â”‚
           â”‚   2975 â”‚   â”‚   await self.set_response_headers(response=response, model_group=model_group)                                                                                                                                         â”‚
           â”‚   2976                                                                                                                                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:949 in _acompletion                                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚    946 â”‚   â”‚   â”‚   )                                                                                                                                                                                                               â”‚
           â”‚    947 â”‚   â”‚   â”‚   if model_name is not None:                                                                                                                                                                                      â”‚
           â”‚    948 â”‚   â”‚   â”‚   â”‚   self.fail_calls[model_name] += 1                                                                                                                                                                            â”‚
           â”‚ â±  949 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                         â”‚
           â”‚    950 â”‚                                                                                                                                                                                                                           â”‚
           â”‚    951 â”‚   def _update_kwargs_with_default_litellm_params(self, kwargs: dict) -> None:                                                                                                                                             â”‚
           â”‚    952 â”‚   â”‚   """                                                                                                                                                                                                                 â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/router.py:917 in _acompletion                                                                                                                     â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚    914 â”‚   â”‚   â”‚   â”‚   â”‚   parent_otel_span=parent_otel_span,                                                                                                                                                                      â”‚
           â”‚    915 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                           â”‚
           â”‚    916 â”‚   â”‚   â”‚   â”‚                                                                                                                                                                                                               â”‚
           â”‚ â±  917 â”‚   â”‚   â”‚   â”‚   response = await _response                                                                                                                                                                                  â”‚
           â”‚    918 â”‚   â”‚   â”‚                                                                                                                                                                                                                   â”‚
           â”‚    919 â”‚   â”‚   â”‚   ## CHECK CONTENT FILTER ERROR ##                                                                                                                                                                                â”‚
           â”‚    920 â”‚   â”‚   â”‚   if isinstance(response, ModelResponse):                                                                                                                                                                         â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/utils.py:1174 in wrapper_async                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   1171 â”‚   â”‚   â”‚   â”‚   â”‚   else:                                                                                                                                                                                                   â”‚
           â”‚   1172 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   kwargs["model"] = context_window_fallback_dict[model]                                                                                                                                               â”‚
           â”‚   1173 â”‚   â”‚   â”‚   â”‚   â”‚   return await original_function(*args, **kwargs)                                                                                                                                                         â”‚
           â”‚ â± 1174 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                         â”‚
           â”‚   1175 â”‚                                                                                                                                                                                                                           â”‚
           â”‚   1176 â”‚   is_coroutine = inspect.iscoroutinefunction(original_function)                                                                                                                                                           â”‚
           â”‚   1177                                                                                                                                                                                                                             â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/utils.py:1030 in wrapper_async                                                                                                                    â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   1027 â”‚   â”‚   â”‚   â”‚   return _caching_handler_response.final_embedding_cached_response                                                                                                                                            â”‚
           â”‚   1028 â”‚   â”‚   â”‚                                                                                                                                                                                                                   â”‚
           â”‚   1029 â”‚   â”‚   â”‚   # MODEL CALL                                                                                                                                                                                                    â”‚
           â”‚ â± 1030 â”‚   â”‚   â”‚   result = await original_function(*args, **kwargs)                                                                                                                                                               â”‚
           â”‚   1031 â”‚   â”‚   â”‚   end_time = datetime.datetime.now()                                                                                                                                                                              â”‚
           â”‚   1032 â”‚   â”‚   â”‚   if "stream" in kwargs and kwargs["stream"] is True:                                                                                                                                                             â”‚
           â”‚   1033 â”‚   â”‚   â”‚   â”‚   if (                                                                                                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py:499 in acompletion                                                                                                                        â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚    496 â”‚   â”‚   return response                                                                                                                                                                                                     â”‚
           â”‚    497 â”‚   except Exception as e:                                                                                                                                                                                                  â”‚
           â”‚    498 â”‚   â”‚   custom_llm_provider = custom_llm_provider or "openai"                                                                                                                                                               â”‚
           â”‚ â±  499 â”‚   â”‚   raise exception_type(                                                                                                                                                                                               â”‚
           â”‚    500 â”‚   â”‚   â”‚   model=model,                                                                                                                                                                                                    â”‚
           â”‚    501 â”‚   â”‚   â”‚   custom_llm_provider=custom_llm_provider,                                                                                                                                                                        â”‚
           â”‚    502 â”‚   â”‚   â”‚   original_exception=e,                                                                                                                                                                                           â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/litellm_core_utils/exception_mapping_utils.py:2122 in exception_type                                                                              â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   2119 â”‚   â”‚   # don't let an error with mapping interrupt the user from receiving an error                                                                                                                                        â”‚
           â”‚        from the llm api calls                                                                                                                                                                                                      â”‚
           â”‚   2120 â”‚   â”‚   if exception_mapping_worked:                                                                                                                                                                                        â”‚
           â”‚   2121 â”‚   â”‚   â”‚   setattr(e, "litellm_response_headers", litellm_response_headers)                                                                                                                                                â”‚
           â”‚ â± 2122 â”‚   â”‚   â”‚   raise e                                                                                                                                                                                                         â”‚
           â”‚   2123 â”‚   â”‚   else:                                                                                                                                                                                                               â”‚
           â”‚   2124 â”‚   â”‚   â”‚   for error_type in litellm.LITELLM_EXCEPTION_TYPES:                                                                                                                                                              â”‚
           â”‚   2125 â”‚   â”‚   â”‚   â”‚   if isinstance(e, error_type):                                                                                                                                                                               â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚ /home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/litellm_core_utils/exception_mapping_utils.py:2098 in exception_type                                                                              â”‚
           â”‚                                                                                                                                                                                                                                    â”‚
           â”‚   2095 â”‚   â”‚   â”‚   â”‚   â”‚   request=original_exception.request,                                                                                                                                                                     â”‚
           â”‚   2096 â”‚   â”‚   â”‚   â”‚   )                                                                                                                                                                                                           â”‚
           â”‚   2097 â”‚   â”‚   â”‚   else:                                                                                                                                                                                                           â”‚
           â”‚ â± 2098 â”‚   â”‚   â”‚   â”‚   raise APIConnectionError(                                                                                                                                                                                   â”‚
           â”‚   2099 â”‚   â”‚   â”‚   â”‚   â”‚   message="{}\n{}".format(                                                                                                                                                                                â”‚
           â”‚   2100 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   str(original_exception), traceback.format_exc()                                                                                                                                                     â”‚
           â”‚   2101 â”‚   â”‚   â”‚   â”‚   â”‚   ),                                                                                                                                                                                                      â”‚
           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           APIConnectionError: litellm.APIConnectionError: Cannot connect to host localhost:11444 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11444, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11444)]  
           Traceback (most recent call last):                                                                                                                                                                                                    
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1109, in _wrap_create_connection                                                                                         
               sock = await aiohappyeyeballs.start_connection(                                                                                                                                                                                   
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                   
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohappyeyeballs/impl.py", line 123, in start_connection                                                                                             
               raise OSError(first_errno, msg)                                                                                                                                                                                                   
           ConnectionRefusedError: [Errno 111] Multiple exceptions: [Errno 111] Connect call failed ('::1', 11444, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11444)                                                                   
                                                                                                                                                                                                                                                 
           The above exception was the direct cause of the following exception:                                                                                                                                                                  
                                                                                                                                                                                                                                                 
           Traceback (most recent call last):                                                                                                                                                                                                    
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py", line 477, in acompletion                                                                                                           
               response = await init_response                                                                                                                                                                                                    
                          ^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                                    
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py", line 564, in ollama_acompletion                                                                                             
               raise e  # don't use verbose_logger.exception, if exception is raised                                                                                                                                                             
               ^^^^^^^                                                                                                                                                                                                                           
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py", line 505, in ollama_acompletion                                                                                             
               resp = await session.post(url, json=data)                                                                                                                                                                                         
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                         
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/client.py", line 696, in _request                                                                                                            
               conn = await self._connector.connect(                                                                                                                                                                                             
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 544, in connect                                                                                                          
               proto = await self._create_connection(req, traces, timeout)                                                                                                                                                                       
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                       
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1050, in _create_connection                                                                                              
               _, proto = await self._create_direct_connection(req, traces, timeout)                                                                                                                                                             
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                             
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1394, in _create_direct_connection                                                                                       
               raise last_exc                                                                                                                                                                                                                    
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1363, in _create_direct_connection                                                                                       
               transp, proto = await self._wrap_create_connection(                                                                                                                                                                               
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                                                                                                               
             File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1124, in _wrap_create_connection                                                                                         
               raise client_error(req.connection_key, exc) from exc                                                                                                                                                                              
           aiohttp.client_exceptions.ClientConnectorError: Cannot connect to host localhost:11444 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11444, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11444)]  
                                                                                                                                                                                                                                                 
           Received Model Group=ollama/llama3.1                                                                                                                                                                                                  
           Available Model Group Fallbacks=None LiteLLM Retried: 2 times, LiteLLM Max Retries: 3                                                                                                                                                 
[22:52:11] Answer:                                                                                                                                                                                                                               

[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.


[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.

Error processing question 38: litellm.APIConnectionError: Cannot connect to host localhost:11444 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11444, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11444)]
Traceback (most recent call last):
  File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1109, in _wrap_create_connection
    sock = await aiohappyeyeballs.start_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohappyeyeballs/impl.py", line 123, in start_connection
    raise OSError(first_errno, msg)
ConnectionRefusedError: [Errno 111] Multiple exceptions: [Errno 111] Connect call failed ('::1', 11444, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11444)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/main.py", line 477, in acompletion
    response = await init_response
               ^^^^^^^^^^^^^^^^^^^
  File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py", line 564, in ollama_acompletion
    raise e  # don't use verbose_logger.exception, if exception is raised
    ^^^^^^^
  File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/litellm/llms/ollama.py", line 505, in ollama_acompletion
    resp = await session.post(url, json=data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/client.py", line 696, in _request
    conn = await self._connector.connect(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 544, in connect
    proto = await self._create_connection(req, traces, timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1050, in _create_connection
    _, proto = await self._create_direct_connection(req, traces, timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1394, in _create_direct_connection
    raise last_exc
  File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1363, in _create_direct_connection
    transp, proto = await self._wrap_create_connection(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hice1/lpimentel3/miniconda3/envs/cRAG/lib/python3.11/site-packages/aiohttp/connector.py", line 1124, in _wrap_create_connection
    raise client_error(req.connection_key, exc) from exc
aiohttp.client_exceptions.ClientConnectorError: Cannot connect to host localhost:11444 ssl:default [Multiple exceptions: [Errno 111] Connect call failed ('::1', 11444, 0, 0), [Errno 111] Connect call failed ('127.0.0.1', 11444)]

Received Model Group=ollama/llama3.1
Available Model Group Fallbacks=None LiteLLM Retried: 2 times, LiteLLM Max Retries: 3
Processing question 39


 ANSWERING QUESTION: 39
 ----------------------------- 



[1;31mGive Feedback / Get Help: https://github.com/BerriAI/litellm/issues/new[0m
LiteLLM.Info: If you need to debug this error, use `litellm.set_verbose=True'.

[22:52:50] Starting paper search for 'fluoroquinone-resistant clinical E.coli samples SNIPR001 phage therapy panel size'.                                                                                                                        
           paper_search for query 'fluoroquinone-resistant clinical E.coli samples SNIPR001 phage therapy panel size' and offset 0 returned 7 papers.                                                                                            
           Status: Paper Count=7 | Relevant Papers=0 | Current Evidence=0 | Current Cost=$0.0000                                                                                                                                                 
[22:52:51] Generating answer for 'How large was the panel of fluoroquinone-resistant clinical E.coli samples that was used to evaluate the SNIPR001 phage therapy?'.                                                                             
[22:52:59] Status: Paper Count=7 | Relevant Papers=1 | Current Evidence=4 | Current Cost=$0.0000                                                                                                                                                 
           Answer: The size of the panel used to evaluate the SNIPR001 phage therapy against fluoroquinone-resistant E.coli strains is 72.                                                                                                       
                                                                                                                                                                                                                                                 
           My reasoning process involved examining each relevant snippet from Yilmaz2024. The correct answer can be derived by noting that the snippets describe a panel of clinical isolates, but only one specifically mentions a panel used to
           evaluate SNIPR001 phage therapy against fluoroquinone-resistant E.coli strains (Snippet 2). This specific panel is stated to comprise 72 strains.                                                                                     
                                                                                                                                                                                                                                                 
           ANSWER SUMMARY: The answer is C) 72, based on the description in Yilmaz2024 pages 6-6.                                                                                                                                                
Evaluator LLM:  The correct answer is C) 72.
Q: How large was the panel of fluoroquinone-resistant clinical E.coli samples that was used to evaluate the SNIPR001 phage therapy?

Options:
A) 169
B) 246
C) 72
D) Insufficient information to answer this question
E) 115
F) 382
G) 12
H) 45
LLM Response:  T 1
Error processing question 39: 'tuple' object has no attribute 'session'
Processing question 43


 ANSWERING QUESTION: 43
 ----------------------------- 


[22:53:00] Starting paper search for 'adenosine deaminases structure-based clustering clades'.                                                                                                                                                   
           paper_search for query 'adenosine deaminases structure-based clustering clades' and offset 0 returned 8 papers.                                                                                                                       
           Status: Paper Count=8 | Relevant Papers=0 | Current Evidence=0 | Current Cost=$0.0000                                                                                                                                                 

Process interrupted by user. Saving progress...
